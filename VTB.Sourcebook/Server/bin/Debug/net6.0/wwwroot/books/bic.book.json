{
    "name": "bic",
    "title": "Справочник БИК",
    "filters": [
        { "field": "bic", "editor": "Text", "title": "БИК" },
        { "field": "participant_name", "editor": "Text", "title": "Участник" },
        { "field": "is_active", "editor": "Boolean", "title": "Активен" },
        { "field": "country_code", "editor": "List", "list": "countries", "title": "Страна" },
        { "field": "country_code", "editor": "List", "list": "countries2", "title": "Страна 2" }
    ],
    "columns": [
        { "title": "БИК", "value": "{bic}", "sortBy": "bic" },
        { "title": "Активен", "value": "<span class='oi bool{is_active}'></span>", "sortBy": "is_active", "hints": "AlignCenter" },
        { "title": "БИК (2)", "value": "<a href='Redirect/bic/?bic={accbic}'>{bic}</a>", "sortBy": "accbic", "hints": "AlignRight" },
        { "title": "Дата", "value": "{business_day:dd/MM/yyyy}", "sortBy": "business_day" },
        { "title": "Участник", "value": "{participant_name}", "sortBy": "participant_name", "hints_": "Hidden" },
        { "title": "Тип участника", "value": "{participant_type}", "sortBy": "participant_type" },
        { "title": "Регул.", "value": "{regulation_type}", "sortBy": "regulation_type" },
        { "title": "Страна", "value": "{country_code}", "sortBy": "country_code" },
        { "title": "Счёт", "value": "{account}", "sortBy": "account" }
    ],
    "fields": [
        { "name": "public.nsi_bic.bic" },
        { "name": "a.is_active" },
        { "name": "a.bic", "alias": "accbic" },
        { "name": "a.business_day" },
        { "name": "a.participant_name" },
        { "name": "a.participant_type" },
        { "name": "b.regulation_type" },
        { "name": "a.country_code" },
        { "name": "b.account" }
    ],
    "tables": [
        {
            "name": "public.nsi_bic",
            "key": "bic",
            "alias": "a"
        },
        {
            "name": "public.nsi_bic_account",
            "alias": "b",
            "key": "bic",
            "relation": "public.nsi_bic"
        }
    ],
    "condition_": "business_day != null && participant_name like 'A%'",
    "lists": [
        {
            "name": "countries",
            "valueType": "String",
            "values": [
                { "text": "RUS", "value": "RUS" },
                { "text": "JAP", "value": "JAP" },
                { "text": "CHI", "value": "CHI" },
                { "text": "BEL", "value": "BEL" }
            ]
        },
        {
            "name": "countries2",
            "valueType": "String",
            "source": {
                "fields": [
                    { "name": "a.country_code", "alias": "text" },
                    { "name": "a.country_code", "alias": "value" }
                ],
                "tables": [
                    {
                        "name": "public.nsi_bic",
                        "alias": "a"
                    }
                ],
                "distinct": true,
                "sortBy": "text",
                "condition": "value != null"
            }
        }
    ]
}
