{"version":3,"file":"ui-kit3.cjs.js","sources":["../src/components/themes/light/color.ts","../src/components/themes/light/shadow.tsx","../src/components/themes/common/zIndex.ts","../src/components/themes/light/index.ts","../src/components/themes/dark/color.ts","../src/components/themes/dark/shadow.tsx","../src/components/themes/dark/index.ts","../src/components/Typography/typography.ts","../src/components/Typography/text.ts","../src/components/common/uid.ts","../src/components/common/keyboardKey.js","../src/components/Accordion/Collapse.tsx","../src/components/Accordion/utils.ts","../src/components/Accordion/index.tsx","../src/components/Badge/index.tsx","../src/components/Calendar/constants.ts","../src/components/Calendar/date-utils.ts","../src/components/Calendar/validator.ts","../src/components/Calendar/styled/YearComponent.ts","../src/components/Calendar/components/Years.tsx","../src/components/Calendar/styled/PanelButton.ts","../src/components/Calendar/components/Button.tsx","../src/components/Calendar/styled/DayComponent.ts","../src/components/Calendar/components/Day.tsx","../src/components/Calendar/styled/DayNameComponent.ts","../src/components/Calendar/components/DayNames.tsx","../src/components/Calendar/styled/WeekComponent.ts","../src/components/Calendar/components/Week.tsx","../src/components/Calendar/components/Month.tsx","../src/components/Calendar/styled/MonthComponent.ts","../src/components/Calendar/components/Months.tsx","../src/components/Calendar/styled/PanelComponent.ts","../src/components/Calendar/styled/PanelDate.ts","../src/components/common/utils/handleRef.ts","../src/components/common/utils/getScrollableParents.ts","../src/components/common/observeRect.ts","../src/components/PositionInPortal.tsx","../src/components/Tooltip/style.ts","../src/components/Tooltip/utils.ts","../src/components/Tooltip/index.tsx","../src/components/Calendar/components/Panel.tsx","../src/components/Calendar/styled/CalendarComponent.ts","../src/components/Calendar/index.tsx","../src/components/RadioButton/style.ts","../src/components/RadioButton/index.tsx","../src/components/Link/index.tsx","../src/components/Button/appearanceMixin/primaryAppearanceMixin.ts","../src/components/Button/appearanceMixin/secondaryAppearanceMixin.ts","../src/components/Button/appearanceMixin/ghostAppearanceMixin.ts","../src/components/Button/appearanceMixin/whiteAppearanceMixin.ts","../src/components/Button/appearanceMixin/dangerAppearanceMixin.ts","../src/components/Button/appearanceMixin/successAppearanceMixin.ts","../src/components/Button/appearanceMixin/index.ts","../src/components/Button/dimensionMixin.ts","../src/components/common/defaultTheme.ts","../src/components/Spinner/index.tsx","../src/components/Button/index.tsx","../src/components/ButtonGroup/ButtonGroupItem.tsx","../src/components/ButtonGroup/ButtonGroupComponent.ts","../src/components/ButtonGroup/utils.ts","../src/components/ButtonGroup/index.tsx","../src/components/Checkbox/index.tsx","../src/components/common/utils/refSetter.ts","../src/components/input/TextArea/CharacterCounter.tsx","../src/components/Label/index.tsx","../src/components/Field/index.tsx","../src/components/common/dom/changeInputData.ts","../src/components/input/Container.tsx","../src/components/input/StatusIcon.tsx","../src/components/input/TextInput/index.tsx","../src/components/common/utils/splice.ts","../src/components/input/DateInput/defaultDateInputHandle.ts","../src/components/common/hooks/useClickOutside.ts","../src/components/common/hooks/useInterval.ts","../src/components/Dropdown/utils.ts","../src/components/Dropdown/index.tsx","../src/components/input/DateInput/isValidDate.ts","../src/components/input/DateInput/parseStringToDate.ts","../src/components/input/DateInput/defaultParser.ts","../src/components/input/DateInput/defaultDateRangeInputHandle.ts","../src/components/input/DateInput/index.tsx","../src/components/input/SuggestInput/MessagePanel.tsx","../src/components/input/SuggestInput/SuggestPanel.tsx","../src/components/input/SuggestInput/index.tsx","../src/components/OpenStatusButton.tsx","../src/components/input/SearchSelect/useSearchSelectContext.tsx","../src/components/Chips/style.ts","../src/components/Chips/index.tsx","../src/components/Hint/style.ts","../src/components/Hint/utils.ts","../src/components/common/utils/getKeyboardFocusableElements.ts","../src/components/common/utils/throttle.ts","../src/components/Hint/HintContainer.tsx","../src/components/Hint/reducer.ts","../src/components/Hint/index.tsx","../src/components/input/SearchSelect/constants.ts","../src/components/input/SearchSelect/utils.ts","../src/components/input/SearchSelect/MultipleSelectChips.tsx","../src/components/input/SearchSelect/styled.ts","../src/components/input/SearchSelect/Highlight.tsx","../src/components/input/SearchSelect/Option.tsx","../src/components/input/SearchSelect/OptionGroup.tsx","../src/components/input/SearchSelect/index.tsx","../src/components/input/types.ts","../src/components/input/TextArea/index.tsx","../src/components/input/TimeInput/defaultTimeInputHandle.ts","../src/components/input/TimeInput/Slot.tsx","../src/components/input/TimeInput/utils.ts","../src/components/input/TimeInput/index.tsx","../src/components/Slider/utils.ts","../src/components/Slider/style.ts","../src/components/input/NumberInput/utils.ts","../src/components/input/NumberInput/index.tsx","../src/components/Slider/TickMarks.tsx","../src/components/Slider/index.tsx","../src/components/input/SliderInput/index.tsx","../src/components/input/FileUploader/ErrorBlock.tsx","../src/components/input/FileUploader/utils.ts","../src/components/input/FileUploader/FileInfo.tsx","../src/components/input/FileUploader/index.tsx","../src/components/Range/utils.ts","../src/components/Range/style.ts","../src/components/Range/index.tsx","../src/components/input/SliderRange/index.tsx","../src/components/input/EditMode/index.tsx","../src/components/input/PhoneNumberInput/constants.ts","../src/components/input/PhoneNumberInput/Flag.tsx","../src/components/input/PhoneNumberInput/defaultPhoneNumberInputHandle.ts","../src/components/input/PhoneNumberInput/CountryBlock.tsx","../src/components/input/PhoneNumberInput/CountriesList.tsx","../src/components/input/PhoneNumberInput/iconsPack.ts","../src/components/input/PhoneNumberInput/findCoutryWithPriority.ts","../src/components/input/PhoneNumberInput/index.tsx","../src/components/form/InputField/index.tsx","../src/components/form/CheckboxField/index.tsx","../src/components/form/DateField/index.tsx","../src/components/Select/index.tsx","../src/components/form/SelectField/index.tsx","../src/components/form/FieldSet/index.tsx","../src/components/form/SuggestField/index.tsx","../src/components/form/TextField/index.tsx","../src/components/MultiSelect/index.tsx","../src/components/form/MultiSelectField/index.tsx","../src/components/form/SliderInputField/index.tsx","../src/components/form/SliderRangeField/index.tsx","../src/components/form/TimeField/index.tsx","../src/components/form/NumberInputField/index.tsx","../src/components/form/SearchSelectField/index.tsx","../src/components/form/EditModeField/index.tsx","../src/components/form/PhoneInputField/index.tsx","../src/components/CheckboxGroup/mixins.ts","../src/components/CheckboxGroup/CheckboxWrapper.ts","../src/components/CheckboxGroup/index.tsx","../src/components/CheckboxCompositeGroup/CompositeWrapper.ts","../src/components/CheckboxCompositeGroup/index.tsx","../src/components/DropDownMenu/index.tsx","../src/components/DropDownItem/mixins.ts","../src/components/DropDownItem/index.tsx","../src/components/Tag/index.tsx","../src/components/Tags/index.tsx","../src/components/Toggle/mixins.ts","../src/components/Toggle/index.tsx","../src/components/skeleton/PseudoText.ts","../src/components/skeleton/PseudoIcon.ts","../src/components/MenuButton/index.tsx","../src/components/OverflowMenu/Button.tsx","../src/components/OverflowMenu/index.tsx","../src/components/ProgressPage/index.tsx","../src/components/ProgressHeader/index.tsx","../src/components/ProgressStepper/utils.ts","../src/components/ProgressStepper/index.tsx","../src/components/common/utils/hexToRgba.ts","../src/components/Modal/utils.ts","../src/components/Modal/manager.ts","../src/components/Modal/index.tsx","../src/components/TabMenu/constants.ts","../src/components/TabOverflowMenu/Item.tsx","../src/components/TabOverflowMenu/Buton.tsx","../src/components/TabOverflowMenu/index.tsx","../src/components/TabMenu/style.ts","../src/components/TabMenu/measureTab.tsx","../src/components/TabMenu/index.tsx","../src/components/MultiButton/index.tsx","../src/components/Notification/index.tsx","../src/components/Toast/ToastProvider.tsx","../src/components/Toast/useToast.tsx","../src/components/Toast/AnimationToast.tsx","../src/components/Toast/index.tsx","../src/components/Stepper/StepperContext.ts","../src/components/Stepper/style.ts","../src/components/Stepper/StepContent.tsx","../src/components/Stepper/Step.tsx","../src/components/Stepper/index.tsx","../src/components/PaginationOne/PaginationButton.tsx","../src/components/PaginationOne/Menu.tsx","../src/components/PaginationOne/index.tsx","../src/components/PaginationSimple/index.tsx","../src/components/T/index.ts","../src/components/IconButton/index.tsx","../src/components/PaginationTwo/Items.tsx","../src/components/PaginationTwo/utils.ts","../src/components/PaginationTwo/index.tsx","../src/components/Avatar/useLoaded.ts","../src/components/Avatar/Avatar_SVG.tsx","../src/components/Avatar/index.tsx","../src/components/AvatarGroup/Menu.tsx","../src/components/AvatarGroup/index.tsx","../src/components/Breadcrumbs/style.ts","../src/components/Breadcrumbs/InverseTooltip.tsx","../src/components/Breadcrumbs/BreadCrumb.tsx","../src/components/Breadcrumbs/utils.tsx","../src/components/Breadcrumbs/Menu.tsx","../src/components/Breadcrumbs/index.tsx","../src/components/StatusIndicator/index.tsx","../src/components/TextButton/index.tsx","../src/components/SelectTree/SelectTreeNode.tsx","../src/components/SelectTree/utils.ts","../src/components/SelectTree/index.tsx","../src/components/Table/RowWidthResizer.tsx","../src/components/Table/filter/Button.tsx","../src/components/Table/filter/Filter.tsx","../src/components/Table/scrollbarUtil.ts","../src/components/Table/mixins.ts","../src/components/Table/style.ts","../src/components/Table/VirtualBody.tsx","../src/components/Table/OverflowMenu.tsx","../src/components/Table/index.tsx","../src/components/FontsVTBGroup.tsx"],"sourcesContent":["import type { Background, Basic, Color, Special, SpecialInvert, Status, Text } from '../common';\n\nconst BASIC: Basic = {\n  primary: '#0D69F2',\n  secondary: '#2B313B',\n  tertiary: '#8A96A8',\n  hover: '#0A54C2',\n  press: '#0949AA',\n  disable: '#C4CAD4',\n  primaryLight: '#6EA5F7',\n} as const;\n\nconst BACKGROUND: Background = {\n  primary: '#FFFFFF',\n  secondary: '#F1F2F4',\n  tertiary: '#E2E5E9', // Neutral/Neutral 10\n  tertiaryHover: '#D3D8DE',\n  card: '#FFFFFF',\n  cardHover: '#FFFFFF',\n  inversion: '#2B313B',\n  shadow: '#8A96A8',\n  header: '#0949AA',\n  surfaceDanger: '#FEF0F1',\n  surfaceWarn: '#FFF7F0',\n  surfaceSuccess: '#F2FCF5',\n  page: '#F1F2F4',\n} as const;\n\nconst TEXT: Text = {\n  primary: '#2B313B',\n  secondary: '#626F84',\n  tertiary: '#A7B0BE',\n  inversion: '#FFFFFF',\n  staticWhite: '#FFFFFF',\n  staticBlack: '#2B313B',\n} as const;\n\nconst STATUS: Status = {\n  warn: '#FF8C19',\n  hoverWarn: '#E57300',\n  pressWarn: '#CC6600',\n  success: '#2ABB5B',\n  hoverSuccess: '#219246',\n  pressSuccess: '#1C7D3C',\n  danger: '#DA0B20',\n  hoverDanger: '#A90919',\n  pressDanger: '#910815',\n} as const;\n\nconst SPECIAL: Special = {\n  blueLight: '#0ABBFB',\n  lightBlue: '#0ABBFB',\n  blue: '#3F7DFE',\n  blueDeep: '#3E51B5',\n  greenLight: '#C0D20F',\n  green: '#5ECF70',\n  greenDeep: '#44BF78',\n  tiffany: '#5BD8D1',\n  tiffanyDeep: '#24A79F',\n  tiffanyDark: '#147F94',\n  tiffanyBlue: '#00BCD4',\n  yellow: '#F0DE37',\n  orangeLight: '#FFAF37',\n  orange: '#FF8515',\n  orangeDeep: '#FF5A32',\n  violetLight: '#ED6CCD',\n  violet: '#C368DA',\n  violetDeep: '#9A64F7',\n  fuchsia: '#F86D86',\n  fuchsiaDeep: '#D9477C',\n  rainySky: '#62676F',\n  night: '#2B313B',\n  gray: '#98ABCD',\n  softBlue: '#E0F2FF',\n  softNiceBlue: '#E0E9FF',\n  softSkyBlue: '#E2F4FE',\n  softTiffany: '#DBF8FF',\n  softGreen: '#D8F5E8',\n  softYellow: '#FFF1D4',\n  softPapaya: '#F9EECF',\n  softRed: '#FFEBED',\n  softPink: '#FFEBF8',\n  softPurple: '#EDF1FF',\n  softMallowPurple: '#E8E6FF',\n  softGray: '#F1F2F4',\n  softLightBlue: '#E6F8FF',\n  turquoise: '#4AD2CA',\n  softTurquoise: '#EAFAF9',\n  red: '#FF525C',\n  magenta: '#E052BD',\n  softMagenta: '#FBE9F7',\n  purple: '#BF67C7',\n  softViolet: '#F0E7FD',\n  blueDark: '#001157',\n} as const;\n\nconst SPECIAL_INVERT: SpecialInvert = {\n  blueLight: '#0ABBFB',\n  blue: '#3F7DFE',\n  blueDeep: '#3E51B5',\n  greenLight: '#C0D20F',\n  green: '#5ECF70',\n  greenDeep: '#44BF78',\n  tiffany: '#5BD8D1',\n  tiffanyDeep: '#24A79F',\n  tiffanyDark: '#147F94',\n  tiffanyBlue: '#00BCD4',\n  yellow: '#F0DE37',\n  orangeLight: '#FFAF37',\n  orange: '#FF8515',\n  orangeDeep: '#FF5A32',\n  violetLight: '#ED6CCD',\n  violet: '#C368DA',\n  violetDeep: '#9A64F7',\n  fuchsia: '#F86D86',\n  fuchsiaDeep: '#D9477C',\n  rainySky: '#62676F',\n  gray: '#98ABCD',\n  blueDark: '#001157',\n  softBlue: '#E0F2FF',\n  softNiceBlue: '#E0E9FF',\n  softSkyBlue: '#E2F4FE',\n  softTiffany: '#DBF8FF',\n  softGreen: '#D8F5E8',\n  softYellow: '#FFF1D4',\n  softPapaya: '#F9EECF',\n  softRed: '#FFEBED',\n  softPink: '#FFEBF8',\n  softPurple: '#EDF1FF',\n  softMallowPurple: '#E8E6FF',\n  softGray: '#F1F2F4',\n} as const;\n\nexport const COLOR: Color = {\n  basic: BASIC,\n  background: BACKGROUND,\n  text: TEXT,\n  status: STATUS,\n  special: SPECIAL,\n  specialInvert: SPECIAL_INVERT,\n} as const;\n","import type { Shadow } from '#ui-kit3/components/themes/common';\n\nexport const shadow = {\n  ClickableActive: `\n  box-shadow: 0 2px 4px rgba(138, 150, 168, 0.4), 0px -2px 2px rgba(138, 150, 168, 0.08);\n`,\n  ClickableDefault: `\n  box-shadow: 0 4px 8px rgba(138, 150, 168, 0.4), 0px -2px 4px rgba(138, 150, 168, 0.08);\n`,\n  ClickableHover: `\n  box-shadow: 0 8px 16px rgba(138, 150, 168, 0.4), 0px -2px 8px rgba(138, 150, 168, 0.08);\n`,\n  NonClickable: `\n  box-shadow: 0 4px 16px rgba(138, 150, 168, 0.4), 0 0 6px rgba(138, 150, 168, 0.08);\n`,\n} as Shadow;\n","export interface ZIndex {\n  spinner: number;\n  tooltip: number;\n  notification: number;\n  hint: number;\n  modal: number;\n  dropdown: number;\n}\n\nconst Z_INDEX_BASE_NUMBER = 100;\n\nexport const zIndex = {\n  spinner: Z_INDEX_BASE_NUMBER,\n  tooltip: Z_INDEX_BASE_NUMBER,\n  notification: Z_INDEX_BASE_NUMBER - 1,\n  hint: Z_INDEX_BASE_NUMBER - 2,\n  dropdown: Z_INDEX_BASE_NUMBER - 3,\n  modal: Z_INDEX_BASE_NUMBER - 4,\n} as ZIndex;\n","import type { Theme } from '../common';\nimport { COLOR as color } from './color';\nimport { shadow } from './shadow';\nimport { zIndex } from '../common/zIndex';\n\nexport const LIGHT_THEME = {\n  color,\n  shadow,\n  zIndex,\n  name: 'light',\n} as Theme;\n","import type { Background, Basic, Color, Special, SpecialInvert, Status, Text } from '../common';\n\nconst BASIC: Basic = {\n  primary: '#4789EB',\n  secondary: '#E2E5E9',\n  tertiary: '#576375',\n  hover: '#1A6BE5',\n  press: '#1760CF',\n  disable: '#414A58',\n  primaryLight: '#75A6F0',\n};\n\nconst BACKGROUND: Background = {\n  primary: '#1A1E23',\n  secondary: '#252A32',\n  tertiary: '#2B313B',\n  tertiaryHover: '#323943',\n  card: '#21252C',\n  cardHover: '#2B313B',\n  inversion: '#E2E5E9',\n  shadow: '#000000',\n  header: '#2B313B',\n  surfaceDanger: '#252A32',\n  surfaceWarn: '#252A32',\n  surfaceSuccess: '#252A32',\n  page: '#0D0F12',\n};\n\nconst TEXT: Text = {\n  primary: '#E2E5E9',\n  secondary: '#8A96A8',\n  tertiary: '#4C5767',\n  inversion: '#1A1E23',\n  staticWhite: '#FFFFFF',\n  staticBlack: '#2B313B',\n};\n\nconst STATUS: Status = {\n  warn: '#FF9F19',\n  hoverWarn: '#E58600',\n  pressWarn: '#CC7700',\n  success: '#4AB56E',\n  hoverSuccess: '#339956',\n  pressSuccess: '#2D864B',\n  danger: '#E15664',\n  hoverDanger: '#CC3342',\n  pressDanger: '#B82E3C',\n};\n\nconst SPECIAL: Special = {\n  blueLight: '#0ABBFB',\n  lightBlue: '#0ABBFB',\n  blue: '#3F7DFE',\n  blueDeep: '#3E51B5',\n  greenLight: '#C0D20F',\n  green: '#5ECF70',\n  greenDeep: '#44BF78',\n  tiffany: '#5BD8D1',\n  tiffanyDeep: '#24A79F',\n  tiffanyDark: '#147F94',\n  tiffanyBlue: '#00BCD4',\n  yellow: '#F0DE37',\n  orangeLight: '#FFAF37',\n  orange: '#FF8515',\n  orangeDeep: '#FF5A32',\n  violetLight: '#ED6CCD',\n  violet: '#C368DA',\n  violetDeep: '#9A64F7',\n  fuchsia: '#F86D86',\n  fuchsiaDeep: '#D9477C',\n  rainySky: '#62676F',\n  night: '#2B313B',\n  gray: '#98ABCD',\n  softBlue: '#E0F2FF',\n  softNiceBlue: '#E0E9FF',\n  softSkyBlue: '#E2F4FE',\n  softTiffany: '#DBF8FF',\n  softGreen: '#D8F5E8',\n  softYellow: '#FFF1D4',\n  softPapaya: '#F9EECF',\n  softRed: '#FFEBED',\n  softPink: '#FFEBF8',\n  softPurple: '#EDF1FF',\n  softMallowPurple: '#E8E6FF',\n  softGray: '#F1F2F4',\n  softLightBlue: '#2B313B',\n  turquoise: '#4AD2CA',\n  softTurquoise: '#2B313B',\n  red: '#FF525C',\n  magenta: '#E052BD',\n  softMagenta: '#2B313B',\n  purple: '#BF67C7',\n  softViolet: '#2B313B',\n  blueDark: '#252A32',\n} as const;\n\nconst SPECIAL_INVERT: SpecialInvert = {\n  blueLight: '#2B313B',\n  blue: '#2B313B',\n  blueDeep: '#2B313B',\n  greenLight: '#2B313B',\n  green: '#2B313B',\n  greenDeep: '#2B313B',\n  tiffany: '#2B313B',\n  tiffanyDeep: '#2B313B',\n  tiffanyDark: '#2B313B',\n  tiffanyBlue: '#2B313B',\n  yellow: '#2B313B',\n  orangeLight: '#2B313B',\n  orange: '#2B313B',\n  orangeDeep: '#2B313B',\n  violetLight: '#2B313B',\n  violet: '#2B313B',\n  violetDeep: '#2B313B',\n  fuchsia: '#2B313B',\n  fuchsiaDeep: '#2B313B',\n  rainySky: '#2B313B',\n  gray: '#2B313B',\n  blueDark: '#252A32',\n  softBlue: '#2B313B',\n  softNiceBlue: '#2B313B',\n  softSkyBlue: '#2B313B',\n  softTiffany: '#2B313B',\n  softGreen: '#2B313B',\n  softYellow: '#2B313B',\n  softPapaya: '#2B313B',\n  softRed: '#2B313B',\n  softPink: '#2B313B',\n  softPurple: '#2B313B',\n  softMallowPurple: '#2B313B',\n  softGray: '#2B313B',\n} as const;\n\nexport const COLOR: Color = {\n  basic: BASIC,\n  background: BACKGROUND,\n  text: TEXT,\n  status: STATUS,\n  special: SPECIAL,\n  specialInvert: SPECIAL_INVERT,\n};\n","import type { Shadow } from '#ui-kit3/components/themes/common';\n\nexport const shadow = {\n  ClickableActive: `\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.4), 0px -2px 2px rgba(0, 0, 0, 0.08);;\n`,\n  ClickableDefault: `\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.4), 0px -2px 4px rgba(0, 0, 0, 0.08);\n`,\n  ClickableHover: `\n  box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.4), 0px -2px 8px rgba(0, 0, 0, 0.08);\n`,\n  NonClickable: `\n  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.4), 0px 0px 6px rgba(0, 0, 0, 0.08);\n`,\n} as Shadow;\n","import type { Theme } from '../common';\nimport { COLOR as color } from './color';\nimport { shadow } from './shadow';\nimport { zIndex } from '../common/zIndex';\n\nexport const DARK_THEME: Theme = {\n  color,\n  shadow,\n  zIndex,\n  name: 'dark',\n};\n","import { css } from 'styled-components';\n\nconst FONT_FAMILY = `'VTB Group UI', sans-serif`;\n\ntype FontSize = {\n  12: string;\n  14: string;\n  16: string;\n  18: string;\n  22: string;\n  28: string;\n  32: string;\n  36: string;\n  42: string;\n};\n\nconst FONT_SIZE: FontSize = {\n  12: '12px',\n  14: '14px',\n  16: '16px',\n  18: '18px',\n  22: '22px',\n  28: '28px',\n  32: '32px',\n  36: '36px',\n  42: '42px',\n};\n\ntype FontWeight = {\n  normal: number;\n  medium: number;\n  bold: number;\n};\n\nconst FONT_WEIGHT: FontWeight = {\n  normal: 400,\n  medium: 500,\n  bold: 600,\n};\n\ntype LineHeight = {\n  16: string;\n  20: string;\n  24: string;\n  28: string;\n  36: string;\n  40: string;\n  44: string;\n  52: string;\n};\n\nconst LINE_HEIGHT: LineHeight = {\n  16: '16px',\n  20: '20px',\n  24: '24px',\n  28: '28px',\n  36: '36px',\n  40: '40px',\n  44: '44px',\n  52: '52px',\n};\n\nexport type Typography = {\n  fontFamily: string;\n  fontSize: FontSize;\n  fontWeight: FontWeight;\n  lineHeight: LineHeight;\n};\n\nexport const TYPOGRAPHY: Typography = {\n  fontFamily: FONT_FAMILY,\n  fontSize: FONT_SIZE,\n  fontWeight: FONT_WEIGHT,\n  lineHeight: LINE_HEIGHT,\n};\n\nexport const typography = {\n  /**\n   * @deprecated Используйте шрифт 'Header/H3'\n   */\n  'Main/XXL': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 42px;\n    line-height: 52px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Header/H1'\n   */\n  'Main/XL': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 36px;\n    line-height: 44px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Header/H2'\n   */\n  'Main/L': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 32px;\n    line-height: 40px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Header/H3'\n   */\n  'Main/M': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 36px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Header/H5'\n   */\n  'Main/S': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 22px;\n    line-height: 28px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Header/H6'\n   */\n  'Main/XS-bold': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 24px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Subtitle/Subtitle 1'\n   */\n  'Main/XS': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 18px;\n    line-height: 24px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Subtitle/Subtitle 2'\n   */\n  'Additional/L-bold': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 24px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Body/Body 1 Long'\n   */\n  'Additional/L': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 24px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Body/Body 1 Short'\n   */\n  'Additional/M': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 20px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Body/Body 2 Long'\n   */\n  'Additional/S': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 20px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Subtitle/Subtitle 3'\n   */\n  'Additional/S-bold': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Body/Body 2 Short'\n   */\n  'Additional/XS': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Button/Button 1'\n   */\n  'Button/M': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 24px;\n    /* or 150% */\n\n    font-feature-settings: 'tnum' on, 'lnum' on;\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Button/Button 2'\n   */\n  'Button/S': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    /* or 143% */\n\n    font-feature-settings: 'tnum' on, 'lnum' on;\n  `,\n\n  /**\n   * @deprecated Используйте шрифт 'Caption/Caption 1'\n   */\n  'Caption/XS': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 12px;\n    line-height: 16px;\n    /* identical to box height, or 133% */\n\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/HL1': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 72px;\n    line-height: 80px;\n    /* or 111% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/HL2': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 56px;\n    line-height: 64px;\n    /* or 114% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/HL3': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 48px;\n    line-height: 56px;\n    /* or 117% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/H1': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 40px;\n    line-height: 48px;\n    /* or 120% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/H2': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 34px;\n    line-height: 40px;\n    /* or 118% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/H3': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 36px;\n    /* or 129% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/H4': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 32px;\n    /* or 133% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/H5': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 28px;\n    /* or 140% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Header/H6': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 24px;\n    /* or 133% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Subtitle/Subtitle 1': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 18px;\n    line-height: 24px;\n    /* or 133% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Subtitle/Subtitle 2': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 24px;\n    /* or 150% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Subtitle/Subtitle 3': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    /* or 143% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Body/Body 1 Long': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 24px;\n    /* or 150% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Body/Body 1 Short': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 20px;\n    /* or 125% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Body/Body 2 Long': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 20px;\n    /* or 133% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Body/Body 2 Short': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    /* or 114% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Button/Button 1': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 24px;\n    /* or 150% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Button/Button 2': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    /* or 143% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n\n  'Caption/Caption 1': css`\n    font-family: ${FONT_FAMILY};\n    font-style: normal;\n    font-weight: normal;\n    font-size: 12px;\n    line-height: 16px;\n    /* identical to box height, or 133% */\n    font-feature-settings: 'tnum' on, 'lnum' on;\n    color: ${(p) => p.theme.color.text.primary};\n  `,\n} as const;\n","import styled, { css } from 'styled-components';\n\nimport type { Typography } from './typography';\nimport { TYPOGRAPHY } from './typography';\n\ntype TextProps = {\n  color?: string;\n};\n\nexport const getTextStyle = ({\n  color,\n  fontSize,\n  fontWeight,\n  lineHeight,\n}: {\n  color?: string;\n  fontSize: keyof Typography['fontSize'];\n  fontWeight: keyof Typography['fontWeight'];\n  lineHeight: keyof Typography['lineHeight'];\n}) => css`\n  color: ${color || 'inherit'};\n  font-family: ${TYPOGRAPHY.fontFamily};\n  font-size: ${TYPOGRAPHY.fontSize[fontSize]};\n  font-weight: ${TYPOGRAPHY.fontWeight[fontWeight]};\n  line-height: ${TYPOGRAPHY.lineHeight[lineHeight]};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/XXL'/> instead\n */\nexport const Main_XXL = styled.div<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 42, fontWeight: 'bold', lineHeight: 52 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/XX'/> instead\n */\nexport const Main_XL = styled.div<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 36, fontWeight: 'bold', lineHeight: 44 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/L'/> instead\n */\nexport const Main_L = styled.h1<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 32, fontWeight: 'bold', lineHeight: 40 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/M'/> instead\n */\nexport const Main_M = styled.h2<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 28, fontWeight: 'bold', lineHeight: 36 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/S'/> instead\n */\nexport const Main_S = styled.h3<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 22, fontWeight: 'bold', lineHeight: 28 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/XS-bold'/> instead\n */\nexport const Main_XS_bold = styled.h4<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 18, fontWeight: 'bold', lineHeight: 24 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Main/XS'/> instead\n */\nexport const Main_XS_normal = styled.h5<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 18,\n      fontWeight: 'normal',\n      lineHeight: 24,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Additional/L-bold'/> instead\n */\nexport const Additional_L_bold = styled.h6<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 16, fontWeight: 'bold', lineHeight: 24 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Additional/L'/> instead\n */\nexport const Additional_L_normal = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 16,\n      fontWeight: 'normal',\n      lineHeight: 24,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Additional/M'/> instead\n */\nexport const Additional_M_normal = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 16,\n      fontWeight: 'normal',\n      lineHeight: 20,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Additional/S-bold'/> instead\n */\nexport const Additional_S_bold = styled.div<TextProps>`\n  ${({ color }) => getTextStyle({ color, fontSize: 14, fontWeight: 'bold', lineHeight: 20 })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Additional/S'/> instead\n */\nexport const Additional_S_normal = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 14,\n      fontWeight: 'normal',\n      lineHeight: 20,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Additional/XS'/> instead\n */\nexport const Additional_XS_normal = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 14,\n      fontWeight: 'normal',\n      lineHeight: 16,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Button/M'/> instead\n */\nexport const Button_M = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 16,\n      fontWeight: 'medium',\n      lineHeight: 24,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Button/S'/> instead\n */\nexport const Button_S = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 14,\n      fontWeight: 'medium',\n      lineHeight: 20,\n    })};\n`;\n\n/**\n * @deprecated since version 0.0.35\n * Will be deleted in version 0.0.38\n *\n * use component <T font='Caption/XS'/> instead\n */\nexport const Caption_XS = styled.div<TextProps>`\n  ${({ color }) =>\n    getTextStyle({\n      color,\n      fontSize: 12,\n      fontWeight: 'normal',\n      lineHeight: 16,\n    })};\n`;\n","export function uid(): string {\n  return (performance.now().toString(36) + Math.random().toString(36)).replace(/\\./g, '');\n}\n","// https://github.com/levithomason/keyboard-key\n\nfunction isObject(val) {\n  return val !== null && !Array.isArray(val) && typeof val === 'object';\n}\n\nconst codes = {\n  // ----------------------------------------\n  // By Code\n  // ----------------------------------------\n  3: 'Cancel',\n  6: 'Help',\n  8: 'Backspace',\n  9: 'Tab',\n  12: 'Clear',\n  13: 'Enter',\n  16: 'Shift',\n  17: 'Control',\n  18: 'Alt',\n  19: 'Pause',\n  20: 'CapsLock',\n  27: 'Escape',\n  28: 'Convert',\n  29: 'NonConvert',\n  30: 'Accept',\n  31: 'ModeChange',\n  32: ' ',\n  33: 'PageUp',\n  34: 'PageDown',\n  35: 'End',\n  36: 'Home',\n  37: 'ArrowLeft',\n  38: 'ArrowUp',\n  39: 'ArrowRight',\n  40: 'ArrowDown',\n  41: 'Select',\n  42: 'Print',\n  43: 'Execute',\n  44: 'PrintScreen',\n  45: 'Insert',\n  46: 'Delete',\n  48: ['0', ')'],\n  49: ['1', '!'],\n  50: ['2', '@'],\n  51: ['3', '#'],\n  52: ['4', '$'],\n  53: ['5', '%'],\n  54: ['6', '^'],\n  55: ['7', '&'],\n  56: ['8', '*'],\n  57: ['9', '('],\n  91: 'OS',\n  93: 'ContextMenu',\n  144: 'NumLock',\n  145: 'ScrollLock',\n  181: 'VolumeMute',\n  182: 'VolumeDown',\n  183: 'VolumeUp',\n  186: [';', ':'],\n  187: ['=', '+'],\n  188: [',', '<'],\n  189: ['-', '_'],\n  190: ['.', '>'],\n  191: ['/', '?'],\n  192: ['`', '~'],\n  219: ['[', '{'],\n  220: ['\\\\', '|'],\n  221: [']', '}'],\n  222: [\"'\", '\"'],\n  224: 'Meta',\n  225: 'AltGraph',\n  246: 'Attn',\n  247: 'CrSel',\n  248: 'ExSel',\n  249: 'EraseEof',\n  250: 'Play',\n  251: 'ZoomOut',\n};\n\n// Function Keys (F1-24)\nfor (let i = 0; i < 24; i += 1) {\n  codes[112 + i] = 'F' + (i + 1);\n}\n\n// Alphabet (a-Z)\nfor (let j = 0; j < 26; j += 1) {\n  let n = j + 65;\n  codes[n] = [String.fromCharCode(n + 32), String.fromCharCode(n)];\n}\n\nconst keyboardKey = {\n  codes: codes,\n\n  /**\n   * Get the `keyCode` or `which` value from a keyboard event or `key` name.\n   * @param {string|object} eventOrKey A keyboard event-like object or `key` name.\n   * @param {string} [eventOrKey.key] If object, it must have one of these keys.\n   * @param {number} [eventOrKey.keyCode] If object, it must have one of these keys.\n   * @param {number} [eventOrKey.which] If object, it must have one of these keys.\n   * @returns {number|undefined}\n   */\n  getCode(eventOrKey) {\n    if (isObject(eventOrKey)) {\n      return eventOrKey.keyCode || eventOrKey.which || this[eventOrKey.key];\n    }\n    return this[eventOrKey];\n  },\n\n  /**\n   * Get the key name from a keyboard event, `keyCode`, or `which` value.\n   * @param {number|object} eventOrCode A keyboard event-like object or key code.\n   * @param {string} [eventOrCode.key] If object with a `key` name, it will be returned.\n   * @param {number} [eventOrCode.keyCode] If object, it must have one of these keys.\n   * @param {number} [eventOrCode.which] If object, it must have one of these keys.\n   * @param {boolean} [eventOrCode.shiftKey] If object, it must have one of these keys.\n   * @returns {string|undefined}\n   */\n  getKey(eventOrCode) {\n    const isEvent = isObject(eventOrCode);\n\n    // handle events with a `key` already defined\n    if (isEvent && eventOrCode.key) {\n      return eventOrCode.key;\n    }\n\n    let name = codes[isEvent ? eventOrCode.keyCode || eventOrCode.which : eventOrCode];\n\n    if (Array.isArray(name)) {\n      if (isEvent) {\n        name = name[eventOrCode.shiftKey ? 1 : 0];\n      } else {\n        name = name[0];\n      }\n    }\n\n    return name;\n  },\n\n  // ----------------------------------------\n  // By Name\n  // ----------------------------------------\n  // declare these manually for static analysis\n  Cancel: 3,\n  Help: 6,\n  Backspace: 8,\n  Tab: 9,\n  Clear: 12,\n  Enter: 13,\n  Shift: 16,\n  Control: 17,\n  Alt: 18,\n  Pause: 19,\n  CapsLock: 20,\n  Escape: 27,\n  Convert: 28,\n  NonConvert: 29,\n  Accept: 30,\n  ModeChange: 31,\n  ' ': 32,\n  PageUp: 33,\n  PageDown: 34,\n  End: 35,\n  Home: 36,\n  ArrowLeft: 37,\n  ArrowUp: 38,\n  ArrowRight: 39,\n  ArrowDown: 40,\n  Select: 41,\n  Print: 42,\n  Execute: 43,\n  PrintScreen: 44,\n  Insert: 45,\n  Delete: 46,\n  0: 48,\n  ')': 48,\n  1: 49,\n  '!': 49,\n  2: 50,\n  '@': 50,\n  3: 51,\n  '#': 51,\n  4: 52,\n  $: 52,\n  5: 53,\n  '%': 53,\n  6: 54,\n  '^': 54,\n  7: 55,\n  '&': 55,\n  8: 56,\n  '*': 56,\n  9: 57,\n  '(': 57,\n  a: 65,\n  A: 65,\n  b: 66,\n  B: 66,\n  c: 67,\n  C: 67,\n  d: 68,\n  D: 68,\n  e: 69,\n  E: 69,\n  f: 70,\n  F: 70,\n  g: 71,\n  G: 71,\n  h: 72,\n  H: 72,\n  i: 73,\n  I: 73,\n  j: 74,\n  J: 74,\n  k: 75,\n  K: 75,\n  l: 76,\n  L: 76,\n  m: 77,\n  M: 77,\n  n: 78,\n  N: 78,\n  o: 79,\n  O: 79,\n  p: 80,\n  P: 80,\n  q: 81,\n  Q: 81,\n  r: 82,\n  R: 82,\n  s: 83,\n  S: 83,\n  t: 84,\n  T: 84,\n  u: 85,\n  U: 85,\n  v: 86,\n  V: 86,\n  w: 87,\n  W: 87,\n  x: 88,\n  X: 88,\n  y: 89,\n  Y: 89,\n  z: 90,\n  Z: 90,\n  OS: 91,\n  ContextMenu: 93,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  F13: 124,\n  F14: 125,\n  F15: 126,\n  F16: 127,\n  F17: 128,\n  F18: 129,\n  F19: 130,\n  F20: 131,\n  F21: 132,\n  F22: 133,\n  F23: 134,\n  F24: 135,\n  NumLock: 144,\n  ScrollLock: 145,\n  VolumeMute: 181,\n  VolumeDown: 182,\n  VolumeUp: 183,\n  ';': 186,\n  ':': 186,\n  '=': 187,\n  '+': 187,\n  ',': 188,\n  '<': 188,\n  '-': 189,\n  _: 189,\n  '.': 190,\n  '>': 190,\n  '/': 191,\n  '?': 191,\n  '`': 192,\n  '~': 192,\n  '[': 219,\n  '{': 219,\n  '\\\\': 220,\n  '|': 220,\n  ']': 221,\n  '}': 221,\n  \"'\": 222,\n  '\"': 222,\n  Meta: 224,\n  AltGraph: 225,\n  Attn: 246,\n  CrSel: 247,\n  ExSel: 248,\n  EraseEof: 249,\n  Play: 250,\n  ZoomOut: 251,\n};\n\n// ----------------------------------------\n// By Alias\n// ----------------------------------------\n// provide dot-notation accessible keys for all key names\nkeyboardKey.Spacebar = keyboardKey[' '];\nkeyboardKey.Digit0 = keyboardKey['0'];\nkeyboardKey.Digit1 = keyboardKey['1'];\nkeyboardKey.Digit2 = keyboardKey['2'];\nkeyboardKey.Digit3 = keyboardKey['3'];\nkeyboardKey.Digit4 = keyboardKey['4'];\nkeyboardKey.Digit5 = keyboardKey['5'];\nkeyboardKey.Digit6 = keyboardKey['6'];\nkeyboardKey.Digit7 = keyboardKey['7'];\nkeyboardKey.Digit8 = keyboardKey['8'];\nkeyboardKey.Digit9 = keyboardKey['9'];\nkeyboardKey.Tilde = keyboardKey['~'];\nkeyboardKey.GraveAccent = keyboardKey['`'];\nkeyboardKey.ExclamationPoint = keyboardKey['!'];\nkeyboardKey.AtSign = keyboardKey['@'];\nkeyboardKey.PoundSign = keyboardKey['#'];\nkeyboardKey.PercentSign = keyboardKey['%'];\nkeyboardKey.Caret = keyboardKey['^'];\nkeyboardKey.Ampersand = keyboardKey['&'];\nkeyboardKey.PlusSign = keyboardKey['+'];\nkeyboardKey.MinusSign = keyboardKey['-'];\nkeyboardKey.EqualsSign = keyboardKey['='];\nkeyboardKey.DivisionSign = keyboardKey['/'];\nkeyboardKey.MultiplicationSign = keyboardKey['*'];\nkeyboardKey.Comma = keyboardKey[','];\nkeyboardKey.Decimal = keyboardKey['.'];\nkeyboardKey.Colon = keyboardKey[':'];\nkeyboardKey.Semicolon = keyboardKey[';'];\nkeyboardKey.Pipe = keyboardKey['|'];\nkeyboardKey.BackSlash = keyboardKey['\\\\'];\nkeyboardKey.QuestionMark = keyboardKey['?'];\nkeyboardKey.SingleQuote = keyboardKey[\"'\"];\nkeyboardKey.DoubleQuote = keyboardKey['\"'];\nkeyboardKey.LeftCurlyBrace = keyboardKey['{'];\nkeyboardKey.RightCurlyBrace = keyboardKey['}'];\nkeyboardKey.LeftParenthesis = keyboardKey['('];\nkeyboardKey.RightParenthesis = keyboardKey[')'];\nkeyboardKey.LeftAngleBracket = keyboardKey['<'];\nkeyboardKey.RightAngleBracket = keyboardKey['>'];\nkeyboardKey.LeftSquareBracket = keyboardKey['['];\nkeyboardKey.RightSquareBracket = keyboardKey[']'];\n\nexport { keyboardKey };\n","import styled from 'styled-components';\n\nexport interface CollapseProps {\n  opened?: boolean;\n\n  /**  Устанавливает максимальную высоту на которую открывается контент до появления вертикального скрола */\n  contentMaxHeight?: number | string;\n}\n\nexport const Collapse = styled.div<CollapseProps>`\n  overflow: hidden;\n  transition: max-height 250ms cubic-bezier(0.4, 0, 0.2, 1), visibility 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  max-height: ${(p) => (!p.opened ? 0 : p.contentMaxHeight)};\n  visibility: ${(p) => (!p.opened ? 'hidden' : 'visible')};\n`;\n","export const moveFocus = (\n  parent: HTMLDivElement | null,\n  currentFocus: Element | null,\n  calcNextFocus: (parent: HTMLDivElement | null, child: Element | null, stop?: boolean) => any,\n  stop?: boolean,\n): void => {\n  let wrappedOnce = false;\n  let nextFocus = calcNextFocus(parent, currentFocus, stop);\n\n  while (nextFocus) {\n    if (nextFocus === parent?.firstChild) {\n      if (wrappedOnce) {\n        return;\n      }\n      wrappedOnce = true;\n    }\n\n    if (nextFocus.hasAttribute('disabled')) {\n      nextFocus = calcNextFocus(parent, nextFocus, stop);\n    } else {\n      nextFocus.focus();\n      return;\n    }\n  }\n};\n\nexport const nextItem = (\n  parent: Element | null,\n  child: Element | null,\n  stop?: boolean,\n): Element | null | undefined | ChildNode => {\n  if (child?.nextElementSibling) {\n    return child.nextElementSibling.firstElementChild;\n  }\n  return stop ? null : parent?.firstChild?.firstChild;\n};\n\nexport const previousItem = (\n  parent: Element | null,\n  child: Element | null,\n  stop?: boolean,\n): Element | null | undefined | ChildNode => {\n  if (child?.previousElementSibling) {\n    return child.previousElementSibling.firstElementChild;\n  }\n  return stop ? null : parent?.lastChild?.firstChild;\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as ChevronDownOutline } from '@openvtb/admiral-icons/build/system/ChevronDownOutline.svg';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\n\nimport { Collapse } from './Collapse';\nimport { moveFocus, nextItem, previousItem } from './utils';\n\ntype Dimension = 'l' | 'm';\n\nconst Chevron = styled(ChevronDownOutline)`\n  transition: all 0.3s;\n  flex-shrink: 0;\n  width: 24px;\n  height: 24px;\n  margin-left: 8px;\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n  [data-disabled='true'] & {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n  [data-dimension='m'] & {\n    width: 20px;\n    height: 20px;\n  }\n`;\n\nconst ItemTitleContent = styled.span`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n\n  padding: 16px 16px 15px 16px;\n  [data-dimension='m'] && {\n    padding: 10px 16px 9px 16px;\n  }\n`;\n\nconst ItemTitle = styled.button`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 54px;\n  width: 100%;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  text-align: left;\n  border: none;\n  background: none;\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n  overflow: visible;\n  ${typography['Subtitle/Subtitle 2']}\n  &:hover {\n    background: ${(p) => p.theme.color.background.secondary};\n    & ${Chevron} *[fill^='#'] {\n      fill: ${(p) => p.theme.color.basic.hover};\n    }\n  }\n  &:focus {\n    &:before {\n      position: absolute;\n      content: '';\n      border: 2px solid ${({ theme }) => theme.color.basic.hover};\n      top: -1px;\n      left: 0;\n      bottom: -1px;\n      right: 0;\n    }\n  }\n  &:focus,\n  & > ${ItemTitleContent} {\n    outline: none;\n  }\n\n  [data-dimension='m'] & {\n    min-height: 38px;\n    ${typography['Subtitle/Subtitle 3']}\n  }\n`;\n\nconst ItemWrapper = styled.div<{ opened?: boolean; disabled?: boolean }>`\n  border-bottom: 1px solid ${(p) => p.theme.color.background.tertiary};\n  color: ${(p) => p.theme.color.text.primary};\n  & > ${ItemTitle} ${Chevron} {\n    transform: ${(p) => (p.opened ? 'rotate(180deg)' : 'rotate(0deg)')};\n  }\n  ${({ disabled }) => disabled && 'pointer-events: none;'}\n`;\n\nconst ItemContent = styled.div<{ contentMaxHeight: number | string }>`\n  box-sizing: border-box;\n  overflow-y: auto;\n  max-height: ${(p) => p.contentMaxHeight};\n  padding: 4px 16px 16px 16px;\n  ${typography['Body/Body 1 Long']}\n  [data-dimension='m'] & {\n    padding: 4px 16px 10px 16px;\n    ${typography['Body/Body 2 Long']}\n  }\n`;\n\nconst AccordionWrapper = styled.div<{ dimension?: Dimension }>`\n  position: relative;\n  & > ${ItemWrapper}:first-child {\n    & ${ItemTitleContent} {\n      padding: ${({ dimension }) => (dimension === 'l' ? '15px 16px' : '9px 16px')};\n    }\n    border-top: 1px solid ${({ theme }) => theme.color.background.tertiary};\n  }\n`;\n\nexport interface AccordionItemProps extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'onClick' | 'title'> {\n  /** Заголовок компонента */\n  title: React.ReactNode;\n  /** дефолтное (изначальное) состояние компонента (раскрыт/свернут) при неконтролируемом режиме работы */\n  defaultExpanded?: boolean;\n  /** состояние компонента (раскрыт/свернут) при контролируемом режиме работы */\n  expanded?: boolean;\n  /** Колбек на клик по компоненту */\n  onClick?: (title: React.ReactNode, expanded: boolean, event: React.MouseEvent<HTMLButtonElement>) => void;\n  /**  Устанавливает максимальную высоту, на которую открывается контент до появления вертикального скрола */\n  contentMaxHeight?: number | string;\n  /** Отключение компонента */\n  disabled?: boolean;\n}\n\nexport const AccordionItem: React.FC<AccordionItemProps> = ({\n  children,\n  title,\n  id,\n  defaultExpanded,\n  expanded: userExpanded,\n  onClick,\n  contentMaxHeight = '100vh',\n  disabled,\n  ...props\n}) => {\n  const [expanded, setExpanded] = React.useState(defaultExpanded);\n  const collapseOpened = userExpanded === undefined ? expanded : userExpanded;\n\n  const itemId = React.useMemo(() => id || uid(), [id]);\n  const ITEM_TITLE_ID = `accordion_title_${itemId}`;\n  const ITEM_CONTENT_ID = `accordion_content_${itemId}`;\n\n  const handleClick = React.useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (userExpanded === undefined) {\n        onClick?.(title, !expanded, event);\n        setExpanded(!expanded);\n      } else {\n        onClick?.(title, !userExpanded, event);\n      }\n    },\n    [expanded, userExpanded, onClick, title],\n  );\n  return (\n    <ItemWrapper opened={collapseOpened} data-disabled={disabled} disabled={disabled}>\n      <ItemTitle\n        onClick={disabled ? undefined : handleClick}\n        role=\"button\"\n        type=\"button\"\n        aria-expanded={collapseOpened}\n        aria-controls={ITEM_CONTENT_ID}\n        id={ITEM_TITLE_ID}\n        {...props}\n      >\n        <ItemTitleContent tabIndex={-1}>\n          {title}\n          <Chevron aria-hidden />\n        </ItemTitleContent>\n      </ItemTitle>\n      <Collapse opened={collapseOpened} contentMaxHeight={contentMaxHeight}>\n        <ItemContent\n          contentMaxHeight={contentMaxHeight}\n          role=\"region\"\n          aria-labelledby={ITEM_TITLE_ID}\n          id={ITEM_CONTENT_ID}\n        >\n          {children}\n        </ItemContent>\n      </Collapse>\n    </ItemWrapper>\n  );\n};\n\nexport interface AccordionProps extends React.HTMLAttributes<HTMLDivElement> {\n  dimension?: Dimension;\n}\n\nexport const Accordion: React.FC<AccordionProps> = ({ children, dimension = 'l', onKeyDown, ...props }) => {\n  const accordionRef = React.useRef<HTMLDivElement | null>(null);\n  const handleKeyDown = React.useCallback(\n    (e) => {\n      let focusedOption: any = ((accordionRef.current && accordionRef.current.ownerDocument) || document).activeElement;\n      // если фокус находится на AccordionItem Title, то можно переключаться между accordion items с помощью ArrowDown, ArrowUp, Home, End\n      if (focusedOption.id.indexOf('accordion_title') > -1 && focusedOption.tagName.toLowerCase() === 'button') {\n        do {\n          focusedOption = focusedOption?.parentNode;\n        } while (focusedOption.parentNode !== accordionRef.current);\n\n        const code = keyboardKey.getCode(e);\n\n        if (code === keyboardKey.ArrowDown) {\n          moveFocus(accordionRef.current, focusedOption, nextItem);\n          e.preventDefault();\n        } else if (code === keyboardKey.ArrowUp) {\n          moveFocus(accordionRef.current, focusedOption, previousItem);\n          e.preventDefault();\n        } else if (code === keyboardKey.Home) {\n          e.preventDefault();\n          moveFocus(accordionRef.current, null, nextItem);\n        } else if (code === keyboardKey.End) {\n          e.preventDefault();\n          moveFocus(accordionRef.current, null, previousItem);\n        }\n      }\n      onKeyDown?.(e);\n    },\n    [accordionRef.current],\n  );\n  return (\n    <AccordionWrapper\n      ref={accordionRef}\n      data-dimension={dimension}\n      dimension={dimension}\n      onKeyDown={handleKeyDown}\n      {...props}\n    >\n      {children}\n    </AccordionWrapper>\n  );\n};\n\nAccordion.displayName = 'Accordion';\n","import type { FC } from 'react';\nimport React, { HTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { typography } from '../Typography';\n\ntype Dimension = 'm' | 's';\ntype Appearance =\n  | 'light'\n  | 'info'\n  | 'warning'\n  | 'success'\n  | 'error'\n  | 'grey'\n  | 'dark'\n  | 'lightInactive'\n  | 'lightDisable'\n  | 'white'\n  | 'whiteInactive'\n  | 'whiteDisable';\n\nconst background = css<{ appearance: Appearance }>`\n  background: ${({ appearance, theme }) => {\n    switch (appearance) {\n      case 'info':\n        return theme.color.basic.primary;\n      case 'warning':\n        return theme.color.status.warn;\n      case 'success':\n        return theme.color.status.success;\n      case 'error':\n        return theme.color.status.danger;\n      case 'grey':\n        return theme.color.text.secondary;\n      case 'dark':\n        return theme.color.basic.secondary;\n      case 'white':\n      case 'whiteInactive':\n      case 'whiteDisable':\n        return theme.color.background.primary;\n      case 'light':\n      case 'lightInactive':\n      case 'lightDisable':\n      default:\n        return theme.color.background.tertiary;\n    }\n  }};\n`;\n\nconst color = css<{ appearance: Appearance }>`\n  color: ${({ appearance, theme }) => {\n    switch (appearance) {\n      case 'info':\n      case 'warning':\n      case 'success':\n      case 'error':\n      case 'grey':\n        return theme.color.text.staticWhite;\n      case 'dark':\n        return theme.color.text.inversion;\n      case 'lightInactive':\n      case 'whiteInactive':\n        return theme.color.text.secondary;\n      case 'lightDisable':\n      case 'whiteDisable':\n        return theme.color.text.tertiary;\n      case 'white':\n      case 'light':\n      default:\n        return theme.color.text.primary;\n    }\n  }};\n`;\n\nexport const BadgeComponent = styled.div<{ dimension: Dimension; appearance: Appearance }>`\n  position: relative;\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: ${({ dimension }) => (dimension === 's' ? '0 5px' : '0 7px')};\n  height: ${({ dimension }) => (dimension === 's' ? '16px' : '20px')};\n  border-radius: ${({ dimension }) => (dimension === 's' ? '8px' : '10px')};\n  ${({ dimension }) => (dimension === 's' ? typography['Caption/Caption 1'] : typography['Body/Body 2 Long'])}\n  ${background}\n  ${color}\n  user-select: none;\n`;\n\nexport interface BadgeProps extends HTMLAttributes<HTMLDivElement> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Внешний вид компонента */\n  appearance?: Appearance;\n}\n\nexport const Badge: FC<BadgeProps> = ({ children, dimension = 'm', appearance = 'light', ...props }) => {\n  const ariaLabel = `Количество ${children}`;\n  return (\n    <BadgeComponent dimension={dimension} appearance={appearance} aria-label={ariaLabel} {...props}>\n      {children}\n    </BadgeComponent>\n  );\n};\n\nBadge.displayName = 'Badge';\n","export type LocaleType = 'ru' | 'enUS' | 'de';\n\nexport type CornerKeys = 'top-left' | 'bottom-left' | 'top-right' | 'bottom-right';\nexport type Corners = {\n  [key in CornerKeys]?: boolean;\n};\n\nexport const DAY_NUMBERS = [0, 1, 2, 3, 4, 5, 6];\nexport const DEFAULT_YEAR_COUNT = 20;\nexport const DEFAULT_LOCALE_NAME = 'ru';\n\nexport const BACK = 'Назад';\nexport const FORWARD = 'Вперед';\nexport const NEXT_MONTH = 'Следующий месяц';\nexport const PREVIOUS_MONTH = 'Предыдущий месяц';\nexport const RETURN = 'Вернуться';\nexport const SELECT_YEAR = 'Выбор года';\nexport const SELECT_MONTH = 'Выбор месяца';\nexport const capitalizeFirstLetter = (s: string) => s.charAt(0).toUpperCase() + s.slice(1).toLowerCase();\n","import { LocaleType } from './constants';\n\nexport {\n  addDays,\n  addMonths,\n  addWeeks,\n  addYears,\n  after,\n  before,\n  changeTime,\n  compareDates,\n  dayInRange,\n  differenceDays,\n  differenceMonths,\n  differenceYears,\n  endOfWeek,\n  equal,\n  getFormattedValue,\n  lastDayOfMonth,\n  outOfBounds,\n  sameDay,\n  sameMonth,\n  setMonth,\n  setYear,\n  startOfMonth,\n  startOfWeek,\n  startOfYear,\n  subMonths,\n  subYears,\n  valid,\n  weekInMonth,\n  yearsRange,\n};\n\nconst MILLISECONDS_IN_DAY = 86400000;\nconst locales = {\n  ru: {\n    code: 'ru',\n    options: {\n      weekStartsOn: 1 /* Monday */,\n      firstWeekContainsDate: 1,\n    },\n  },\n  enUS: {\n    code: 'en-US',\n    options: {\n      weekStartsOn: 0 /* Sunday */,\n      firstWeekContainsDate: 1,\n    },\n  },\n  de: {\n    code: 'de',\n    options: {\n      weekStartsOn: 1 /* Monday */,\n      firstWeekContainsDate: 4,\n    },\n  },\n};\n\nconst endOfDay = (date: Date): Date => {\n  date.setHours(23, 59, 59, 999);\n  return date;\n};\n\nconst endOfMonth = (date: Date): Date => {\n  const month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n};\n\nconst getDaysInMonth = (date: Date): number => {\n  const year = date.getFullYear();\n  const monthIndex = date.getMonth();\n  const lastDayOfMonth = new Date(0);\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0);\n  lastDayOfMonth.setHours(0, 0, 0, 0);\n  return lastDayOfMonth.getDate();\n};\n\nconst getTimezoneOffsetInMilliseconds = (date: Date): number => {\n  const utcDate = new Date(\n    Date.UTC(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      date.getHours(),\n      date.getMinutes(),\n      date.getSeconds(),\n      date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n};\n\nconst isEqual = (dateLeft: Date, dateRight: Date): boolean => {\n  return dateLeft.getTime() === dateRight.getTime();\n};\n\nconst isSameDay = (dateLeft: Date, dateRight: Date): boolean => {\n  const dateLeftStartOfDay = startOfDay(dateLeft);\n  const dateRightStartOfDay = startOfDay(dateRight);\n\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n};\n\nconst isSameMonth = (dateLeft: Date, dateRight: Date): boolean => {\n  return dateLeft.getFullYear() === dateRight.getFullYear() && dateLeft.getMonth() === dateRight.getMonth();\n};\n\nconst isWithinInterval = (date: Date, interval: { start: Date; end: Date }): boolean => {\n  const time = date.getTime();\n  const startTime = interval.start.getTime();\n  const endTime = interval.end.getTime();\n\n  if (!(startTime <= endTime)) {\n    throw new RangeError('Invalid interval');\n  }\n\n  return time >= startTime && time <= endTime;\n};\n\nconst startOfDay = (date: Date): Date => {\n  date.setHours(0, 0, 0, 0);\n  return date;\n};\n\nconst addDays = (current: Date, amount: number): Date => {\n  const date = new Date(current.getTime());\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n};\n\nconst addWeeks = (date: Date, amount: number): Date => {\n  const days = amount * 7;\n  return addDays(date, days);\n};\n\nconst addYears = (date: Date, amount: number): Date => {\n  return addMonths(date, amount * 12);\n};\n\nconst addMonths = (current: Date, amount: number): Date => {\n  const date = new Date(current.getTime());\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    return date;\n  }\n  const dayOfMonth = date.getDate();\n  const endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    return endOfDesiredMonth;\n  } else {\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n};\n\nconst after = (date: Date, dateToCompare: Date): boolean => date.getTime() > dateToCompare.getTime();\nconst before = (date: Date, dateToCompare: Date): boolean => date.getTime() < dateToCompare.getTime();\n\nconst changeTime = (dateTime: Date, newTime?: Date | null): Date => {\n  if (!newTime) return dateTime;\n  dateTime.setMilliseconds(newTime.getMilliseconds());\n  dateTime.setSeconds(newTime.getSeconds());\n  dateTime.setMinutes(newTime.getMinutes());\n  dateTime.setHours(newTime.getHours());\n  return dateTime;\n};\n\nconst compareDates = (date1?: Date | null, date2?: Date | null): number => {\n  // no dates\n  if ((date1 === null && date2 === null) || (date1 === undefined && date2 === undefined)) return 0;\n  // only second date exists\n  if ((date1 === undefined || date1 === null) && date2 !== undefined && date2 !== null) return -1;\n  // only first day exists\n  if ((date2 === undefined || date2 === null) && date1 !== undefined && date1 !== null) return 1;\n  // return diff in time between dates\n  return date1 && date2 ? date1.getTime() - date2.getTime() : 0;\n};\n\nconst dayInRange = (day: Date, startDate: Date, endDate: Date): boolean => {\n  let valid = false;\n  const start = startOfDay(startDate);\n  const end = endOfDay(endDate);\n\n  try {\n    valid = isWithinInterval(day, { start, end });\n  } catch (err) {\n    valid = false;\n  }\n  return valid;\n};\n\nconst differenceDays = (dateLeft: Date, dateRight: Date) => {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight);\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n};\n\nconst differenceMonths = (dateLeft: Date, dateRight: Date): number => {\n  const yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  const monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n\n  return yearDiff * 12 + monthDiff;\n};\n\nconst differenceYears = (dateLeft: Date, dateRight: Date): number => {\n  return dateLeft.getFullYear() - dateRight.getFullYear();\n};\n\nconst endOfWeek = (current: Date, localeName: LocaleType): Date => {\n  const locale = locales[localeName];\n  const weekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n\n  const date = new Date(current.getTime());\n  const day = date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  date.setDate(date.getDate() + diff);\n  date.setHours(23, 59, 59, 999);\n  return date;\n};\n\nconst equal = (date1?: Date | null, date2?: Date | null) => {\n  if (date1 && date2) {\n    return isEqual(date1, date2);\n  } else {\n    return !date1 && !date2;\n  }\n};\n\nconst getFormattedValue = (date: Date | null, options: any, localeName: LocaleType) => {\n  return new Intl.DateTimeFormat(locales[localeName].code, options).format(date || new Date());\n};\n\nconst lastDayOfMonth = (date: Date) => {\n  return endOfMonth(date).getDate();\n};\n\nconst outOfBounds = (day: Date, minDate?: Date | null, maxDate?: Date | null) =>\n  (minDate && differenceDays(day, minDate) < 0) || (maxDate && differenceDays(day, maxDate) > 0);\n\nconst sameDay = (date1?: Date | null, date2?: Date | null) => {\n  if (date1 && date2) {\n    return isSameDay(date1, date2);\n  } else {\n    return !date1 && !date2;\n  }\n};\n\nconst sameMonth = (date1?: Date | null, date2?: Date | null) => {\n  if (date1 && date2) {\n    return isSameMonth(date1, date2);\n  } else {\n    return !date1 && !date2;\n  }\n};\n\nconst setMonth = (date: Date, month: number): Date => {\n  const year = date.getFullYear();\n  const day = date.getDate();\n\n  const dateWithDesiredMonth = new Date(0);\n  dateWithDesiredMonth.setFullYear(year, month, 15);\n  dateWithDesiredMonth.setHours(0, 0, 0, 0);\n  const daysInMonth = getDaysInMonth(dateWithDesiredMonth);\n  const d = new Date(date);\n  d.setMonth(month, Math.min(day, daysInMonth));\n  return d;\n};\n\nconst setYear = (date: Date, year: number) => {\n  if (isNaN(date as any)) {\n    return new Date(NaN);\n  }\n\n  const d = new Date(date);\n  d.setFullYear(year);\n  return d;\n};\n\nconst subYears = (date: Date, amount: number): Date => {\n  return addYears(date, -amount);\n};\n\nconst startOfYear = (startDate: Date): Date => {\n  const date = new Date(0);\n  date.setFullYear(startDate.getFullYear(), 0, 1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n};\n\nconst startOfMonth = (someDate: Date): Date => {\n  const date = new Date(someDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n};\n\nconst weekInMonth = (startOfWeek: Date, day: Date) => {\n  const endOfWeek = addDays(startOfWeek, 6);\n  return sameMonth(startOfWeek, day) || sameMonth(endOfWeek, day);\n};\n\nconst yearsRange = (date: Date, yearCount: number) => {\n  const end = Math.ceil(date.getFullYear() / yearCount) * yearCount;\n  const start = end - (yearCount - 1);\n  return { start, end };\n};\n\nconst startOfWeek = (current: Date, localeName: LocaleType): Date => {\n  const locale = locales[localeName];\n  const weekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n\n  const date = new Date(current.getTime());\n  const day = date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n};\n\nconst subMonths = (date: Date, amount: number): Date => addMonths(date, -amount);\n\nconst valid = (date: any): boolean => !isNaN(date as any);\n","import { compareDates, lastDayOfMonth, outOfBounds, valid } from './date-utils';\n\nconst MESSAGE_DATE_UNDEFINED = 'Неверный формат даты';\nconst MESSAGE_DATE_INVALID = 'Дата не валидна';\nconst MESSAGE_START_DATE_INVALID = 'Начальная дата не валидна';\nconst MESSAGE_END_DATE_INVALID = 'Конечная дата не валидна';\nconst MESSAGE_START_END_DATE_INVALID = 'Даты не валидны';\nconst MESSAGE_START_DATE_UNDEFINED = 'Неверный формат начальной даты';\nconst MESSAGE_END_DATE_UNDEFINED = 'Неверный формат конечной даты';\nconst MESSAGE_START_END_DATE_UNDEFINED = 'Неверный формат дат';\nconst MESSAGE_DATE_OUTOFRANGE = 'Дата вне диапазона';\nconst MESSAGE_START_DATE_OUTOFRANGE = 'Начальная дата вне диапазона';\nconst MESSAGE_END_DATE_OUTOFRANGE = 'Конечная дата вне диапазона';\nconst MESSAGE_DATES_INCORRECT_RANGE = 'Конечная дата меньше начальной';\n\n/** В случае невалидности даты содержит сообщение ошибки, null - если дата валидна */\ntype InvalidDateMessage = string | null;\n\nexport type DateValidator = {\n  invalidValue: (date?: Date | null) => InvalidDateMessage;\n  invalidRange: (startDate?: Date | null, endDate?: Date | null) => InvalidDateMessage;\n  invalidYear: (year: number) => InvalidDateMessage;\n  invalidMonth: (month: number, year: number) => InvalidDateMessage;\n};\n\nexport const getDefaultDateValidator = (minDate?: Date, maxDate?: Date): DateValidator => {\n  return {\n    invalidValue: (date?: Date | null): InvalidDateMessage => {\n      if (!date) return MESSAGE_DATE_UNDEFINED;\n      if (!valid(date)) return MESSAGE_DATE_INVALID;\n\n      if (outOfBounds(date, minDate, maxDate)) return MESSAGE_DATE_OUTOFRANGE;\n\n      return null;\n    },\n    invalidRange: (startDate?: Date | null, endDate?: Date | null): InvalidDateMessage => {\n      if (!startDate && !endDate) return MESSAGE_START_END_DATE_UNDEFINED;\n      if (!valid(startDate) && !valid(endDate)) return MESSAGE_START_END_DATE_INVALID;\n      if (!startDate) return MESSAGE_START_DATE_UNDEFINED;\n      if (!endDate) return MESSAGE_END_DATE_UNDEFINED;\n      if (!valid(startDate)) return MESSAGE_START_DATE_INVALID;\n      if (!valid(endDate)) return MESSAGE_END_DATE_INVALID;\n      if (compareDates(startDate, endDate) >= 0) return MESSAGE_DATES_INCORRECT_RANGE;\n\n      if (outOfBounds(startDate, minDate, maxDate)) return MESSAGE_START_DATE_OUTOFRANGE;\n      if (outOfBounds(endDate, minDate, maxDate)) return MESSAGE_END_DATE_OUTOFRANGE;\n\n      return null;\n    },\n    invalidYear: (year: number): InvalidDateMessage => {\n      // год не входит в диапазон, если его последний день был раньше minDate или если его первый день был позже maxDate\n      return !!outOfBounds(new Date(year, 11, 31), minDate) || !!outOfBounds(new Date(year, 0, 1), null, maxDate)\n        ? MESSAGE_DATE_OUTOFRANGE\n        : null;\n    },\n    invalidMonth: (month: number, year: number): InvalidDateMessage => {\n      // месяц не входит в диапазон, если его последний день был раньше minDate или если его первый день был позже maxDate\n      const lastDay = lastDayOfMonth(new Date(year, month, 1));\n      return !!outOfBounds(new Date(year, month, lastDay), minDate) ||\n        !!outOfBounds(new Date(year, month, 1), null, maxDate)\n        ? MESSAGE_DATE_OUTOFRANGE\n        : null;\n    },\n  };\n};\n","import styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\ntype YearComponentProps = {\n  today?: boolean;\n  selected?: boolean;\n  disabled?: boolean;\n};\n\nconst YEAR_HEIGHT = '36px';\nconst YEAR_WIDTH = '60px';\nconst YEAR_MARGIN_BOTTOM = '16px';\nconst YEAR_PADDING = '8px 0';\nconst YEAR_BORDER_RADIUS = '18px';\n\nexport const YearComponent = styled.div<YearComponentProps>`\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n  width: ${YEAR_WIDTH};\n  height: ${YEAR_HEIGHT};\n  padding: ${YEAR_PADDING};\n  margin-bottom: ${YEAR_MARGIN_BOTTOM};\n  border: 1px solid ${({ today, theme }) => (today ? theme.color.basic.secondary : 'transparent')};\n  border-radius: ${YEAR_BORDER_RADIUS};\n  background: transparent;\n  ${typography['Body/Body 2 Long']}\n  color: ${({ theme }) => theme.color.text.primary};\n  user-select: none;\n  cursor: pointer;\n\n  ${({ disabled, theme }) =>\n    disabled &&\n    `\n      cursor: default;\n      color: ${theme.color.text.tertiary};\n    `}\n\n  ${({ disabled, theme }) =>\n    !disabled &&\n    `\n      &:hover {\n        border: 1px solid ${theme.color.basic.primary};\n      }\n    `}\n\n  ${({ disabled, theme, selected }) =>\n    !disabled &&\n    selected &&\n    `\n      border: 1px solid ${theme.color.basic.primary};\n      color: ${theme.color.text.staticWhite};\n      background: ${theme.color.basic.primary};\n      &:hover {\n        border: 1px solid ${theme.color.basic.hover};\n        background: ${theme.color.basic.hover};\n      }\n    `}\n`;\n","import type { FC } from 'react';\nimport React from 'react';\n\nimport { DEFAULT_YEAR_COUNT } from '../constants';\nimport { setYear, startOfYear, yearsRange } from '../date-utils';\nimport { YearComponent } from '../styled/YearComponent';\nimport type { IYearsCalendarProps } from '../interfaces';\n\nexport const Years: FC<IYearsCalendarProps> = ({ viewDate, startDate, selected, validator, onClick }) => {\n  const { start, end } = yearsRange(viewDate, DEFAULT_YEAR_COUNT);\n  const years = Array(end - start + 1)\n    .fill(0)\n    .map((_, index) => start + index);\n  return (\n    <>\n      {years.map((year) => {\n        const disabled = !!validator?.invalidYear(year);\n        const handleClick = (e: any) => {\n          e.preventDefault();\n          const day = startOfYear(setYear(viewDate, year));\n          !disabled && onClick && onClick(day, e);\n        };\n        return (\n          <YearComponent\n            key={year}\n            today={year === new Date().getFullYear()}\n            selected={!!(selected || startDate) && year === ((selected || startDate) as Date).getFullYear()}\n            disabled={disabled}\n            onMouseDown={handleClick}\n          >\n            {year}\n          </YearComponent>\n        );\n      })}\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nconst BUTTON_SIZE = '32px';\nconst BUTTON_PADDING = '4px';\n\nexport const PanelButton = styled.div<{\n  disabled: boolean;\n}>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: ${BUTTON_SIZE};\n  height: ${BUTTON_SIZE};\n  padding: ${BUTTON_PADDING};\n  border-radius: 50%;\n  background-color: transparent;\n  cursor: pointer;\n  ${({ disabled }) =>\n    disabled &&\n    `\n      pointer-events: none;\n      cursor: default;\n    `}\n\n  & *[fill^='#'] {\n    fill: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.text.secondary)};\n  }\n\n  ${({ disabled, theme }) => `\n    &:hover {\n      background-color: ${disabled ? 'transparent' : theme.color.background.secondary};\n      & *[fill^='#'] {\n        fill: ${disabled ? theme.color.text.tertiary : theme.color.text.secondary};\n      }\n    }\n  `}\n`;\n","import * as React from 'react';\nimport { ReactComponent as ChevronLeftOutline } from '@openvtb/admiral-icons/build/system/ChevronLeftOutline.svg';\nimport { ReactComponent as ChevronRightOutline } from '@openvtb/admiral-icons/build/system/ChevronRightOutline.svg';\n\nimport { PanelButton } from '../styled/PanelButton';\n\ntype ButtonProps = {\n  onMouseDown: (event: React.MouseEvent<HTMLDivElement>) => void;\n  disabled: boolean;\n  type: 'left' | 'right';\n};\n\nconst ICON_SIZE = 24;\n\nconst ButtonComponent: React.FC<ButtonProps> = ({ onMouseDown, disabled, type }) => (\n  <PanelButton\n    onMouseDown={(event) => {\n      event?.preventDefault();\n      onMouseDown(event);\n    }}\n    disabled={disabled}\n  >\n    {type === 'left' && <ChevronLeftOutline width={ICON_SIZE} height={ICON_SIZE} />}\n    {type === 'right' && <ChevronRightOutline width={ICON_SIZE} height={ICON_SIZE} />}\n  </PanelButton>\n);\n\nexport const Button = React.memo<ButtonProps>(ButtonComponent);\n","import styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nimport type { CornerKeys, Corners } from '../constants';\n\ntype DayComponentProps = {\n  inRange?: boolean;\n  corners?: Corners;\n  selected?: boolean;\n  isActiveDate: boolean;\n  today?: boolean;\n  disabled?: boolean;\n  inSelectingRange: boolean;\n  outsideMonth?: boolean;\n};\n\nconst DAY_SIZE = '36px';\nconst DAY_PADDING = '8px 0';\nconst DAY_MARGIN_BOTOM = '4px';\n\nconst hoverMixin = css`\n  &:hover:after {\n    border: 1px solid ${(p) => p.theme.color.basic.primary};\n    background: ${(p) => p.theme.color.background.primary};\n    z-index: -1;\n  }\n`;\n\nexport const DayComponent = styled.div<DayComponentProps>`\n  position: relative;\n  display: inline-block;\n  width: ${DAY_SIZE};\n  height: ${DAY_SIZE};\n  padding: ${DAY_PADDING};\n  margin-bottom: ${DAY_MARGIN_BOTOM};\n  ${typography['Body/Body 2 Long']}\n  color: ${({ theme }) => theme.color.text.primary};\n  box-sizing: border-box;\n  user-select: none;\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n\n  &:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border: 1px solid\n      ${({ theme, today, selected }) => (today && !selected ? theme.color.basic.secondary : 'transparent')};\n    border-radius: 50%;\n  }\n\n  ${({ disabled, theme, outsideMonth }) =>\n    (disabled || outsideMonth) &&\n    `\n      color: ${theme.color.text.tertiary};\n    `}\n\n  ${(p) => (p.disabled ? '' : hoverMixin)}\n\n  ${({ disabled, theme, selected, inSelectingRange }) =>\n    !disabled &&\n    selected &&\n    `\n      color: ${theme.color.text.staticWhite};\n      background: ${inSelectingRange ? theme.color.basic.hover : theme.color.basic.primary};\n      border-radius: 50%;\n      &:hover {\n        background: ${theme.color.basic.hover};\n      }\n    `}\n\n  ${({ disabled, inRange, theme, corners, selected, isActiveDate }) =>\n    !disabled &&\n    inRange &&\n    `\n      &:before {\n        z-index: -1;\n        content: '';\n        position: absolute;\n        width: 100%;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        background: ${theme.color.background.tertiary};\n        ${\n          corners &&\n          Object.keys(corners)\n            .map((key) =>\n              corners[key as CornerKeys]\n                ? selected || isActiveDate\n                  ? `border-${key}-radius: 50%;`\n                  : `border-${key}-radius: 4px;`\n                : '',\n            )\n            .join('')\n        }\n      }\n    `}\n`;\n","import React, { FC } from 'react';\n\nimport { after, dayInRange, endOfWeek, equal, sameDay, startOfWeek } from '../date-utils';\nimport { DayComponent } from '../styled/DayComponent';\nimport type { Corners } from '../constants';\nimport { DEFAULT_LOCALE_NAME } from '../constants';\nimport type { IDayCalendarProps } from '../interfaces';\n\nexport const Day: FC<IDayCalendarProps> = ({\n  day,\n  month,\n  startDate,\n  endDate,\n  selected,\n  activeDate,\n  range,\n  localeName = DEFAULT_LOCALE_NAME,\n  validator,\n  filterDate,\n  onMouseEnter,\n  onClick,\n}) => {\n  const disabled = !!validator?.invalidValue(day) || (filterDate && !filterDate(day));\n  const outsideMonth = month !== undefined && month !== day.getMonth();\n  const inSelectingRange =\n    !disabled &&\n    !!range &&\n    !!startDate &&\n    !!activeDate &&\n    !endDate &&\n    (after(activeDate, startDate) || equal(activeDate, startDate)) &&\n    dayInRange(day, startDate, activeDate);\n  const inRange = !!startDate && !!endDate && dayInRange(day, startDate, endDate);\n  const rangeStart = !!startDate && sameDay(day, startDate);\n  const rangeEnd = !!startDate && !!endDate && sameDay(day, endDate);\n  const rangeSelectingStart = inSelectingRange && sameDay(day, startDate);\n  const rangeSelectingEnd = inSelectingRange && sameDay(day, activeDate);\n\n  const corners: Corners = {};\n  if (startDate) {\n    const weekStart = sameDay(day, startOfWeek(day, localeName));\n    const weekEnd = sameDay(day, endOfWeek(day, localeName));\n    const start = rangeStart || rangeSelectingStart;\n    const end = rangeEnd || rangeSelectingEnd;\n    // если endDate не определена, то активную дату мы не выделяем серым фоном\n    corners['top-left'] = start || (weekStart && !end);\n    corners['bottom-left'] = start || (weekStart && !end);\n    corners['top-right'] = end || (weekEnd && !start);\n    corners['bottom-right'] = end || (weekEnd && !start);\n  }\n\n  return (\n    <DayComponent\n      today={sameDay(day, new Date())}\n      selected={sameDay(day, selected) || rangeStart || rangeEnd}\n      inSelectingRange={inSelectingRange}\n      isActiveDate={sameDay(day, activeDate)}\n      corners={corners}\n      inRange={inRange || inSelectingRange}\n      disabled={disabled}\n      outsideMonth={outsideMonth}\n      onMouseEnter={(e) => !disabled && onMouseEnter && onMouseEnter(day, e)}\n      onMouseDown={(e) => {\n        e.preventDefault();\n        !disabled && onClick && onClick(day, e);\n      }}\n      className={\n        sameDay(day, selected) && !rangeStart && !rangeEnd\n          ? 'ui-kit-calendar-day-component_selected'\n          : 'ui-kit-calendar-day-component'\n      }\n    >\n      {day.getDate()}\n    </DayComponent>\n  );\n};\n","import styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst DAY_NAME_SIZE = '36px';\nconst DAY_NAME_MARGIN_BOTTOM = '4px';\nconst DAY_NAME_PADDING = '8px 0';\n\nexport const DayNameComponent = styled.div`\n  display: inline-block;\n  user-select: none;\n  width: ${DAY_NAME_SIZE};\n  height: ${DAY_NAME_SIZE};\n  padding: ${DAY_NAME_PADDING};\n  margin-bottom: ${DAY_NAME_MARGIN_BOTTOM};\n  ${typography['Body/Body 2 Long']}\n  color: ${({ theme }) => theme.color.text.primary};\n  box-sizing: border-box;\n`;\n","import React, { FC } from 'react';\n\nimport type { LocaleType } from '../constants';\nimport { capitalizeFirstLetter, DAY_NUMBERS } from '../constants';\nimport { addDays, getFormattedValue, startOfWeek } from '../date-utils';\nimport { DayNameComponent } from '../styled/DayNameComponent';\n\ninterface IDayNamesProps {\n  date: Date;\n  localeName: LocaleType;\n}\n\nexport const DayNames: FC<IDayNamesProps> = ({ date, localeName }) => {\n  const weekStart = startOfWeek(date, localeName);\n  return (\n    <div>\n      {DAY_NUMBERS.map((offset) => {\n        const day = addDays(weekStart, offset);\n        const weekDayName = capitalizeFirstLetter(getFormattedValue(day, { weekday: 'short' }, localeName).slice(0, 2));\n        return <DayNameComponent key={day.valueOf()}>{weekDayName}</DayNameComponent>;\n      })}\n    </div>\n  );\n};\n","import styled from 'styled-components';\n\nexport const WeekComponent = styled.div`\n  white-space: nowrap;\n`;\n","import React, { FC } from 'react';\n\nimport { DAY_NUMBERS, DEFAULT_LOCALE_NAME } from '../constants';\nimport { addDays, startOfWeek } from '../date-utils';\nimport { Day } from './Day';\nimport { WeekComponent } from '../styled/WeekComponent';\nimport type { IWeekCalendarProps } from '../interfaces';\n\nexport const Week: FC<IWeekCalendarProps> = ({\n  localeName = DEFAULT_LOCALE_NAME,\n  day,\n  month,\n  startDate,\n  endDate,\n  selected,\n  activeDate,\n  range,\n  validator,\n  filterDate,\n  onMouseEnter,\n  onClick,\n}) => {\n  const handleMouseEnter = (day: Date, e: any) => onMouseEnter && onMouseEnter(day, e);\n  const handleDayClick = (day: Date, e: any) => onClick && onClick(day, e);\n  const weekStart = startOfWeek(day, localeName);\n  return (\n    <WeekComponent>\n      {DAY_NUMBERS.map((offset) => {\n        const nextDay = addDays(weekStart, offset);\n        return (\n          <Day\n            key={nextDay.valueOf()}\n            day={nextDay}\n            month={month}\n            startDate={startDate}\n            endDate={endDate}\n            selected={selected}\n            activeDate={activeDate}\n            range={range}\n            localeName={localeName}\n            validator={validator}\n            filterDate={filterDate}\n            onMouseEnter={(_, e) => handleMouseEnter(nextDay, e)}\n            onClick={(_, e) => handleDayClick(nextDay, e)}\n          />\n        );\n      })}\n    </WeekComponent>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { addWeeks, startOfMonth, startOfWeek, weekInMonth } from '../date-utils';\nimport { Week } from './Week';\nimport type { IMonthCalendarProps } from '../interfaces';\nimport { DEFAULT_LOCALE_NAME } from '#ui-kit3/components/Calendar/constants';\n\nconst FIXED_WEEK_COUNT = 6;\n\nexport const Month: FC<IMonthCalendarProps> = ({\n  localeName = DEFAULT_LOCALE_NAME,\n  day,\n  startDate,\n  endDate,\n  selected,\n  activeDate,\n  range,\n  validator,\n  filterDate,\n  onMouseEnter,\n  onMouseLeave,\n  onClick,\n}) => {\n  const weeks: Array<Date> = [];\n  const fixCount = false; // to make days matrix size fixed\n  const handleMouseEnter = (day: Date, event: any) => onMouseEnter && onMouseEnter(day, event);\n  const handleMouseLeave = () => onMouseLeave && onMouseLeave();\n  const handleDayClick = (day: Date, event: any) => onClick && onClick(day, event);\n\n  let weekIndex = 0;\n  let weekStart = startOfWeek(startOfMonth(day), localeName);\n  do {\n    weekIndex++;\n    weeks.push(weekStart);\n    weekStart = addWeeks(weekStart, 1);\n  } while ((!fixCount && weekInMonth(weekStart, day)) || (fixCount && weekIndex < FIXED_WEEK_COUNT));\n\n  return (\n    <div onMouseLeave={handleMouseLeave}>\n      {weeks.map((week) => (\n        <Week\n          key={week.valueOf()}\n          day={week}\n          month={day.getMonth()}\n          startDate={startDate}\n          endDate={endDate}\n          selected={selected}\n          activeDate={activeDate}\n          range={range}\n          localeName={localeName}\n          validator={validator}\n          filterDate={filterDate}\n          onMouseEnter={handleMouseEnter}\n          onClick={handleDayClick}\n        />\n      ))}\n    </div>\n  );\n};\n","import styled from 'styled-components';\n\nimport { YearComponent } from './YearComponent';\n\nconst MONTH_WIDTH = '84px';\nconst MONTH_MARGIN_BOTTOM = '32px';\n\nexport const MonthComponent = styled(YearComponent)`\n  width: ${MONTH_WIDTH};\n  margin-bottom: ${MONTH_MARGIN_BOTTOM};\n`;\n","import type { FC } from 'react';\nimport React from 'react';\n\nimport { setMonth, startOfMonth } from '../date-utils';\nimport { MonthComponent } from '../styled/MonthComponent';\nimport type { IYearsCalendarProps } from '../interfaces';\n\nconst months = [\n  'Январь',\n  'Февраль',\n  'Март',\n  'Апрель',\n  'Май',\n  'Июнь',\n  'Июль',\n  'Август',\n  'Сентябрь',\n  'Октябрь',\n  'Ноябрь',\n  'Декабрь',\n];\n\nexport const Months: FC<IYearsCalendarProps> = ({ viewDate, startDate, selected, validator, onClick }) => (\n  <>\n    {months.map((month, index) => {\n      const disabled = !!validator?.invalidMonth(index, viewDate.getFullYear());\n      const handleClick = (e: any) => {\n        e.preventDefault();\n        const day = startOfMonth(setMonth(viewDate, index));\n        !disabled && onClick && onClick(day, e);\n      };\n      return (\n        <MonthComponent\n          key={month}\n          today={index === new Date().getMonth()}\n          selected={!!(selected || startDate) && index === ((selected || startDate) as Date).getMonth()}\n          disabled={disabled}\n          onMouseDown={handleClick}\n        >\n          {month}\n        </MonthComponent>\n      );\n    })}\n  </>\n);\n","import styled from 'styled-components';\n\nconst PANEL_MARGIN_BOTTOM = {\n  days: '12px',\n  months_years: '28px',\n};\n\nexport const PanelComponent = styled.div<{\n  monthsView: boolean;\n  yearsView: boolean;\n}>`\n  display: flex;\n  align-items: center;\n  background-color: transparent;\n  border: 0 none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  margin-bottom: ${({ monthsView, yearsView }) => {\n    if (monthsView || yearsView) return PANEL_MARGIN_BOTTOM.months_years;\n    return PANEL_MARGIN_BOTTOM.days;\n  }};\n`;\n","import styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst YEAR_MONTH_HEIGHT = '32px';\nconst YEAR_MONTH_PADDING = '4px 8px';\nconst YEAR_MONTH_BORDER_RADIUS = '16px';\nconst YEAR_WIDTH = '54px';\n\nconst PanelItem = styled.h6<{\n  view: boolean;\n}>`\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  height: ${YEAR_MONTH_HEIGHT};\n  padding: ${YEAR_MONTH_PADDING};\n  margin: 0;\n  border-radius: ${YEAR_MONTH_BORDER_RADIUS};\n  ${typography['Subtitle/Subtitle 2']}\n\n  ${({ theme, view }) => `\n    color: ${theme.color.basic.primary};\n    background: ${view ? theme.color.background.tertiary : 'transparent'};\n\n    &:hover {\n      color: ${theme.color.basic.hover};\n      background: ${theme.color.background.secondary};\n    }\n  `}\n`;\n\nexport const Year = styled(PanelItem)`\n  width: ${YEAR_WIDTH};\n`;\n\nexport const Month = styled(PanelItem)``;\n\nexport const PanelDate = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n`;\n","import React from 'react';\n\nexport type RefCallback<T> = (node: T | null) => void;\nexport type RefObject<T> = React.MutableRefObject<T | null | undefined> | React.RefObject<T | null | undefined>;\n\nfunction isRefObject<T>(ref: RefCallback<T> | RefObject<T>): ref is React.MutableRefObject<T> {\n  return typeof ref !== 'function';\n}\n\nfunction isRefCallback<T>(ref: RefCallback<T> | RefObject<T>): ref is RefCallback<T> {\n  return typeof ref === 'function';\n}\n\n/**\n * Creates a ref handler which assigns the ref returned by React for a mounted component to a targetRef object.\n * If provided, it will also update the given `propRef` with the value of the ref\n * @param {T} node - donNode\n * @param {RefCallback<T> | RefObject<T> | null | undefined} propRef - ref handler prop\n * @param {React.MutableRefObject<T | null> | React.RefObject<T | null>} targetRef - ref object in property \"current\" of which ref will be saved\n */\n\nexport function handleRef<T>(\n  node: T,\n  propRef: RefCallback<T> | RefObject<T> | null | undefined,\n  targetRef: React.MutableRefObject<T | null> | React.RefObject<T | null>,\n) {\n  (targetRef as React.MutableRefObject<T>).current = node;\n\n  if (!propRef) {\n    return;\n  }\n\n  if (isRefObject(propRef)) {\n    propRef.current = node;\n  } else if (isRefCallback(propRef)) {\n    propRef(node);\n  }\n}\n","export const getScrollableParents = (parent: Element | null | undefined) => {\n  const parents: Array<Element> = [];\n\n  if (parent) {\n    let currentParent = parent;\n    while (currentParent) {\n      const computedStyle = window.getComputedStyle(currentParent);\n      if (\n        computedStyle.getPropertyValue('overflow') === 'auto' ||\n        computedStyle.getPropertyValue('overflow') === 'scroll' ||\n        computedStyle.getPropertyValue('overflow-x') === 'auto' ||\n        computedStyle.getPropertyValue('overflow-x') === 'scroll' ||\n        computedStyle.getPropertyValue('overflow-y') === 'auto' ||\n        computedStyle.getPropertyValue('overflow-y') === 'scroll'\n      ) {\n        parents.push(currentParent);\n      }\n      currentParent = currentParent.parentElement as Element;\n    }\n  }\n  return parents;\n};\n","// https://github.com/reach/observe-rect\n\nconst props: (keyof DOMRect)[] = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nconst rectChanged = (a: DOMRect = {} as DOMRect, b: DOMRect = {} as DOMRect) =>\n  props.some((prop) => a[prop] !== b[prop]);\n\nconst observedNodes = new Map<Element, RectProps>();\n\nlet rafId: number;\n\nconst run = () => {\n  const changedStates: RectProps[] = [];\n  observedNodes.forEach((state, node) => {\n    const { bottom, height, left, right, top, width, x, y } = node.getBoundingClientRect();\n\n    //IE fix: The returned object lacks x & y values\n    const newRect = { bottom, height, left, right, top, width, x: x || left, y: y || top } as DOMRect;\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n\n  changedStates.forEach((state) => {\n    state.callbacks.forEach((cb) => cb(state.rect));\n  });\n\n  rafId = window.requestAnimationFrame(run);\n};\n\nexport default function observeRect(\n  node: Element,\n  cb: (rect: DOMRect | undefined) => void,\n): { observe: () => void; unobserve: () => void } {\n  return {\n    observe() {\n      const wasEmpty = observedNodes.size === 0;\n      if (observedNodes.has(node)) {\n        observedNodes.get(node)?.callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb],\n        });\n      }\n      if (wasEmpty) run();\n    },\n\n    unobserve() {\n      const state = observedNodes.get(node);\n      if (state) {\n        // Remove the callback\n        const index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1);\n\n        // Remove the node reference\n        if (!state.callbacks.length) observedNodes.delete(node);\n\n        // Stop the loop\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    },\n  };\n}\n\nexport type RectProps = {\n  rect: DOMRect | undefined;\n  hasRectChanged: boolean;\n  callbacks: ((rect: DOMRect | undefined) => void)[];\n};\n","import styled from 'styled-components';\nimport * as React from 'react';\nimport observeRect from '#ui-kit3/components/common/observeRect';\nimport { createPortal } from 'react-dom';\n\nexport const PositionedPortalContainer = styled.div`\n  pointer-events: none;\n  position: fixed;\n  overflow: visible;\n  z-index: ${({ theme }) => theme.zIndex.dropdown};\n`;\n\nexport interface PositionInPortalProps {\n  /** Ref на элемент, относительно которого позиционируется портал */\n  targetRef: React.RefObject<HTMLElement>;\n  /** Контейнер, внутри которого будет отрисован портал, по умолчанию портал рендерится в document.body */\n  container?: Element;\n  /** Отрисовка портала на всю ширину контейнера */\n  fullContainerWidth?: boolean;\n}\n\n/**\n * При фиксированном позиционировании (как у PositionedPortalContainer) элемент позиционируется\n * всегда относительно исходного содержащего блока (окна браузера).\n * Исключение, когда один из его предков имеет свойство transform, perspective, или filter,\n * установленное на что-то иное, кроме none, в этом случае этот предок ведет\n * себя как содержащий блок. Тогда top, right, bottom и left элемента рассчитываются относительно этого содержащего блока.\n * Если у такого предка кроме transform задано свойство overflow: hidden, то элемент будет обрезаться по его краям.\n *\n * В связи с вышеописанным в качестве контейнера для портала рекомендуется выбирать элемент, у предков которого нет свойств\n * transform, perspective, или filter отличных от none. Также рекомендуется размещать контейнер портала в самом низу dom-дерева,\n * чтобы избежать возможных конфликтов стилей.\n */\nexport const PositionInPortal = ({\n  targetRef,\n  container,\n  fullContainerWidth,\n  ...props\n}: React.PropsWithChildren<PositionInPortalProps>) => {\n  const positionedPortalContainerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const node = positionedPortalContainerRef.current;\n    if (node && targetRef.current) {\n      const observer = observeRect(targetRef.current, (rect) => {\n        if (rect) {\n          const { x, y, height, width } = rect;\n          const { style } = node;\n          style.top = `${y}px`;\n          style.left = fullContainerWidth ? '0px' : `${x}px`;\n          style.height = `${height}px`;\n          style.width = fullContainerWidth ? '100%' : `${width}px`;\n        }\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [targetRef.current, positionedPortalContainerRef.current, fullContainerWidth]);\n\n  return createPortal(\n    <PositionedPortalContainer ref={positionedPortalContainerRef} {...props} />,\n    container || document.body,\n  );\n};\n","import styled from 'styled-components';\nimport { PositionInPortal } from '#ui-kit3/components/PositionInPortal';\nimport type { PositionInPortalProps } from '#ui-kit3/components/PositionInPortal';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst TOOLTIP_PADDING = '4px 8px';\nconst TOOLTIP_BORDER_RADIUS = '4px';\n\nexport const TooltipWrapper = styled.div`\n  box-sizing: border-box;\n  opacity: 0;\n  transition-delay: 200ms;\n  transition-property: opacity;\n  align-self: center;\n  width: max-content;\n  min-width: max-content;\n  pointer-events: initial;\n`;\n\nexport const TooltipContainer = styled.div`\n  box-sizing: border-box;\n  background-color: ${({ theme }) => theme.color.background.primary};\n  ${typography['Body/Body 2 Short']}\n  border-radius: ${TOOLTIP_BORDER_RADIUS};\n  ${(props) => props.theme.shadow.ClickableDefault}\n  padding: ${TOOLTIP_PADDING};\n  max-width: min(488px, calc(100vw - 16px));\n`;\n\nexport const FakeTarget = styled.div`\n  pointer-events: none;\n  height: 100%;\n  width: 100%;\n  flex: 0 0 auto;\n`;\n\nexport const Portal = styled(PositionInPortal)<\n  PositionInPortalProps & { flexDirection?: 'row' | 'row-reverse' | 'column' | 'column-reverse' }\n>`\n  display: flex;\n  flex-wrap: nowrap;\n  ${({ flexDirection }) => (flexDirection ? `flex-direction: ${flexDirection};` : '')}\n`;\n\nexport const AnchorWrapper = styled.div`\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n`;\n","const getScrollbarSize = () => {\n  let scrollBarWidth = 0;\n  const scrollbox = document.createElement('div');\n  scrollbox.innerHTML = `Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem \n  nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat. \n  Ut wisis enim ad minim veniam, quis nostrud exerci tution ullamcorper suscipit \n  lobortis nisl ut aliquip ex ea commodo consequat.`;\n  scrollbox.style.overflow = 'scroll';\n  scrollbox.style.fontSize = '14px';\n  scrollbox.style.height = '50px';\n  scrollbox.style.maxHeight = '50px';\n  scrollbox.style.width = '100px';\n  scrollbox.style.position = 'absolute';\n  scrollbox.style.top = '-100000px';\n  scrollbox.style.left = '-100000px';\n  document.body.appendChild(scrollbox);\n  scrollBarWidth = scrollbox.offsetWidth - scrollbox.clientWidth;\n  document.body.removeChild(scrollbox);\n  return scrollBarWidth;\n};\n\n/**\n * Обычно ширину полосы прокрутки можно вычислить с помощью offsetWidth - clientWidth. Но есть исключение:\n * если на Mac в настройках стоит System Preferences -> General -> Show scroll bars: Automatically based on mouse or trackpad,\n * то полоса прокрутки будет выводиться поверх всего layoutа и результатом вычислений offsetWidth - clientWidth будет 0.\n * Поэтому, если getScrollbarSize будет возвращать 0, буду вместо 0 брать стандартную для Mac ширину полосы прокрутки (16 пикселей)\n * https://gist.github.com/martynchamberlin/6aaf8a45b36907e9f1e21a28889f6b0a\n */\n/** отступ от правого и нижнего края, чтобы тултип не заходил за полосу прокрутки */\nconst SCROLLBAR_GAP = getScrollbarSize() || 16;\n/** отступ от вызвавшего элемента (anchorElement) */\nconst GAP = 8;\n\nexport type TooltipPositionType = 'bottom' | 'top' | 'left' | 'right' | 'bottomPageCenter' | 'topPageCenter';\nexport type CalculationResult = {\n  check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => boolean;\n};\n\n// расположены в порядке приоритета при подборе стороны открытия тултипа\nconst POSITION_MAPPER: Record<TooltipPositionType, CalculationResult> = {\n  bottom: {\n    /** проверяем, что тултипу хватит места сверху и по ширине (если ширина тултипа больше\n     * ширины вызвавшего элемента (anchorElement), то нужно убедиться, что тултипу хватит\n     * места слева и справа */\n    check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => {\n      const isEnoughOnBottom = window.innerHeight - anchorElementRect.bottom - SCROLLBAR_GAP > GAP + tooltipRect.height;\n      const isEnoughOnLeft = anchorElementRect.left + anchorElementRect.width / 2 > tooltipRect.width / 2;\n      const isEnoughOnRight =\n        window.innerWidth - anchorElementRect.right - SCROLLBAR_GAP + anchorElementRect.width / 2 >\n        tooltipRect.width / 2;\n      return isEnoughOnBottom && isEnoughOnLeft && isEnoughOnRight;\n    },\n  },\n  top: {\n    /** проверяем, что тултипу хватит места сверху и по ширине (если ширина тултипа больше\n     * ширины вызвавшего элемента (anchorElement), то нужно убедиться, что тултипу хватит\n     * места слева и справа */\n    check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => {\n      const isEnoughOnTop = anchorElementRect.top > GAP + tooltipRect.height;\n      const isEnoughOnLeft = anchorElementRect.left + anchorElementRect.width / 2 > tooltipRect.width / 2;\n      const isEnoughOnRight =\n        window.innerWidth - anchorElementRect.right - SCROLLBAR_GAP + anchorElementRect.width / 2 >\n        tooltipRect.width / 2;\n      return isEnoughOnTop && isEnoughOnLeft && isEnoughOnRight;\n    },\n  },\n  left: {\n    /** проверяем, что тултипу хватит места слева и по высоте (если высота тултипа больше\n     * высоты вызвавшего элемента (anchorElement), то нужно убедиться, что тултипу хватит\n     * места сверху и снизу) */\n    check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => {\n      const isEnoughOnLeft = anchorElementRect.left > GAP + tooltipRect.width;\n      const isEnoughOnTop = anchorElementRect.top > (tooltipRect.height - anchorElementRect.height) / 2;\n      const isEnoughOnBottom =\n        window.innerHeight - anchorElementRect.bottom - SCROLLBAR_GAP >\n        (tooltipRect.height - anchorElementRect.height) / 2;\n      return isEnoughOnLeft && isEnoughOnBottom && isEnoughOnTop;\n    },\n  },\n  right: {\n    /** проверяем, что тултипу хватит места справа и по высоте (если высота тултипа больше\n     * высоты вызвавшего элемента (anchorElement), то нужно убедиться, что тултипу хватит\n     * места сверху и снизу) */\n    check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => {\n      const isEnoughOnRight = window.innerWidth - anchorElementRect.right - SCROLLBAR_GAP > GAP + tooltipRect.width;\n      const isEnoughOnTop = anchorElementRect.top > (tooltipRect.height - anchorElementRect.height) / 2;\n      const isEnoughOnBottom =\n        window.innerHeight - anchorElementRect.bottom - SCROLLBAR_GAP >\n        (tooltipRect.height - anchorElementRect.height) / 2;\n      return isEnoughOnRight && isEnoughOnBottom && isEnoughOnTop;\n    },\n  },\n  bottomPageCenter: {\n    /** проверяем, что тултипу хватит места снизу и по центру */\n    check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => {\n      const isEnoughOnBottom = window.innerHeight - anchorElementRect.bottom - SCROLLBAR_GAP > GAP + tooltipRect.height;\n      const isEnoughOnCenter = window.innerWidth - SCROLLBAR_GAP >= tooltipRect.width;\n      return isEnoughOnBottom && isEnoughOnCenter;\n    },\n  },\n  topPageCenter: {\n    /** проверяем, что тултипу хватит места сверху и по центру */\n    check: (anchorElementRect: DOMRect, tooltipRect: DOMRect) => {\n      const isEnoughOnTop = anchorElementRect.top > GAP + tooltipRect.height;\n      const isEnoughOnCenter = window.innerWidth - SCROLLBAR_GAP >= tooltipRect.width;\n      return isEnoughOnTop && isEnoughOnCenter;\n    },\n  },\n};\n\nexport function getTooltipDirection(\n  anchorElement: HTMLElement,\n  tooltipElement: HTMLElement,\n  tooltipPosition?: TooltipPositionType,\n): any {\n  const anchorElementRect: DOMRect = anchorElement.getBoundingClientRect();\n  const tooltipRect: DOMRect = tooltipElement.getBoundingClientRect();\n  const positions = Object.entries(POSITION_MAPPER) as [TooltipPositionType, CalculationResult][];\n\n  const compatiblePositions = tooltipPosition\n    ? positions.filter((kv) => {\n        return kv[0] === tooltipPosition;\n      })\n    : positions.filter((kv) => {\n        return kv[1].check(anchorElementRect, tooltipRect);\n      });\n\n  return compatiblePositions.length ? compatiblePositions[0][0] : 'bottom';\n}\n","import * as React from 'react';\n\nimport type { RefCallback, RefObject } from '../common/utils/handleRef';\nimport { handleRef } from '../common/utils/handleRef';\nimport { getScrollableParents } from '../common/utils/getScrollableParents';\n\nimport { TooltipWrapper, FakeTarget, Portal, AnchorWrapper, TooltipContainer } from './style';\nimport type { TooltipPositionType } from './utils';\nimport { getTooltipDirection } from './utils';\n\nexport interface ITooltipProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Функция, которая возвращает реакт-компонент с контентом тултипа. Если этому компоненту нужны props, используйте замыкание */\n  renderContent: () => React.ReactNode;\n  /** Контейнер, в котором будет отрисован тултип через React.createPortal. По умолчанию тултип отрисовывается в document.body */\n  container?: Element | null;\n  /** Отобразить тултип с задержкой в 1.5 секунды */\n  withDelay?: boolean;\n  /** Ссылка на тултип */\n  tooltipRef?: RefCallback<HTMLDivElement> | RefObject<HTMLDivElement> | null;\n  /** Расположение тултипа */\n  tooltipPosition?: TooltipPositionType;\n  /** ClassName для внешнего контейнера (AnchorWrapper) */\n  anchorClassName?: string;\n  /** Id для внешнего контейнера (AnchorWrapper) */\n  anchorId?: string;\n}\n\nconst TOOLTIP_DELAY = 1500;\n\nexport const Tooltip: React.FC<ITooltipProps> = ({\n  renderContent,\n  container: userContainer,\n  withDelay,\n  tooltipRef,\n  tooltipPosition,\n  children,\n  anchorClassName,\n  anchorId,\n  ...props\n}) => {\n  const anchorElementRef = React.useRef<HTMLDivElement | null>(null);\n  const tooltipElementRef = React.useRef<HTMLDivElement | null>(null);\n  const container: Element = userContainer || document.body;\n  let scrollableParents: Array<Element> | undefined = undefined;\n  let showTooltipTimer: any;\n\n  const [visible, setVisible] = React.useState<boolean>(false);\n  const [portalFlexDirection, setPortalFlexDirection] = React.useState<\n    undefined | 'row' | 'row-reverse' | 'column' | 'column-reverse'\n  >();\n  const [portalFullWidth, setPortalFullWidth] = React.useState(false);\n\n  const hideTooltip = () => setVisible(false);\n\n  const manageTooltip = () => {\n    if (anchorElementRef.current && tooltipElementRef.current) {\n      const direction = getTooltipDirection(anchorElementRef.current, tooltipElementRef.current, tooltipPosition);\n      const tooltip = tooltipElementRef.current;\n      switch (direction) {\n        case 'topPageCenter':\n          setPortalFlexDirection('column-reverse');\n          setPortalFullWidth(true);\n          tooltip.style.margin = '0 0 8px 0';\n          break;\n        case 'bottomPageCenter':\n          setPortalFlexDirection('column');\n          setPortalFullWidth(true);\n          tooltip.style.margin = '8px 0 0 0';\n          break;\n        case 'left':\n          setPortalFlexDirection('row-reverse');\n          setPortalFullWidth(false);\n          tooltip.style.margin = '0 8px 0 0';\n          break;\n        case 'right':\n          setPortalFlexDirection('row');\n          setPortalFullWidth(false);\n          tooltip.style.margin = '0 0 0 8px';\n          break;\n        case 'top':\n          setPortalFlexDirection('column-reverse');\n          setPortalFullWidth(false);\n          tooltip.style.margin = '0 0 8px 0';\n          break;\n        case 'bottom':\n        default:\n          setPortalFlexDirection('column');\n          setPortalFullWidth(false);\n          tooltip.style.margin = '8px 0 0 0';\n      }\n    }\n  };\n\n  const attachRef = (node: HTMLDivElement) => handleRef(node, tooltipRef, tooltipElementRef);\n\n  React.useEffect(() => {\n    window.addEventListener('resize', hideTooltip);\n    window.addEventListener('scroll', hideTooltip);\n\n    /**  если у anchorElement есть родительский элемент, который имеет собственный скролл,\n     * необходимо повесить на этого родителя обработчик скролла */\n    if (!scrollableParents && anchorElementRef.current) {\n      scrollableParents = getScrollableParents(anchorElementRef.current);\n      scrollableParents?.forEach((el) => el.addEventListener('scroll', hideTooltip));\n    }\n    return () => {\n      clearTimeout(showTooltipTimer);\n      window.removeEventListener('resize', hideTooltip);\n      window.removeEventListener('scroll', hideTooltip);\n      scrollableParents?.forEach((el) => el.removeEventListener('scroll', hideTooltip));\n    };\n  });\n\n  React.useEffect(() => {\n    manageTooltip();\n  }, [renderContent(), anchorElementRef, tooltipPosition, container]);\n\n  // First container render always happens downward and transparent,\n  // after size and position settled transparency returns to normal\n  React.useEffect(() => {\n    if (tooltipElementRef.current) {\n      tooltipElementRef.current.style.opacity = '1';\n    }\n  }, [tooltipElementRef.current, visible]);\n\n  /** Вешаю обработчик на mouseenter через addEventListener,\n   * React SyntheticEvent onMouseEnter отрабатывает некорректно в случае,\n   * если мышь была наведена на задизейбленный элемент, а потом была передвинута на AnchorWrapper\n   * https://github.com/facebook/react/issues/19419#:~:text=mouseenter%20does%20not%20fire%20because,element%20of%20the%20opposing%20event.\n   */\n  React.useEffect(() => {\n    anchorElementRef.current?.addEventListener('mouseenter', handleMouseEnter);\n    anchorElementRef.current?.addEventListener('mouseleave', handleMouseLeave);\n    return () => {\n      anchorElementRef.current?.removeEventListener('mouseenter', handleMouseEnter);\n      anchorElementRef.current?.removeEventListener('mouseleave', handleMouseLeave);\n    };\n  }, [anchorElementRef.current]);\n\n  const handleMouseEnter = () => {\n    showTooltipTimer = window.setTimeout(\n      () => {\n        setVisible(true);\n        manageTooltip();\n      },\n      withDelay ? TOOLTIP_DELAY : 0,\n    );\n  };\n\n  const handleMouseLeave = () => {\n    clearTimeout(showTooltipTimer);\n    hideTooltip();\n  };\n\n  return (\n    <AnchorWrapper\n      onFocus={handleMouseEnter}\n      onBlur={handleMouseLeave}\n      ref={anchorElementRef}\n      className={anchorClassName}\n      id={anchorId}\n    >\n      {children}\n      {visible && (\n        <Portal\n          targetRef={anchorElementRef}\n          container={container}\n          flexDirection={portalFlexDirection}\n          fullContainerWidth={portalFullWidth}\n        >\n          <FakeTarget />\n          <TooltipWrapper ref={attachRef}>\n            <TooltipContainer role=\"tooltip\" {...props}>\n              {renderContent()}\n            </TooltipContainer>\n          </TooltipWrapper>\n        </Portal>\n      )}\n    </AnchorWrapper>\n  );\n};\n\nTooltip.displayName = 'Tooltip';\n","import type { FC, MouseEvent } from 'react';\nimport React from 'react';\n\nimport {\n  addMonths,\n  addYears,\n  differenceMonths,\n  differenceYears,\n  getFormattedValue,\n  subMonths,\n  subYears,\n} from '../date-utils';\nimport { PanelComponent } from '../styled/PanelComponent';\nimport { Month, PanelDate, Year } from '../styled/PanelDate';\nimport type { LocaleType } from '../constants';\nimport {\n  BACK,\n  capitalizeFirstLetter,\n  FORWARD,\n  NEXT_MONTH,\n  PREVIOUS_MONTH,\n  RETURN,\n  SELECT_MONTH,\n  SELECT_YEAR,\n} from '../constants';\nimport { Tooltip } from '../../Tooltip';\n\nimport { Button } from './Button';\n\ninterface IPanelProps {\n  onYearsViewShow(event: MouseEvent<HTMLDivElement>): void;\n\n  onYearsViewHide(event: MouseEvent<HTMLDivElement>): void;\n\n  onMonthsViewShow(event: MouseEvent<HTMLDivElement>): void;\n\n  onMonthsViewHide(event: MouseEvent<HTMLDivElement>): void;\n\n  onNext(event: MouseEvent<HTMLDivElement>): void;\n\n  onPrevious(event: MouseEvent<HTMLDivElement>): void;\n\n  viewDate: Date;\n  yearsView: boolean;\n  monthsView: boolean;\n  localeName: LocaleType;\n  minDate?: Date;\n  maxDate?: Date;\n  tooltipContainer?: Element | null;\n}\n\nexport const Panel: FC<IPanelProps> = ({\n  viewDate,\n  minDate,\n  maxDate,\n  yearsView,\n  monthsView,\n  localeName,\n  onYearsViewShow,\n  onYearsViewHide,\n  onMonthsViewShow,\n  onMonthsViewHide,\n  onNext,\n  onPrevious,\n}) => {\n  const previousMonthDisabled = !!minDate && differenceMonths(minDate, subMonths(viewDate, 1)) > 0;\n  const nextMonthDisabled = !!maxDate && differenceMonths(addMonths(viewDate, 1), maxDate) > 0;\n  const previousYearDisabled = !!minDate && differenceYears(minDate, subYears(viewDate, 1)) > 0;\n  const nextYearDisabled = !!maxDate && differenceYears(addYears(viewDate, 1), maxDate) > 0;\n  const previousDisabled = yearsView ? previousYearDisabled : previousMonthDisabled;\n  const nextDisabled = yearsView ? nextYearDisabled : nextMonthDisabled;\n\n  const monthMouseDownHandle = (event: any) => {\n    event.preventDefault();\n    monthsView ? onMonthsViewHide(event) : onMonthsViewShow(event);\n  };\n  const yearMouseDownHandle = (event: any) => {\n    event.preventDefault();\n    yearsView ? onYearsViewHide(event) : onYearsViewShow(event);\n  };\n  return (\n    <PanelComponent yearsView={yearsView} monthsView={monthsView} className=\"ui-kit-calendar-panel-component\">\n      {!monthsView && (\n        <Tooltip renderContent={() => (yearsView ? BACK : PREVIOUS_MONTH)}>\n          <Button onMouseDown={onPrevious} disabled={previousDisabled} type=\"left\" />\n        </Tooltip>\n      )}\n      <PanelDate>\n        <Tooltip renderContent={() => (monthsView ? RETURN : SELECT_MONTH)}>\n          <Month view={monthsView} onMouseDown={monthMouseDownHandle}>\n            {capitalizeFirstLetter(getFormattedValue(viewDate, { month: 'long' }, localeName))}\n          </Month>\n        </Tooltip>\n        <Tooltip renderContent={() => (yearsView ? RETURN : SELECT_YEAR)}>\n          <Year view={yearsView} onMouseDown={yearMouseDownHandle}>\n            {viewDate.getFullYear()}\n          </Year>\n        </Tooltip>\n      </PanelDate>\n      {!monthsView && (\n        <Tooltip renderContent={() => (yearsView ? FORWARD : NEXT_MONTH)}>\n          <Button onMouseDown={onNext} disabled={nextDisabled} type=\"right\" />\n        </Tooltip>\n      )}\n    </PanelComponent>\n  );\n};\n","import styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst CALENDAR_WIDTH = 284;\nconst YEARS_VIEW_PADDING = '20px 12px 16px';\nconst MONTHS_VIEW_PADDING = '20px 16px 4px';\nconst DAYS_VIEW_PADDING = '20px 12px 12px';\n\ntype CalendarComponentProps = {\n  yearsView: boolean;\n  monthsView: boolean;\n};\n\nexport const CalendarComponent = styled.div<CalendarComponentProps>`\n  position: relative;\n  box-sizing: border-box;\n  text-align: center;\n  border: 0 none;\n  z-index: 0; /* to fix range rounded corners fill */\n\n  padding: ${({ yearsView, monthsView }) => {\n    if (yearsView) return YEARS_VIEW_PADDING;\n    if (monthsView) return MONTHS_VIEW_PADDING;\n    return DAYS_VIEW_PADDING;\n  }};\n\n  width: ${CALENDAR_WIDTH}px;\n  background: ${({ theme }) => theme.color.background.primary};\n  ${typography['Body/Body 2 Long']}\n`;\n","import React, { useEffect, useState } from 'react';\n\nimport { DEFAULT_LOCALE_NAME, DEFAULT_YEAR_COUNT } from './constants';\nimport { getDefaultDateValidator } from './validator';\nimport { DayNames, Month, Months, Panel, Years } from './components';\nimport {\n  addMonths,\n  addYears,\n  after,\n  before,\n  changeTime,\n  equal,\n  setMonth,\n  setYear,\n  subMonths,\n  subYears,\n  valid,\n} from './date-utils';\nimport { CalendarComponent } from './styled/CalendarComponent';\nimport { ViewScreenType } from './interfaces';\nimport type { CalendarPropType, IDateSelectionProps } from './interfaces';\n\nexport type { CalendarPropType, IDateSelectionProps, ViewScreenType };\n\nexport const Calendar = React.forwardRef<HTMLDivElement, CalendarPropType>(\n  (\n    {\n      startDate,\n      endDate,\n      validator,\n      minDate,\n      maxDate,\n      selected,\n      range,\n      tooltipContainer,\n      localeName = DEFAULT_LOCALE_NAME,\n      filterDate,\n      currentActiveView,\n      currentActiveViewImportant,\n      onChange,\n      onDateIncreaseDecrease,\n      onMonthSelect,\n      onYearSelect,\n      onViewEnter,\n      onViewLeave,\n      onViewMonthSelect,\n      onViewYearSelect,\n      ...props\n    },\n    ref,\n  ) => {\n    const getInitialViewDate = () => {\n      const current = new Date();\n      if (selected) {\n        return selected;\n      } else {\n        if (minDate && before(current, minDate)) {\n          return minDate;\n        } else if (maxDate && after(current, maxDate)) {\n          return maxDate;\n        }\n      }\n      return current;\n    };\n\n    // дата, которую отображаем (в том числе в верхней панели)\n    const [viewDate, setViewDate] = useState(getInitialViewDate());\n    // активная дата, на которой сейчас ховер\n    const [activeDate, setActiveDate] = useState<Date | null>(null);\n    // отображаем выбор года\n    const [yearsView, setYearsView] = useState(false);\n    // отображаем выбор месяца\n    const [monthsView, setMonthsView] = useState(false);\n\n    // показать экран выбора года или месяца в зависимости от внешнего параметра currentActiveView\n    useEffect(() => {\n      if (currentActiveView === 'MONTH') {\n        setYearsView(false);\n        setMonthsView(true);\n      }\n      if (currentActiveView === 'YEAR') {\n        setMonthsView(false);\n        setYearsView(true);\n      }\n      if (currentActiveView === 'DAY') {\n        setYearsView(false);\n        setMonthsView(false);\n      }\n    }, [currentActiveView]);\n\n    useEffect(() => {\n      setViewDate(getInitialViewDate());\n    }, [selected]);\n\n    useEffect(() => {\n      if (range && startDate) {\n        changeYear(startDate.getFullYear());\n        changeMonth(startDate.getMonth());\n      }\n    }, []);\n\n    useEffect(() => {\n      yearsView ? onViewEnter && onViewEnter('YEAR') : onViewLeave && onViewLeave('YEAR');\n    }, [yearsView]);\n\n    useEffect(() => {\n      monthsView ? onViewEnter && onViewEnter('MONTH') : onViewLeave && onViewLeave('MONTH');\n    }, [monthsView]);\n\n    const getValidator = () => {\n      return validator || getDefaultDateValidator(minDate, maxDate);\n    };\n\n    const handleYearsViewShow = () => {\n      if (!currentActiveViewImportant) {\n        setYearsView(true);\n        setMonthsView(false);\n      }\n      onViewYearSelect && onViewYearSelect();\n    };\n    const handleYearsViewHide = () => {\n      if (!currentActiveViewImportant) {\n        setYearsView(false);\n      }\n      onViewYearSelect && onViewYearSelect();\n    };\n\n    const handleMonthsViewShow = () => {\n      if (!currentActiveViewImportant) {\n        setYearsView(false);\n        setMonthsView(true);\n      }\n      onViewMonthSelect && onViewMonthSelect();\n    };\n    const handleMonthsViewHide = () => {\n      if (!currentActiveViewImportant) {\n        setMonthsView(false);\n      }\n      onViewMonthSelect && onViewMonthSelect();\n    };\n\n    const changeYear = (year: number) => setViewDate((date) => setYear(date, year));\n    const changeMonth = (month: number) => setViewDate((date) => setMonth(date, month));\n\n    const increaseYear = () =>\n      setViewDate((date) => {\n        const increase = addYears(date, yearsView ? DEFAULT_YEAR_COUNT : 1);\n        onDateIncreaseDecrease && onDateIncreaseDecrease(increase);\n        return increase;\n      });\n    const decreaseYear = () =>\n      setViewDate((date) => {\n        const decrease = subYears(date, yearsView ? DEFAULT_YEAR_COUNT : 1);\n        onDateIncreaseDecrease && onDateIncreaseDecrease(decrease);\n        return decrease;\n      });\n\n    const increaseMonth = () =>\n      setViewDate((date) => {\n        const increase = addMonths(date, 1);\n        onDateIncreaseDecrease && onDateIncreaseDecrease(increase);\n        return increase;\n      });\n    const decreaseMonth = () =>\n      setViewDate((date) => {\n        const decrease = subMonths(date, 1);\n        onDateIncreaseDecrease && onDateIncreaseDecrease(decrease);\n        return decrease;\n      });\n\n    const handleDayMouseEnter = (day: Date, _: any) => setActiveDate(day);\n    const handleMonthMouseLeave = () => setActiveDate(null);\n\n    const handleDayClick = (day: Date, event: any) => {\n      let date = day;\n      if (range || !equal(selected, date)) {\n        date = changeTime(date, selected);\n        if (range) {\n          if (!startDate && !endDate) {\n            onChange([date, null], event);\n          } else if (startDate && !endDate) {\n            if (before(date, startDate)) {\n              onChange([date, null], event);\n            } else {\n              onChange([startDate, date], event);\n            }\n          } else if (!startDate && endDate) {\n            if (before(date, endDate)) {\n              onChange([date, endDate], event);\n            } else {\n              onChange([date, null], event);\n            }\n          }\n          if (startDate && endDate) {\n            onChange([date, null], event);\n          }\n        } else {\n          onChange(date, event);\n        }\n      }\n    };\n\n    const handleYearClick = (date: Date) => {\n      changeYear(date.getFullYear());\n      !currentActiveViewImportant && setYearsView(false);\n      onYearSelect && onYearSelect(date);\n    };\n\n    const handleMonthClick = (date: Date) => {\n      changeMonth(date.getMonth());\n      !currentActiveViewImportant && setMonthsView(false);\n      onMonthSelect && onMonthSelect(date);\n    };\n\n    const renderPanel = () => (\n      <Panel\n        viewDate={viewDate}\n        minDate={minDate}\n        maxDate={maxDate}\n        yearsView={yearsView}\n        monthsView={monthsView}\n        localeName={localeName}\n        onYearsViewShow={handleYearsViewShow}\n        onYearsViewHide={handleYearsViewHide}\n        onMonthsViewShow={handleMonthsViewShow}\n        onMonthsViewHide={handleMonthsViewHide}\n        onNext={yearsView ? increaseYear : increaseMonth}\n        onPrevious={yearsView ? decreaseYear : decreaseMonth}\n        tooltipContainer={tooltipContainer}\n      />\n    );\n\n    const renderMonth = () => (\n      <>\n        <DayNames date={viewDate} localeName={localeName} />\n        <Month\n          day={viewDate}\n          startDate={startDate}\n          endDate={endDate}\n          selected={selected}\n          activeDate={activeDate}\n          range={range}\n          localeName={localeName}\n          validator={getValidator()}\n          filterDate={filterDate}\n          onMouseEnter={handleDayMouseEnter}\n          onMouseLeave={handleMonthMouseLeave}\n          onClick={handleDayClick}\n        />\n      </>\n    );\n\n    const renderMonths = () => (\n      <Months\n        viewDate={viewDate}\n        startDate={startDate}\n        endDate={endDate}\n        selected={selected}\n        localeName={localeName}\n        range={range}\n        validator={getValidator()}\n        onClick={handleMonthClick}\n      />\n    );\n\n    const renderYears = () => (\n      <Years\n        viewDate={viewDate}\n        startDate={startDate}\n        endDate={endDate}\n        selected={selected}\n        localeName={localeName}\n        range={range}\n        validator={getValidator()}\n        onClick={handleYearClick}\n      />\n    );\n    return (\n      <CalendarComponent yearsView={yearsView} monthsView={monthsView} {...props} ref={ref}>\n        {renderPanel()}\n        {yearsView && renderYears()}\n        {monthsView && renderMonths()}\n        {!yearsView && !monthsView && renderMonth()}\n      </CalendarComponent>\n    );\n  },\n);\n\nCalendar.defaultProps = {\n  localeName: DEFAULT_LOCALE_NAME,\n};\n\nCalendar.displayName = 'Calendar';\n","import styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\ntype Dimension = 'm' | 's';\n\nconst DIMENSION_M = '20px';\nconst DIMENSION_S = '18px';\nconst BORDER_WIDTH_DEFAULT = '1px';\nconst BORDER_WIDTH_CHECKED = '6px';\nconst TEXT_PADDING_M = '10px';\nconst TEXT_PADDING_S = '9px';\n\nexport const Span = styled.span<{ dimension: Dimension; disabled?: boolean }>`\n  display: inline-block;\n  position: absolute;\n  margin: 0;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  content: '';\n  box-sizing: border-box;\n  ${({ theme, dimension }) => `\n    background-color: ${theme.color.background.primary};\n    width: ${dimension === 's' ? DIMENSION_S : DIMENSION_M};\n    height: ${dimension === 's' ? DIMENSION_S : DIMENSION_M};\n  `}\n  fieldset[data-dimension='s'] & {\n    width: ${DIMENSION_S};\n    height: ${DIMENSION_S};\n  }\n  border: ${BORDER_WIDTH_DEFAULT} solid\n    ${({ theme, disabled }) => (disabled ? theme.color.basic.disable : theme.color.text.secondary)};\n  fieldset:disabled & {\n    border: ${BORDER_WIDTH_DEFAULT} solid ${({ theme }) => theme.color.basic.disable};\n  }\n  border-radius: 50%;\n  transition: all 0.25s ease-in-out;\n`;\n\nexport const InputContainer = styled.div<{ dimension: Dimension }>`\n  position: relative;\n  display: inline-block;\n  ${({ dimension }) => `\n    min-width: ${dimension === 's' ? DIMENSION_S : DIMENSION_M};\n    height: ${dimension === 's' ? DIMENSION_S : DIMENSION_M};\n  `}\n  fieldset[data-dimension='s'] & {\n    min-width: ${DIMENSION_S};\n    height: ${DIMENSION_S};\n  }\n`;\n\nexport const Input = styled.input`\n  opacity: 0;\n  width: 0;\n  height: 0;\n\n  &:checked:disabled + ${Span} {\n    border: ${BORDER_WIDTH_CHECKED} solid ${({ theme }) => theme.color.basic.disable};\n  }\n\n  &:checked:not(disabled) + ${Span} {\n    border: ${BORDER_WIDTH_CHECKED} solid ${({ theme }) => theme.color.basic.primary};\n  }\n\n  &:checked:not(:disabled) {\n    &:focus + ${Span}, &:hover + ${Span} {\n      ${({ theme }) =>\n        `\n          background-color: ${theme.color.background.primary};\n          border: ${BORDER_WIDTH_CHECKED} solid ${theme.color.basic.hover};\n        `}\n    }\n  }\n\n  &:not(checked):not(:disabled) {\n    &:focus + ${Span}, &:hover + ${Span} {\n      ${({ theme }) =>\n        `\n          background-color: ${theme.color.background.secondary};\n          border: ${BORDER_WIDTH_DEFAULT} solid ${theme.color.basic.primary};\n        `}\n    }\n  }\n`;\n\nexport const Label = styled.span<{\n  dimension: Dimension;\n  disabled?: boolean;\n}>`\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: content-box;\n  ${({ dimension }) => (dimension === 's' ? typography['Body/Body 2 Short'] : typography['Body/Body 1 Short'])}\n  padding-left: ${({ dimension }) => (dimension === 's' ? TEXT_PADDING_S : TEXT_PADDING_M)};\n  color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.basic.secondary)};\n\n  fieldset[data-dimension='s'] && {\n    ${typography['Body/Body 2 Short']}\n    padding-left: ${TEXT_PADDING_S};\n    color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.basic.secondary)};\n  }\n  fieldset:disabled && {\n    color: ${({ theme }) => theme.color.text.tertiary};\n  }\n  margin: auto 0;\n  user-select: none;\n`;\n\nexport const Hint = styled.span<{ dimension: Dimension; disabled?: boolean }>`\n  margin-top: 6px;\n  ${({ dimension }) => (dimension === 's' ? typography['Caption/Caption 1'] : typography['Body/Body 2 Short'])}\n  color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.text.secondary)};\n\n  fieldset[data-dimension='s'] && {\n    ${typography['Caption/Caption 1']}\n    color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.text.secondary)};\n  }\n`;\n\nexport const RadioButtonComponent = styled.label<{\n  disabled?: boolean;\n}>`\n  margin: 0;\n  padding: 0;\n  display: inline-flex;\n  align-items: flex-start;\n  box-sizing: content-box;\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  fieldset:disabled & {\n    cursor: default;\n  }\n`;\n","import * as React from 'react';\n\nimport { Hint, Input, InputContainer, Label, RadioButtonComponent, Span } from './style';\n\ntype Dimension = 'm' | 's';\n\nexport interface RadioButtonProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  /** Состояние кнопки, выбрана или нет */\n  checked?: boolean;\n  /** Отключение кнопки */\n  disabled?: boolean;\n  /** Размер радиокнопки */\n  dimension?: Dimension;\n  /** Дополнительный текст (подсказка), который выводится нижней строкой */\n  extraText?: React.ReactNode;\n}\n\nexport const RadioButton = React.forwardRef<HTMLInputElement, RadioButtonProps>(\n  ({ children, disabled, dimension = 'm', extraText, className, ...props }, ref) => {\n    return (\n      <RadioButtonComponent disabled={disabled} className={className}>\n        <InputContainer dimension={dimension}>\n          <Input ref={ref} type=\"radio\" disabled={disabled} {...props} />\n          <Span disabled={disabled} dimension={dimension} />\n        </InputContainer>\n        <Label disabled={disabled} dimension={dimension}>\n          {children}\n          {extraText && (\n            <Hint disabled={disabled} dimension={dimension}>\n              {extraText}\n            </Hint>\n          )}\n        </Label>\n      </RadioButtonComponent>\n    );\n  },\n);\n\nRadioButton.displayName = 'RadioButton';\n","import { TYPOGRAPHY } from '#ui-kit3/components/Typography';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\n\nexport interface LinkOwnProps {\n  /** Вид ссылки */\n  appearance?: AppearanceLink;\n  /** Отключение ссылки */\n  disabled?: boolean;\n  /** Размер ссылки */\n  dimension?: DimensionLink;\n}\n\nexport type AppearanceLink = 'primary' | 'secondary';\nexport type DimensionLink = 'm' | 's';\n\nexport const styleDisabledMixin = css<{ disabled?: boolean }>`\n  color: ${({ theme }) => theme.color.text.tertiary};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.tertiary};\n  }\n  user-select: none;\n`;\n\nexport const styleColorMixin = css<{ appearance?: AppearanceLink }>`\n  color: ${({ theme, appearance }) =>\n    appearance === 'secondary' ? theme.color.text.primary : theme.color.basic.primary};\n  & *[fill^='#'] {\n    fill: ${({ theme, appearance }) =>\n      appearance === 'secondary' ? theme.color.text.secondary : theme.color.basic.primary};\n  }\n`;\n\nexport const styleMixin = css`\n  &:hover {\n    color: ${({ theme }) => theme.color.basic.hover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n  &:focus {\n    color: ${({ theme }) => theme.color.basic.hover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n    outline-color: ${({ theme }) => theme.color.basic.hover};\n  }\n  &:active {\n    color: ${({ theme }) => theme.color.basic.press};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n`;\n\nexport const styleTextMixin = css<{ dimension?: DimensionLink }>`\n  font-size: ${({ dimension }) => (dimension === 'm' ? 16 : 14)}px;\n  font-weight: normal;\n  line-height: ${({ dimension }) => (dimension === 'm' ? 24 : 20)}px;\n  font-family: ${TYPOGRAPHY.fontFamily};\n`;\n\nexport const LinkCssMixin = css<LinkOwnProps>`\n  cursor: ${(props) => (props.disabled ? 'default' : 'pointer')};\n  display: flex;\n  pointer-events: ${(props) => (props.disabled ? 'none' : 'auto')};\n  align-items: center;\n  width: fit-content;\n  text-decoration: none;\n  position: relative;\n  ${styleMixin};\n  ${styleColorMixin};\n  ${styleTextMixin};\n  ${(props) => (props.disabled ? styleDisabledMixin : '')}\n`;\n\nexport const LinkComponent = styled.a<LinkOwnProps>`\n  ${LinkCssMixin}\n`;\n\nexport interface LinkProps extends LinkOwnProps, React.AnchorHTMLAttributes<HTMLAnchorElement> {}\n\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  ({ disabled = false, appearance = 'primary', dimension = 'm', ...props }, ref) => {\n    return (\n      <LinkComponent\n        dimension={dimension}\n        ref={ref}\n        tabIndex={disabled ? -1 : props.tabIndex}\n        disabled={disabled}\n        appearance={appearance}\n        {...props}\n      />\n    );\n  },\n);\n\nLink.displayName = 'Link';\n","import { css } from 'styled-components';\n\nexport const primaryAppearanceMixin = css`\n  background-color: ${({ theme }) => theme.color.basic.primary};\n  color: ${({ theme }) => theme.color.text.staticWhite};\n  border: 2px solid ${({ theme }) => theme.color.basic.primary};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.staticWhite};\n  }\n\n  :focus,\n  :hover {\n    background-color: ${({ theme }) => theme.color.basic.hover};\n    border-color: ${({ theme }) => theme.color.basic.hover};\n  }\n\n  :active {\n    background-color: ${({ theme }) => theme.color.basic.press};\n    border-color: ${({ theme }) => theme.color.basic.press};\n  }\n\n  &[data-appearance~='disabled'],\n  :disabled {\n    background-color: ${({ theme }) => theme.color.basic.disable};\n    color: ${({ theme }) => theme.color.text.inversion};\n    border-color: ${({ theme }) => theme.color.basic.disable};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.inversion};\n    }\n  }\n`;\n","import { css } from 'styled-components';\n\nexport const secondaryAppearanceMixin = css`\n  background-color: transparent;\n  color: ${({ theme }) => theme.color.basic.primary};\n  border: 2px solid ${({ theme }) => theme.color.basic.primary};\n\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.primary};\n  }\n\n  &:focus,\n  &:hover {\n    background-color: ${({ theme }) => theme.color.background.secondary};\n    color: ${({ theme }) => theme.color.basic.hover};\n    border-color: ${({ theme }) => theme.color.basic.hover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.color.background.secondary};\n    color: ${({ theme }) => theme.color.basic.press};\n    border-color: ${({ theme }) => theme.color.basic.press};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n\n  &[data-appearance~='disabled'],\n  &:disabled {\n    background-color: ${({ theme }) => theme.color.background.primary};\n    color: ${({ theme }) => theme.color.text.tertiary};\n    border-color: ${({ theme }) => theme.color.text.tertiary};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n","import { css } from 'styled-components';\n\nexport const ghostAppearanceMixin = css`\n  background-color: transparent;\n  color: ${({ theme }) => theme.color.basic.primary};\n  border: 2px solid transparent;\n\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.primary};\n  }\n\n  &:focus,\n  &:hover {\n    background-color: ${({ theme }) => theme.color.background.secondary};\n    color: ${({ theme }) => theme.color.basic.hover};\n    border-color: ${({ theme }) => theme.color.background.secondary};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.color.background.secondary};\n    color: ${({ theme }) => theme.color.basic.press};\n    border-color: ${({ theme }) => theme.color.background.secondary};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n\n  &[data-appearance~='disabled'],\n  &:disabled {\n    background-color: transparent;\n    color: ${({ theme }) => theme.color.text.tertiary};\n    border-color: transparent;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n","import { css } from 'styled-components';\n\nexport const whiteAppearanceMixin = css`\n  background-color: transparent;\n  color: ${({ theme }) => theme.color.text.staticWhite};\n  border: 2px solid ${({ theme }) => theme.color.text.staticWhite};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.staticWhite};\n  }\n\n  &[data-appearance~='disabled'],\n  &:disabled {\n    border-color: ${({ theme }) => theme.color.basic.tertiary};\n    color: ${({ theme }) => theme.color.basic.tertiary};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.tertiary};\n    }\n  }\n`;\n","import { css } from 'styled-components';\n\nexport const dangerAppearanceMixin = css`\n  background-color: ${({ theme }) => theme.color.status.danger};\n  color: ${({ theme }) => theme.color.text.staticWhite};\n  border: 2px solid ${({ theme }) => theme.color.status.danger};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.staticWhite};\n  }\n\n  &:focus,\n  &:hover {\n    background-color: ${({ theme }) => theme.color.status.hoverDanger};\n    border-color: ${({ theme }) => theme.color.status.hoverDanger};\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.color.status.pressDanger};\n    border-color: ${({ theme }) => theme.color.status.pressDanger};\n  }\n\n  &[data-appearance~='disabled'],\n  &:disabled {\n    background-color: ${({ theme }) => theme.color.basic.disable};\n    color: ${({ theme }) => theme.color.text.inversion};\n    border-color: ${({ theme }) => theme.color.basic.disable};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.inversion};\n    }\n  }\n`;\n","import { css } from 'styled-components';\n\nexport const successAppearanceMixin = css`\n  background-color: ${({ theme }) => theme.color.status.success};\n  color: ${({ theme }) => theme.color.text.staticWhite};\n  border: 2px solid ${({ theme }) => theme.color.status.success};\n\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.staticWhite};\n  }\n\n  &:focus,\n  &:hover {\n    background-color: ${({ theme }) => theme.color.status.hoverSuccess};\n    border-color: ${({ theme }) => theme.color.status.hoverSuccess};\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.color.status.pressSuccess};\n    border-color: ${({ theme }) => theme.color.status.pressSuccess};\n  }\n\n  &[data-appearance~='disabled'],\n  :disabled {\n    background-color: ${({ theme }) => theme.color.basic.disable};\n    color: ${({ theme }) => theme.color.text.inversion};\n    border-color: ${({ theme }) => theme.color.basic.disable};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.inversion};\n    }\n  }\n`;\n","import { css } from 'styled-components';\nimport { primaryAppearanceMixin } from './primaryAppearanceMixin';\nimport { secondaryAppearanceMixin } from './secondaryAppearanceMixin';\nimport { ghostAppearanceMixin } from './ghostAppearanceMixin';\nimport { whiteAppearanceMixin } from './whiteAppearanceMixin';\nimport { dangerAppearanceMixin } from './dangerAppearanceMixin';\nimport { successAppearanceMixin } from './successAppearanceMixin';\n\nexport const appearanceMixin = css`\n  &[data-appearance~='primary'] {\n    ${primaryAppearanceMixin}\n  }\n  &[data-appearance~='secondary'] {\n    ${secondaryAppearanceMixin}\n  }\n  &[data-appearance~='ghost'] {\n    ${ghostAppearanceMixin}\n  }\n  &[data-appearance~='white'] {\n    ${whiteAppearanceMixin}\n  }\n  &[data-appearance~='danger'] {\n    ${dangerAppearanceMixin}\n  }\n  &[data-appearance~='success'] {\n    ${successAppearanceMixin}\n  }\n`;\n","import { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst defaultDimensionMixin = css<{ displayAsSquare?: boolean }>`\n  padding: 0;\n  height: 56px;\n  ${(props) => (props.displayAsSquare ? 'width: 56px;' : 'padding: 0 30px;')}\n\n  ${typography['Button/Button 1']}\n`;\n\nexport const dimensionMixin = css<{ displayAsSquare?: boolean }>`\n  ${defaultDimensionMixin}\n\n  &[data-dimension='xl'] {\n    ${defaultDimensionMixin}\n  }\n\n  &[data-dimension='l'] {\n    height: 48px;\n    ${(props) => (props.displayAsSquare ? 'width: 48px;' : 'padding: 0 22px;')}\n  }\n\n  &[data-dimension='m'] {\n    height: 40px;\n    ${(props) => (props.displayAsSquare ? 'width: 40px;' : 'padding: 0 18px;')}\n  }\n\n  &[data-dimension='s'] {\n    height: 32px;\n    ${(props) => (props.displayAsSquare ? 'width: 32px;' : 'padding: 0 14px;')}\n    ${typography['Button/Button 2']}\n  }\n`;\n","import { LIGHT_THEME } from '../themes';\n\nexport const DEFAULT_THEME = LIGHT_THEME;\n","import type { FC } from 'react';\nimport React, { HTMLAttributes } from 'react';\nimport styled, { css, keyframes } from 'styled-components';\n\nimport { DEFAULT_THEME } from '../common';\n\nimport { ReactComponent as SpinnerXL } from './svgs/Subtract_xl.svg';\nimport { ReactComponent as SpinnerL } from './svgs/Subtract_l.svg';\nimport { ReactComponent as SpinnerM } from './svgs/Subtract_m.svg';\nimport { ReactComponent as SpinnerS } from './svgs/Subtract_s.svg';\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\n\nexport interface SpinnerProps extends HTMLAttributes<HTMLDivElement> {\n  /** Рзамер спиннера */\n  dimension?: Dimension;\n  /** Белый цвет компонента */\n  inverse?: boolean;\n}\n\nconst getIcon = (dimension: Dimension) => {\n  switch (dimension) {\n    case 's':\n      return SpinnerS;\n    case 'm':\n      return SpinnerM;\n    case 'xl':\n      return SpinnerXL;\n    case 'l':\n    default:\n      return SpinnerL;\n  }\n};\n\nconst sizes = css<{ dimension: Dimension }>`\n  width: ${({ dimension }) => {\n    switch (dimension) {\n      case 's':\n        return '16px';\n      case 'm':\n        return '24px';\n      case 'xl':\n        return '64px';\n      case 'l':\n      default:\n        return '48px';\n    }\n  }};\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 's':\n        return '16px';\n      case 'm':\n        return '24px';\n      case 'xl':\n        return '64px';\n      case 'l':\n      default:\n        return '48px';\n    }\n  }};\n`;\n\nconst spin = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst SpinnerWrapper = styled.div<{\n  inverse: boolean;\n  dimension: Dimension;\n}>`\n  position: relative;\n\n  ${sizes};\n\n  & svg {\n    animation: ${spin} 1s linear infinite;\n    path {\n      fill: ${({ inverse, theme }) => (inverse ? theme.color.background.primary : theme.color.basic.primary)};\n    }\n  }\n`;\n\nSpinnerWrapper.defaultProps = {\n  theme: DEFAULT_THEME,\n};\n\nexport const Spinner: FC<SpinnerProps> = ({ dimension = 'm', inverse = false, ...props }) => {\n  const SpinnerIcon = getIcon(dimension);\n  return (\n    <SpinnerWrapper inverse={inverse} dimension={dimension} role=\"alert\" aria-live=\"assertive\" {...props}>\n      <SpinnerIcon />\n    </SpinnerWrapper>\n  );\n};\n\nSpinner.displayName = 'Spinner';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport type { Appearance, Dimension, StyledButtonProps } from './types';\nimport type { ButtonHTMLAttributes } from 'react';\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { appearanceMixin } from './appearanceMixin';\nimport { dimensionMixin } from './dimensionMixin';\nimport { Spinner } from '#ui-kit3/components/Spinner';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Внешний вид кнопки */\n  appearance?: Appearance;\n\n  /** Размер кнопки */\n  dimension?: Dimension;\n\n  /** Оставаясь активной для нажатия, кнопка отображается в заблокированном стиле */\n  displayAsDisabled?: boolean;\n\n  /** Отображать кнопку квадратной*/\n  displayAsSquare?: boolean;\n\n  /** Состояние загрузки */\n  loading?: boolean;\n}\n\nconst ButtonContent = styled.span<{ dimension?: Dimension }>`\n  vertical-align: top;\n\n  display: inline-flex;\n  flex-direction: row;\n  overflow: hidden;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  height: 24px;\n\n  > * {\n    display: inline-block;\n    flex: 0 1 auto;\n    white-space: nowrap;\n  }\n\n  > *:not(:first-child) {\n    margin-left: 8px;\n  }\n\n  & > svg {\n    width: 24px;\n    height: 24px;\n  }\n\n  [data-dimension='s'] & {\n    height: 20px;\n\n    & > svg {\n      width: 20px;\n      height: 20px;\n    }\n  }\n`;\n\nconst StyledButton = styled.button.attrs<\n  StyledButtonProps,\n  { 'data-dimension'?: Dimension; 'data-appearance'?: string }\n>((props) => ({\n  'data-dimension': props.dimension,\n  'data-appearance': [props.appearance, props.displayAsDisabled || props.$loading ? 'disabled' : undefined]\n    .filter((val) => val !== undefined)\n    .join(' '),\n}))<StyledButtonProps>`\n  position: relative;\n  box-sizing: border-box;\n  display: inline-block;\n  border: none;\n  border-radius: 4px;\n  appearance: none;\n  vertical-align: center;\n\n  ${dimensionMixin}\n\n  ${appearanceMixin};\n\n  ${ButtonContent} {\n    visibility: ${(p) => (p.$loading ? 'hidden' : 'visible')};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  pointer-events: ${(p) => (p.$loading || p.disabled ? 'none' : 'all')};\n`;\n\nconst StyledSpinner = styled(Spinner)<{ dimension?: Dimension }>`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ appearance = 'primary', dimension = 'xl', type = 'button', loading = false, children, ...props }, ref) => {\n    const spinnerDimension = dimension === 's' ? 's' : 'm';\n\n    return (\n      <StyledButton ref={ref} appearance={appearance} dimension={dimension} type={type} $loading={loading} {...props}>\n        {loading && <StyledSpinner dimension={spinnerDimension} />}\n        <ButtonContent>\n          {React.Children.toArray(children).map((child) =>\n            typeof child === 'string' ? <span key={uid()}>{child}</span> : child,\n          )}\n        </ButtonContent>\n      </StyledButton>\n    );\n  },\n);\n\nButton.displayName = 'Button';\n","import styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { BadgeComponent } from '#ui-kit3/components/Badge';\n\nexport type ButtonGroupItemProps = {\n  /** Активная кнопка */\n  active?: boolean;\n};\n\nconst colorMixin = css<{ active?: boolean; disabled?: boolean }>`\n  color: ${({ active, disabled, theme }) => {\n    if (active) return theme.color.text.primary;\n    if (disabled) return theme.color.text.tertiary;\n    return theme.color.text.secondary;\n  }};\n  [data-appearance~='primary'] && {\n    color: ${({ active, disabled, theme }) => {\n      if (active) return theme.color.text.staticWhite;\n      if (disabled) return theme.color.text.tertiary;\n      return theme.color.basic.primary;\n    }};\n  }\n`;\n\nconst BORDER_RADIUS = 22;\n\nexport const ButtonGroupItem = styled.button<ButtonGroupItemProps>`\n  border: none;\n  border-radius: ${BORDER_RADIUS}px;\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  display: flex;\n  align-items: center;\n  position: relative;\n  outline: 0;\n  background-color: ${({ theme, disabled, active }) =>\n    active && !disabled ? theme.color.background.primary : 'transparent'};\n\n  ${typography['Button/Button 1']};\n  white-space: nowrap;\n\n  ${colorMixin};\n\n  &:hover:not(:disabled) {\n    background: ${({ active, disabled, theme }) => (!active && !disabled ? theme.color.background.tertiaryHover : '')};\n    color: ${(p) => p.theme.color.text.secondary};\n  }\n\n  & *[fill^='#'] {\n    fill: ${({ disabled, theme }) => {\n      if (disabled) return theme.color.text.tertiary;\n      return theme.color.text.secondary;\n    }};\n  }\n\n  [data-appearance~='primary'] && *[fill^='#'] {\n    fill: ${({ active, disabled, theme }) => {\n      if (active) return theme.color.text.staticWhite;\n      if (disabled) return theme.color.text.tertiary;\n      return theme.color.basic.primary;\n    }};\n  }\n\n  & ${BadgeComponent} {\n    background-color: ${(p) => (p.active ? p.theme.color.text.secondary : p.theme.color.background.primary)};\n    color: ${(p) => (p.active ? p.theme.color.text.staticWhite : p.theme.color.text.secondary)};\n  }\n\n  [data-appearance~='primary'] && ${BadgeComponent} {\n    background-color: ${({ active, disabled, theme }) => {\n      if (active) return theme.color.text.staticWhite;\n      if (disabled) return theme.color.text.tertiary;\n      return theme.color.basic.primary;\n    }};\n    color: ${({ theme, disabled, active }) =>\n      active && !disabled ? theme.color.basic.primary : theme.color.text.staticWhite};\n  }\n\n  [data-appearance~='primary'] && {\n    background-color: ${({ theme, disabled, active }) =>\n      active && !disabled ? theme.color.basic.primary : 'transparent'};\n    &:hover:not(:disabled) {\n      background: ${({ active, disabled, theme }) => (!active && !disabled ? theme.color.background.secondary : '')};\n      color: ${(p) => (!p.active ? p.theme.color.basic.hover : p.theme.color.text.staticWhite)};\n    }\n  }\n`;\n\nButtonGroupItem.defaultProps = {\n  type: 'button',\n};\n","import { HTMLAttributes } from 'react';\nimport styled from 'styled-components';\nimport { ButtonGroupItem } from './ButtonGroupItem';\n\nexport type Dimension = 'l' | 'm' | 's';\n\nexport const SIZE = {\n  l: 40,\n  m: 32,\n  s: 24,\n};\n\ntype ButtonGroupComponentProps = HTMLAttributes<HTMLDivElement> & {\n  dimension: Dimension;\n};\n\nconst BORDER_RADIUS = {\n  l: 24,\n  m: 20,\n  s: 16,\n};\n\nconst padding = {\n  l: 20,\n  m: 16,\n  s: 12,\n};\n\nexport const ButtonGroupComponent = styled.div<ButtonGroupComponentProps>`\n  background: ${({ theme }) => theme.color.background.tertiary};\n  border: 2px solid ${(p) => p.theme.color.background.tertiary};\n  border-radius: ${({ dimension }) => BORDER_RADIUS[dimension]}px;\n  display: inline-flex;\n  height: ${({ dimension }) => SIZE[dimension]}px;\n  padding: 2px;\n\n  &[data-appearance~='primary'] {\n    border: 2px solid ${(p) => p.theme.color.basic.primary};\n    background-color: transparent;\n  }\n\n  ${ButtonGroupItem} {\n    height: 100%;\n    padding: ${({ dimension }) => `0 ${padding[dimension]}px`};\n    font-size: ${({ dimension }) => (dimension === 'l' ? 16 : 14)}px;\n    line-height: ${({ dimension }) => (dimension === 'l' ? 24 : 20)}px;\n  }\n\n  > *:not(:first-child) {\n    margin-left: 8px;\n  }\n`;\n","export const moveFocus = (\n  parent: HTMLDivElement | null,\n  currentFocus: Element | null,\n  calcNextFocus: (parent: HTMLDivElement | null, child: Element | null) => any,\n): void => {\n  let wrappedOnce = false;\n  let nextFocus = calcNextFocus(parent, currentFocus);\n  while (nextFocus) {\n    if (nextFocus === parent?.firstChild) {\n      if (wrappedOnce) {\n        return;\n      }\n      wrappedOnce = true;\n    }\n\n    if (nextFocus.hasAttribute('disabled')) {\n      nextFocus = calcNextFocus(parent, nextFocus);\n    } else {\n      nextFocus.focus();\n      return;\n    }\n  }\n};\n\nexport const nextItem = (parent: Element | null, child: Element | null): Element | null | undefined | ChildNode => {\n  if (child?.nextElementSibling) {\n    return child.nextElementSibling;\n  }\n  return parent?.firstChild;\n};\n\nexport const previousItem = (parent: Element | null, child: Element | null): Element | null | undefined | ChildNode => {\n  if (child?.previousElementSibling) {\n    return child.previousElementSibling;\n  }\n  return parent?.lastChild;\n};\n","import React, { HTMLAttributes, KeyboardEvent, ReactNode, useRef } from 'react';\nimport type { Dimension } from './ButtonGroupComponent';\nimport { ButtonGroupComponent } from './ButtonGroupComponent';\nimport { moveFocus, nextItem, previousItem } from './utils';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\n\nexport interface ButtonGroupProps extends HTMLAttributes<HTMLDivElement> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Элементы содержимого */\n  children?: ReactNode;\n  /** Стиль отображения компонента */\n  appearance?: 'primary' | 'secondary';\n}\n\nexport const ButtonGroup = ({\n  dimension = 'l',\n  tabIndex = -1,\n  appearance = 'secondary',\n  ...props\n}: ButtonGroupProps) => {\n  const localRef = useRef<HTMLDivElement>(null);\n\n  const getFocusedOption = () => {\n    return ((localRef.current && localRef.current.ownerDocument) || document).activeElement;\n  };\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n    const focusedOption = getFocusedOption();\n    const code = keyboardKey.getCode(e);\n    if (code === keyboardKey.ArrowRight) {\n      moveFocus(localRef.current, focusedOption, nextItem);\n    } else if (code === keyboardKey.ArrowLeft) {\n      moveFocus(localRef.current, focusedOption, previousItem);\n    }\n    props?.onKeyDown?.(e);\n  };\n\n  return (\n    <ButtonGroupComponent\n      ref={localRef}\n      onKeyDown={handleKeyDown}\n      dimension={dimension}\n      tabIndex={tabIndex}\n      data-appearance={appearance}\n      {...props}\n    />\n  );\n};\n\nButtonGroup.displayName = 'ButtonGroup';\n","import type { InputHTMLAttributes } from 'react';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { ReactComponent as CheckSVG } from './Success.svg';\nimport { ReactComponent as IndeterminateSVG } from './Minus.svg';\nimport type { CheckboxDimension } from './CheckboxDimension';\n\nexport interface CheckBoxProps extends InputHTMLAttributes<HTMLInputElement> {\n  dimension?: CheckboxDimension;\n  indeterminate?: boolean;\n  error?: boolean;\n  children?: never;\n}\n\nconst width = css<{ dimension: CheckboxDimension }>`\n  width: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '20px';\n    }\n  }};\n\n  fieldset[data-dimension='s'] & {\n    width: 16px;\n  }\n`;\n\nconst height = css<{ dimension: CheckboxDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '20px';\n    }\n  }};\n  fieldset[data-dimension='s'] & {\n    height: 16px;\n  }\n`;\n\nconst Check = styled(CheckSVG)`\n  pointer-events: none;\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.staticWhite};\n  }\n`;\n\nconst Indeterminate = styled(IndeterminateSVG)`\n  pointer-events: none;\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.staticWhite};\n  }\n`;\n\nconst Container = styled.div<{\n  dimension: CheckboxDimension;\n}>`\n  position: relative;\n  box-sizing: border-box;\n\n  overflow: visible;\n  ${width};\n  ${height};\n`;\n\nexport const Background = styled.div<{ error?: boolean }>`\n  pointer-events: none;\n  display: inline-block;\n  position: absolute;\n  margin: 0;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 4px;\n  outline: 0;\n  transition: background 0.1s ease-in;\n\n  /* disable inheritance from parent elements */\n  line-height: initial;\n  background-color: ${({ theme }) => theme.color.background.primary};\n  border: 1px solid ${({ error, theme }) => (error ? theme.color.status.danger : theme.color.text.secondary)};\n`;\n\nconst Input = styled.input<{ indeterminate?: boolean }>`\n  appearance: none;\n  ::-ms-check {\n    display: none;\n  }\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  box-sizing: border-box;\n  cursor: pointer;\n  border-radius: 5px;\n  margin: 0;\n  padding: 0;\n\n  :disabled {\n    pointer-events: none;\n  }\n\n  &:checked + ${Background} {\n    background-color: ${({ theme }) => theme.color.basic.primary};\n    border: none;\n  }\n\n  &:not(:checked) + ${Background} {\n    background-color: ${({ theme, indeterminate }) => indeterminate && theme.color.basic.primary};\n    border: ${({ indeterminate }) => indeterminate && 'none'};\n    > * {\n      display: ${(p) => (p.indeterminate ? 'block' : 'none')};\n    }\n  }\n\n  &:not(:checked):focus + ${Background}, &:not(:disabled):not(:checked):hover + ${Background} {\n    background-color: ${({ theme, indeterminate }) =>\n      indeterminate ? theme.color.basic.hover : theme.color.background.secondary};\n    border: ${(p) => (p.indeterminate ? 'none' : `1px solid ${p.theme.color.basic.hover}`)};\n  }\n\n  &:checked:focus + ${Background}, &:not(:disabled):checked:hover + ${Background} {\n    background-color: ${({ theme }) => theme.color.basic.hover};\n    border: none;\n  }\n\n  &:not(:checked):disabled + ${Background} {\n    background-color: ${({ theme }) => theme.color.background.primary};\n    border: 1px solid ${({ theme }) => theme.color.basic.disable};\n  }\n\n  &:disabled + ${Background} {\n    background-color: ${({ theme }) => theme.color.basic.disable};\n    border: none;\n  }\n\n  &:focus-visible {\n    outline-offset: 2px;\n    outline: ${(p) => p.theme.color.basic.hover} solid 2px;\n  }\n`;\n\nexport const Checkbox = React.forwardRef<HTMLInputElement, CheckBoxProps>(\n  ({ className, dimension = 'm', ...props }, ref) => {\n    return (\n      <Container dimension={dimension} className={className}>\n        <Input ref={ref} {...props} type=\"checkbox\" indeterminate={props.indeterminate} />\n        <Background error={props.error}>\n          {props.indeterminate ? (\n            <Indeterminate aria-hidden=\"true\" focusable=\"false\" />\n          ) : (\n            <Check aria-hidden=\"true\" focusable=\"false\" />\n          )}\n        </Background>\n      </Container>\n    );\n  },\n);\n\nCheckbox.displayName = 'Checkbox';\n","import type { ForwardedRef } from 'react';\n\n/**\n * Useful when passing refs from outside, but want to handle internal ref.\n * Keeps passed refs in sync, by creating ref callback\n * @param refs\n */\nexport function refSetter<T extends HTMLElement | null>(...refs: ForwardedRef<T>[]): (instance: T | null) => void {\n  return (ref) => {\n    refs.forEach((someRef) => {\n      if (!someRef) return;\n      if (typeof someRef === 'function') {\n        someRef(ref);\n      } else {\n        someRef.current = ref;\n      }\n    });\n  };\n}\n","import { typography } from '#ui-kit3/components/Typography';\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div<{ error?: boolean; transparent?: boolean }>`\n  white-space: nowrap;\n  ${typography['Body/Body 2 Long']}\n  color: ${(p) => (p.error ? p.theme.color.status.danger : p.theme.color.text.secondary)};\n  transition: all 0.5s, color 0.5s;\n  opacity: ${(p) => (p.transparent && !p.error ? 0 : 1)};\n  max-width: ${(p) => (p.transparent && !p.error ? 0 : 'none')};\n  overflow: hidden;\n`;\n\nexport interface CharacterCounterProps {\n  maxLength: number;\n  inputRef: React.RefObject<HTMLInputElement | HTMLTextAreaElement>;\n}\n\nexport const CharacterCounter: React.FC<CharacterCounterProps> = ({\n  maxLength,\n  inputRef,\n  ...props\n}: CharacterCounterProps) => {\n  const [currentCount, setCurrentCount] = React.useState(0);\n  React.useEffect(() => {\n    function oninput(this: HTMLInputElement | HTMLTextAreaElement) {\n      const { value } = this;\n      setCurrentCount(value.length);\n    }\n\n    const node = inputRef.current;\n    if (node) {\n      node.addEventListener('input', oninput);\n      oninput.call(node);\n      return () => {\n        node.removeEventListener('input', oninput);\n      };\n    }\n  }, [inputRef.current]);\n  return currentCount > maxLength * 0.8 ? (\n    <Container {...props} error={currentCount >= maxLength} transparent={currentCount < maxLength * 0.8}>\n      {currentCount}/{maxLength}\n    </Container>\n  ) : null;\n};\n","import styled from 'styled-components';\nimport { TYPOGRAPHY } from '#ui-kit3/components/Typography';\n\nexport const Label = styled.label<{ disabled?: boolean }>`\n  text-align: left;\n  font-family: ${() => TYPOGRAPHY.fontFamily};\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 16px;\n  color: ${(props) => props.theme.color.text.secondary};\n\n  [data-disabled] & {\n    color: ${(props) => props.theme.color.text.tertiary};\n  }\n\n  [data-focus-within] & {\n    color: ${(props) => (props.disabled ? '' : props.theme.color.basic.press)};\n  }\n  [data-required-within] &:before {\n    content: '* ';\n    color: ${(props) => props.theme.color.status.danger};\n  }\n  margin-bottom: 8px;\n`;\n\nLabel.displayName = 'Label';\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { InputStatus } from '#ui-kit3/components/input';\nimport { CharacterCounter } from '#ui-kit3/components/input/TextArea/CharacterCounter';\nimport { Label } from '#ui-kit3/components/Label';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst inlineMixin = css`\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n\n  > * {\n    flex: 1 1 auto;\n  }\n\n  ${Label} {\n    margin: 0 8px 0 0;\n  }\n`;\n\nconst Container = styled.div<{ displayInline?: boolean }>`\n  display: flex;\n  ${(props) => (props.displayInline ? inlineMixin : 'flex-direction: column;')}\n`;\n\nexport const ExtrasContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const ExtraTextContainer = styled.div`\n  flex: 1 1 auto;\n\n  padding-top: 8px;\n\n  text-align: left;\n\n  ${typography['Body/Body 2 Long']}\n\n  color: ${(props) => props.theme.color.text.secondary};\n\n  [data-disabled] & {\n    color: ${(props) => props.theme.color.text.tertiary};\n  }\n\n  [data-status='error'] & {\n    color: ${(props) => props.theme.color.status.danger};\n  }\n\n  [data-status='success'] & {\n    color: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nexport interface FieldOwnProps {\n  /** Текст будет виден ниже компонента */\n  extraText?: React.ReactNode;\n\n  /** Установка статуса поля */\n  status?: InputStatus;\n\n  /** Установка статуса поле обязательно для заполнения */\n  required?: boolean;\n\n  /** Установка статуса disabled */\n  disabled?: boolean;\n\n  /**  Имя поля формы */\n  label?: React.ReactNode;\n\n  /** Отображать лейбл в одну строчку с инпутом */\n  displayInline?: boolean;\n\n  /** Максимальное количество символов для ввода */\n  maxLength?: number;\n\n  inputRef?: React.RefObject<HTMLInputElement | HTMLTextAreaElement>;\n\n  /**\n   * Позволяет отключать появление счетчика символов при задании maxLength\n   */\n  displayCharacterCounter?: boolean;\n}\n\nconst PositionedCharacterCounter = styled(CharacterCounter)`\n  flex: 0 0 auto;\n  padding: 8px 0 0 8px;\n`;\n\nexport interface FieldProps extends FieldOwnProps, React.HTMLAttributes<HTMLDivElement> {}\n\nexport const Field = React.forwardRef<HTMLDivElement, FieldProps>(\n  ({ children, maxLength, inputRef, displayCharacterCounter = true, ...props }: FieldProps, ref) => {\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const [hasFocus, setFocus] = React.useState(false);\n\n    const {\n      className,\n      style,\n      displayInline,\n      status,\n      extraText,\n      label,\n      required,\n      disabled,\n      id = uid(),\n      ...restFieldProps\n    } = props;\n\n    const fieldContainerProps = { className, style, displayInline, ...restFieldProps } as Record<string, any>;\n\n    const labelProps = { htmlFor: id, children: label, required, disabled };\n\n    React.useEffect(() => {\n      const onFocusIn = (ev: FocusEvent) => {\n        setFocus(true);\n      };\n      const onFocusOut = (ev: FocusEvent) => {\n        setFocus(false);\n      };\n\n      const containerNode = containerRef.current;\n      if (containerNode) {\n        containerNode.addEventListener('focusin', onFocusIn);\n        containerNode.addEventListener('focusout', onFocusOut);\n      }\n      return () => {\n        if (containerNode) {\n          containerNode.removeEventListener('focusin', onFocusIn);\n          containerNode.removeEventListener('focusout', onFocusOut);\n        }\n      };\n    }, [containerRef.current]);\n\n    return (\n      <Container\n        {...fieldContainerProps}\n        data-status={status}\n        data-focus-within={hasFocus ? '' : undefined}\n        data-required-within={required ? '' : undefined}\n        data-disabled={disabled ? '' : undefined}\n        ref={refSetter(containerRef, ref)}\n      >\n        {labelProps.children && <Label {...labelProps} />}\n        <div>\n          {children}\n          <ExtrasContainer>\n            {extraText && <ExtraTextContainer>{extraText}</ExtraTextContainer>}\n\n            {displayCharacterCounter && inputRef && maxLength !== undefined && (\n              <>\n                {/* div необходим чтобы сдвигать счетчик вправо при отсутствии текста */}\n                <div></div>\n                <PositionedCharacterCounter maxLength={maxLength} inputRef={inputRef} />\n              </>\n            )}\n          </ExtrasContainer>\n        </div>\n      </Container>\n    );\n  },\n);\n\nField.displayName = 'Field';\n","export interface InputData {\n  value?: string;\n  selectionStart?: number | null;\n  selectionEnd?: number | null;\n}\n\nexport function isInputDataDifferent(data1: InputData, data2: InputData): boolean {\n  return (\n    data1.value !== data2.value ||\n    data1.selectionStart !== data2.selectionStart ||\n    data1.selectionEnd !== data2.selectionEnd\n  );\n}\n\nexport type CustomInputHandler = (newInputData: InputData | null) => InputData;\n\nexport function changeInputData(input: HTMLInputElement | HTMLTextAreaElement, toChangeData: InputData): void {\n  const { value = input.value, selectionStart, selectionEnd } = toChangeData;\n\n  if (isInputDataDifferent(input, { value, selectionStart, selectionEnd })) {\n    const nativeInputValueSetter = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(input), 'value')?.set;\n    nativeInputValueSetter?.call(input, value);\n    //input.value = value;\n\n    // Safari focus the element containing selection when modifying the seletion programmatically.\n    if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {\n      input.setSelectionRange(selectionStart, selectionEnd);\n    }\n\n    // IE fix: event dispatch\n    let event;\n    if (typeof Event === 'function') {\n      event = new Event('input', { bubbles: true });\n    } else {\n      event = document.createEvent('Event');\n      event.initEvent('input', true, true);\n    }\n\n    input.dispatchEvent(event);\n  }\n}\n","import { ComponentDimension } from '#ui-kit3/components/input/types';\nimport styled, { css } from 'styled-components';\n\nexport const containerHeights = css<{ dimension?: ComponentDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'xl':\n        return '56px';\n      case 's':\n        return '32px';\n      default:\n        return '40px';\n    }\n  }};\n`;\n\nexport const Container = styled.div<{ disabled?: boolean; dimension?: ComponentDimension }>`\n  position: relative;\n  display: flex;\n  align-items: stretch;\n  border: none;\n\n  ${containerHeights}\n`;\n","import { InputStatus } from '#ui-kit3/components/input/types';\nimport * as React from 'react';\nimport { ReactComponent as ErrorStatusSvg } from '@openvtb/admiral-icons/build/service/ErrorSolid.svg';\nimport { ReactComponent as SuccessStatusSvg } from '@openvtb/admiral-icons/build/service/CheckSolid.svg';\nimport styled from 'styled-components';\n\nconst ErrorIcon = styled(ErrorStatusSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.status.danger};\n  }\n`;\n\nconst SuccessIcon = styled(SuccessStatusSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nexport interface StatusIconProps {\n  status?: InputStatus;\n}\n\nexport function StatusIcon({ status, ...props }: StatusIconProps): JSX.Element | null {\n  switch (status) {\n    case 'success':\n      return <SuccessIcon {...props} />;\n    case 'error':\n      return <ErrorIcon {...props} />;\n\n    default:\n      return null;\n  }\n}\n","import {\n  changeInputData,\n  CustomInputHandler,\n  InputData,\n  isInputDataDifferent,\n} from '#ui-kit3/components/common/dom/changeInputData';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Container } from '../Container';\nimport type { ExtraProps, InputStatus, ComponentDimension } from '#ui-kit3/components/input/types';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as CloseOutlineSvg } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport { ReactComponent as EyeCloseOutlineSvg } from '@openvtb/admiral-icons/build/service/EyeCloseOutline.svg';\nimport { ReactComponent as EyeOutlineSvg } from '@openvtb/admiral-icons/build/service/EyeOutline.svg';\nimport type { ForwardedRef, InputHTMLAttributes } from 'react';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { StatusIcon } from '../StatusIcon';\n\nconst EyeCloseIcon = styled(EyeCloseOutlineSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst EyeIcon = styled(EyeOutlineSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst ClearIcon = styled(CloseOutlineSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst iconSizeValue = (props: { dimension?: ComponentDimension }) => {\n  switch (props.dimension) {\n    case 'xl':\n      return 24;\n    case 's':\n      return 20;\n    default:\n      return 24;\n  }\n};\nconst horizontalPaddingValue = (props: { dimension?: ComponentDimension }) => {\n  switch (props.dimension) {\n    case 'xl':\n      return 16;\n    case 's':\n      return 12;\n    default:\n      return 16;\n  }\n};\n\nconst extraPadding = css<ExtraProps>`\n  padding-right: ${(props) =>\n    horizontalPaddingValue(props) +\n    (iconSizeValue(props) + 8) * (props.iconCount ?? 0) -\n    8 * (props.iconCount ? 1 : 0)}px;\n`;\n\nconst disabledColors = css`\n  background-color: ${(props) => props.theme.color.background.tertiary};\n  border-color: ${(props) => props.theme.color.background.tertiary};\n`;\n\nconst colorsBorderAndBackground = css<{ disabled?: boolean }>`\n  background-color: ${(props) => props.theme.color.background.primary};\n  border: 1px solid ${(props) => props.theme.color.basic.tertiary};\n  border-radius: 4px;\n\n  &:focus {\n    border: 1px solid ${(props) => props.theme.color.basic.press};\n  }\n\n  &:hover {\n    border-color: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst ieFixes = css`\n  ::-ms-clear,\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nconst Input = styled.input<ExtraProps>`\n  outline: none;\n  appearance: none;\n\n  box-sizing: border-box;\n  flex: 1 1 auto;\n  min-width: 10px;\n  border: none;\n  background: transparent;\n  text-overflow: ellipsis;\n  padding: 0 ${horizontalPaddingValue}px;\n\n  ${(props) => (props.dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  color: ${(props) => props.theme.color.text.primary};\n\n  &::placeholder {\n    color: ${(props) => props.theme.color.text.secondary};\n  }\n\n  ${colorsBorderAndBackground}\n\n  &:disabled,\n  &:disabled::placeholder {\n    color: ${(props) => props.theme.color.text.tertiary};\n    ${disabledColors}\n  }\n\n  [data-read-only] & {\n    user-select: none;\n    pointer-events: none;\n    ${disabledColors}\n  }\n\n  ${extraPadding}\n  ${ieFixes}\n  [data-status='error'] &,\n  &:invalid {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n\n  [data-status='success'] & {\n    border-color: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nconst IconPanel = styled.div<{ disabled?: boolean; dimension?: ComponentDimension }>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n\n  display: flex;\n  align-items: center;\n\n  padding-right: ${horizontalPaddingValue}px;\n\n  & > * {\n    display: block;\n    width: ${iconSizeValue}px;\n  }\n\n  & > *:not(:first-child) {\n    margin-left: 8px;\n  }\n`;\n\nfunction defaultHandleInput(newInputData: InputData | null): InputData {\n  return newInputData || {};\n}\n\nconst stopEvent = (e: React.MouseEvent) => e.preventDefault();\n\nexport interface TextInputProps extends InputHTMLAttributes<HTMLInputElement> {\n  /** Делает высоту компонента больше или меньше обычной */\n  dimension?: ComponentDimension;\n\n  /** Иконки для отображения в правом углу поля */\n  icons?: React.ReactNode;\n\n  /** Отображать иконку статуса */\n  displayStatusIcon?: boolean;\n\n  /** Отображать иконку очистки поля */\n  displayClearIcon?: boolean;\n\n  /** Статус поля */\n  status?: InputStatus;\n\n  /** Ref контейнера компонента */\n  containerRef?: ForwardedRef<HTMLDivElement>;\n\n  /**\n   * Дает возможность изменить значение поля ввода и позицию курсора до момента отображения при следующем цикле рендеринга.\n   * Используется для создания масок ввода\n   */\n  handleInput?: CustomInputHandler;\n\n  /**  Наличие этого атрибута отключает возможность выделения и копирования значения поля */\n  disableCopying?: boolean;\n}\n\nexport const TextInput = React.forwardRef<HTMLInputElement, TextInputProps>(\n  (\n    {\n      type,\n\n      displayStatusIcon,\n      displayClearIcon,\n      status,\n      handleInput = defaultHandleInput,\n      containerRef,\n      icons,\n      children,\n      className,\n      style,\n      placeholder,\n      ...props\n    },\n    ref,\n  ) => {\n    const inputRef = React.useRef<HTMLInputElement>(null);\n\n    const iconArray = React.Children.toArray(icons);\n\n    const [isPasswordVisible, setPasswordVisible] = React.useState(false);\n    if (type === 'password') {\n      const Icon = isPasswordVisible ? EyeIcon : EyeCloseIcon;\n      iconArray.push(\n        <Icon\n          key=\"eye-icon\"\n          aria-hidden\n          onClick={() => {\n            setPasswordVisible(!isPasswordVisible);\n          }}\n        />,\n      );\n    }\n\n    if (displayStatusIcon) {\n      iconArray.push(<StatusIcon key=\"status-icon\" status={status} aria-hidden />);\n    }\n\n    if (displayClearIcon) {\n      iconArray.unshift(\n        <ClearIcon\n          key=\"clear-icon\"\n          onClick={() => {\n            if (inputRef.current) {\n              changeInputData(inputRef.current, { value: '' });\n            }\n          }}\n          aria-hidden\n        />,\n      );\n    }\n\n    const iconCount = iconArray.length;\n\n    // const inputData = value !== undefined && value !== null ? handleInput({ value: String(value) }) : {};\n\n    React.useLayoutEffect(() => {\n      const nullHandledValue = handleInput(null);\n      function oninput(this: HTMLInputElement) {\n        const { value, selectionStart, selectionEnd } = this;\n        const currentInputData = { value, selectionStart, selectionEnd };\n\n        const inputData = handleInput(currentInputData);\n\n        if (placeholder && !isInputDataDifferent(nullHandledValue, inputData)) {\n          changeInputData(this, { ...inputData, value: '' });\n        } else {\n          changeInputData(this, inputData);\n        }\n      }\n\n      // Чтение selectionStart в Safari при type='date' вызывает ошибку\n      if (type !== 'date' && inputRef.current) {\n        const node = inputRef.current;\n        node.addEventListener('input', oninput);\n\n        const { value, selectionStart, selectionEnd } = node;\n        const currentInputData = { value, selectionStart, selectionEnd };\n        const inputData = handleInput(currentInputData);\n\n        if (placeholder && !isInputDataDifferent(nullHandledValue, inputData)) {\n          changeInputData(node, { ...inputData, value: '' });\n        } else {\n          changeInputData(node, inputData);\n        }\n\n        return () => {\n          node.removeEventListener('input', oninput);\n        };\n      }\n    }, [inputRef.current, handleInput, placeholder]);\n    return (\n      <Container\n        className={className}\n        style={style}\n        disabled={props.disabled}\n        dimension={props.dimension}\n        ref={containerRef}\n        data-read-only={props.readOnly ? true : undefined}\n        data-status={status}\n        {...(props.disableCopying && {\n          onMouseDown: stopEvent,\n        })}\n      >\n        <Input\n          ref={refSetter(ref, inputRef)}\n          {...props}\n          placeholder={placeholder}\n          iconCount={iconCount}\n          type={type === 'password' && isPasswordVisible ? 'text' : type}\n        />\n        {iconCount > 0 && (\n          <IconPanel disabled={props.disabled} dimension={props.dimension}>\n            {iconArray}\n          </IconPanel>\n        )}\n        {children}\n      </Container>\n    );\n  },\n);\n\nTextInput.defaultProps = {\n  dimension: 'm',\n} as const;\nTextInput.displayName = 'TextInput';\n","export function splice(oldString: string, start: number, delCount: number, newSubStr: string): string {\n  return oldString.slice(0, start) + newSubStr + oldString.slice(start + Math.abs(delCount));\n}\n","import { InputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { splice } from '#ui-kit3/components/common/utils/splice';\n\nexport const MASK_VALUE = '__.__.____';\n\nexport function defaultDateInputHandle(inputData: InputData | null): InputData {\n  if (inputData === null) {\n    return { value: MASK_VALUE, selectionStart: 0, selectionEnd: 0 };\n  }\n\n  const selectionStart = inputData.selectionStart || 0;\n  let inputValue = inputData.value || '';\n\n  const lengthDifference = inputValue.length - MASK_VALUE.length;\n\n  if (inputValue.replace(/\\d/g, '_') === MASK_VALUE) return inputData;\n\n  if (lengthDifference < 0) {\n    inputValue = splice(inputValue, selectionStart, 0, MASK_VALUE.substr(selectionStart, -lengthDifference));\n    return { ...inputData, value: inputValue };\n  }\n\n  let addCount = 0;\n  let moveCursor = 0;\n\n  if (inputValue.charAt(selectionStart - 1) === '.') {\n    addCount = -1;\n    moveCursor = 0;\n  }\n  if (inputValue.charAt(selectionStart) === '.') {\n    moveCursor = 1;\n    if (/\\d/.test(inputValue.charAt(selectionStart - 1))) {\n      addCount = 1;\n    } else {\n      addCount = -1;\n      moveCursor = 0;\n    }\n  }\n\n  const spliced = splice(inputValue, selectionStart + addCount, lengthDifference, '').replace(/\\./g, '');\n\n  inputValue = `${spliced.substr(0, 2).replace(/\\D/g, '_')}.${spliced.substr(2, 2).replace(/\\D/g, '_')}.${spliced\n    .substr(4, 4)\n    .replace(/\\D/g, '_')}`;\n\n  const result = {\n    ...inputData,\n    value: inputValue,\n    selectionStart: selectionStart + moveCursor,\n    selectionEnd: selectionStart + moveCursor,\n  };\n\n  return result;\n}\n","import * as React from 'react';\n\nexport const useClickOutside = (elements: React.RefObject<HTMLElement>[], handler: (e: Event) => void) => {\n  const listener = React.useCallback(\n    (e: MouseEvent | TouchEvent) => {\n      if (\n        elements.every((element) => {\n          return element.current && !element.current.contains(e.target as Element);\n        })\n      ) {\n        handler(e);\n      }\n    },\n    [handler, elements],\n  );\n\n  React.useEffect(() => {\n    document.addEventListener('mousedown', listener, true);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', listener, true);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [listener]);\n};\n","// Copy-Paste from https://gist.github.com/Danziger/336e75b6675223ad805a88c2dfdcfd4a\n\nimport React, { useEffect, useRef } from 'react';\n\n/**\n * Use setInterval with Hooks in a declarative way.\n *\n * @see https://stackoverflow.com/a/59274004/3723993\n * @see https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n */\nexport function useInterval(\n  callback: React.EffectCallback,\n  delay: number | null,\n): React.MutableRefObject<number | null> {\n  const intervalRef = useRef<number | null>(null);\n  const callbackRef = useRef(callback);\n\n  // Remember the latest callback:\n  //\n  // Without this, if you change the callback, when setInterval ticks again, it\n  // will still call your old callback.\n  //\n  // If you add `callback` to useEffect's deps, it will work fine but the\n  // interval will be reset.\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  // Set up the interval:\n\n  useEffect(() => {\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(() => callbackRef.current(), delay);\n\n      // Clear interval if the components is unmounted or the delay changes:\n      return () => window.clearInterval(intervalRef.current || 0);\n    }\n  }, [delay]);\n\n  // In case you want to manually clear the interval from the consuming component...:\n  return intervalRef;\n}\n","export const moveFocus = (\n  parent: HTMLDivElement | null,\n  currentFocus: Element | null,\n  calcNextFocus: (\n    parent: HTMLDivElement | null,\n    child: Element | null,\n    stop?: boolean,\n    onMenuReachTop?: () => void,\n    onMenuReachBottom?: () => void,\n  ) => any,\n  stop?: boolean,\n  menuFocus?: boolean,\n  onMenuReachTop?: () => void,\n  onMenuReachBottom?: () => void,\n): void => {\n  let wrappedOnce = false;\n  let nextFocus = menuFocus\n    ? calcNextFocus(parent, currentFocus, stop, onMenuReachTop, onMenuReachBottom)\n    : calcNextFocus(parent, currentFocus, stop);\n  while (nextFocus) {\n    if (nextFocus === parent?.firstChild) {\n      if (wrappedOnce) {\n        return;\n      }\n      wrappedOnce = true;\n    }\n\n    if (!nextFocus.hasAttribute('tabindex') || nextFocus.hasAttribute('disabled')) {\n      nextFocus = menuFocus\n        ? calcNextFocus(parent, nextFocus, stop, onMenuReachTop, onMenuReachBottom)\n        : calcNextFocus(parent, nextFocus, stop);\n    } else {\n      nextFocus.focus();\n      return;\n    }\n  }\n};\n\nexport const nextItem = (\n  parent: Element | null,\n  child: Element | null,\n  stop?: boolean,\n  onMenuReachTop?: () => void,\n  onMenuReachBottom?: () => void,\n): Element | null | undefined | ChildNode => {\n  if (child?.nextElementSibling) {\n    return child.nextElementSibling;\n  }\n  onMenuReachBottom?.();\n  return stop ? null : parent?.firstChild;\n};\n\nexport const previousItem = (\n  parent: Element | null,\n  child: Element | null,\n  stop?: boolean,\n  onMenuReachTop?: () => void,\n  onMenuReachBottom?: () => void,\n): Element | null | undefined | ChildNode => {\n  if (child?.previousElementSibling) {\n    return child.previousElementSibling;\n  }\n  onMenuReachTop?.();\n  return stop ? null : parent?.lastChild;\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useClickOutside } from '#ui-kit3/components/common/hooks/useClickOutside';\nimport { PositionInPortal } from '#ui-kit3/components/PositionInPortal';\nimport { useInterval } from '#ui-kit3/components/common/hooks/useInterval';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { moveFocus, nextItem, previousItem } from '#ui-kit3/components/Dropdown/utils';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\n\nconst Container = styled.div<{ alignSelf?: string }>`\n  pointer-events: initial;\n  margin: 8px 0;\n  background-color: ${(p) => p.theme.color.background.primary};\n  border-radius: 4px;\n  ${(p) => p.theme.shadow.NonClickable}\n  flex: 0 0 auto;\n  ${(p) => (p.alignSelf ? `align-self: ${p.alignSelf};` : '')};\n  max-width: calc(100vw - 32px);\n  opacity: 0;\n  transition-delay: 200ms;\n  transition-property: opacity;\n`;\n\nconst FakeTarget = styled.div`\n  pointer-events: none;\n  height: 100%;\n  flex: 0 0 auto;\n`;\n\nconst Portal = styled(PositionInPortal)<{ reverse: boolean }>`\n  display: flex;\n  flex-direction: ${(p) => (p.reverse ? 'column-reverse' : 'column')};\n  flex-wrap: nowrap;\n`;\n\nexport interface DropdownProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onKeyDown'> {\n  targetRef: React.RefObject<HTMLElement>;\n\n  /**\n   *  Позволяет обработать событие при клике вне компонента\n   */\n  onClickOutside?: (e: Event) => void;\n\n  /**\n   *  Позволяет обработать событие при нажатии клавиши\n   */\n  onKeyDown?: (e: React.KeyboardEvent<HTMLDivElement>) => void;\n\n  /**\n   *  Позволяет выравнивать контейнер с компонентами относительно тарджет компонента\n   *  https://developer.mozilla.org/en-US/docs/Web/CSS/align-self\n   */\n  alignSelf?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n\n  onMenuReachTop?: () => void;\n  onMenuReachBottom?: () => void;\n\n  menuFocus?: 'firstOption' | 'lastOption' | 'activeOption';\n\n  setMenuFocus?: React.Dispatch<React.SetStateAction<'firstOption' | 'lastOption' | 'activeOption'>>;\n}\n\nexport const Dropdown = React.forwardRef<HTMLDivElement, React.PropsWithChildren<DropdownProps>>(\n  (\n    {\n      targetRef,\n      onClickOutside = () => null,\n      onKeyDown,\n      className = '',\n      onMenuReachBottom,\n      onMenuReachTop,\n      setMenuFocus,\n      menuFocus,\n      ...props\n    },\n    ref,\n  ) => {\n    const containerRef = React.useRef<HTMLDivElement | null>(null);\n    const [displayUpward, setDisplayUpward] = React.useState(false);\n    useClickOutside([containerRef], onClickOutside);\n\n    const handleKeyDown = React.useCallback(\n      (e) => {\n        const focusedOption = ((containerRef.current && containerRef.current.ownerDocument) || document).activeElement;\n        const code = keyboardKey.getCode(e);\n        if (menuFocus) {\n          if (code === keyboardKey.ArrowRight) {\n            moveFocus(containerRef.current, focusedOption, nextItem, true, true, onMenuReachTop, onMenuReachBottom);\n            e.preventDefault();\n          } else if (code === keyboardKey.ArrowLeft) {\n            moveFocus(containerRef.current, focusedOption, previousItem, true, true, onMenuReachTop, onMenuReachBottom);\n            e.preventDefault();\n          }\n        } else {\n          if (code === keyboardKey.ArrowDown) {\n            moveFocus(containerRef.current, focusedOption, nextItem);\n            e.preventDefault();\n          } else if (code === keyboardKey.ArrowUp) {\n            moveFocus(containerRef.current, focusedOption, previousItem);\n            e.preventDefault();\n          }\n        }\n        if (e.keyCode === 32) {\n          e.preventDefault();\n        } else if (code === keyboardKey.Home) {\n          e.preventDefault();\n          moveFocus(containerRef.current, null, nextItem);\n        } else if (code === keyboardKey.End) {\n          e.preventDefault();\n          moveFocus(containerRef.current, null, previousItem);\n        }\n        onKeyDown?.(e);\n      },\n      [containerRef.current, menuFocus, previousItem, nextItem],\n    );\n\n    const getMenuFirstOption = () => {\n      let option = containerRef.current?.firstElementChild;\n      while (option?.hasAttribute('disabled')) {\n        option = option.nextElementSibling;\n      }\n      return option;\n    };\n\n    const getMenuLastOption = () => {\n      let option = containerRef.current?.lastElementChild;\n      while (option?.hasAttribute('disabled')) {\n        option = option.previousElementSibling;\n      }\n      return option;\n    };\n\n    React.useLayoutEffect(() => {\n      if (containerRef.current !== document.activeElement) {\n        containerRef?.current?.focus();\n      }\n\n      if (menuFocus) {\n        const activeOption = containerRef.current?.querySelector('[aria-selected=\"true\"]');\n        const selectedItem =\n          menuFocus === 'firstOption'\n            ? getMenuFirstOption()\n            : menuFocus === 'lastOption'\n            ? getMenuLastOption()\n            : activeOption || getMenuFirstOption();\n        (selectedItem as HTMLElement)?.focus();\n      } else {\n        const focusedOption = ((containerRef.current && containerRef.current.ownerDocument) || document).activeElement;\n        moveFocus(containerRef.current, focusedOption, nextItem);\n      }\n    }, [containerRef, menuFocus, nextItem, moveFocus]);\n\n    React.useEffect(() => {\n      containerRef.current?.addEventListener('keydown', handleKeyDown);\n      return () => {\n        containerRef.current?.removeEventListener('keydown', handleKeyDown);\n      };\n    }, [containerRef.current]);\n\n    const checkDropdownPosition = () => {\n      const node = containerRef.current;\n      const targetNode = targetRef.current;\n      if (node && targetNode) {\n        const rect = node.getBoundingClientRect();\n        const targetRect = targetNode.getBoundingClientRect();\n        const viewportHeight = window.innerHeight;\n        const viewportWidth = window.innerWidth;\n        if (viewportHeight - rect.bottom < 0 && targetRect.top > viewportHeight - targetRect.bottom) {\n          setDisplayUpward(true);\n        } else if (\n          targetRect.bottom + (targetRect.top - rect.top) < viewportHeight - 8 ||\n          targetRect.top < viewportHeight - targetRect.bottom\n        ) {\n          setDisplayUpward(false);\n        }\n\n        const rectWidth = rect.right - rect.left;\n\n        if (targetRect.right < rectWidth && viewportWidth - targetRect.left < rectWidth) {\n          node.style.alignSelf = 'center';\n        } else if (targetRect.right - 16 >= rectWidth && viewportWidth - targetRect.left >= rectWidth) {\n          node.style.alignSelf = '';\n        } else if (targetRect.right - 16 < rectWidth) {\n          node.style.alignSelf = 'flex-start';\n        } else if (viewportWidth - targetRect.left < rectWidth) {\n          node.style.alignSelf = 'flex-end';\n        }\n      }\n    };\n\n    useInterval(checkDropdownPosition, 100);\n\n    // First container render always happens downward and transparent,\n    // after size and position settled transparency returns to normal\n    React.useEffect(() => {\n      if (containerRef.current) {\n        containerRef.current.style.opacity = '1';\n      }\n    }, [containerRef.current]);\n\n    return (\n      <Portal targetRef={targetRef} reverse={displayUpward}>\n        <FakeTarget />\n        <Container ref={refSetter(ref, containerRef)} {...props} className={className + ' dropdown-container'} />\n      </Portal>\n    );\n  },\n);\n\nDropdown.displayName = 'Dropdown';\n","export function isValidDate(d: any) {\n  return d instanceof Date && !isNaN(d.getTime());\n}\n","import { isValidDate } from './isValidDate';\n\nexport function parseStringToDate(str = ''): Date | null {\n  const [ddStr, mmStr, yyyyStr] = str.split('.');\n  const date = new Date(`${yyyyStr}-${mmStr}-${ddStr}`);\n  return isValidDate(date) ? date : null;\n}\n","import { parseStringToDate } from './parseStringToDate';\n\nexport function defaultParser(\n  stringValue = '',\n  isDateRangeValue?: boolean,\n  dateRangeSeparatorSymbols = ' - ',\n): Date | (Date | null)[] | null {\n  const result = stringValue.split(dateRangeSeparatorSymbols).map(parseStringToDate);\n  return isDateRangeValue ? result : result[0];\n}\n","import { InputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { defaultDateInputHandle, MASK_VALUE as DATE_MASK_VALUE } from './defaultDateInputHandle';\n\nconst DATE_SEPARATOR = ' - ';\nconst MASK_VALUE = DATE_MASK_VALUE + DATE_SEPARATOR + DATE_MASK_VALUE;\n\nexport function defaultDateRangeInputHandle(inputData: InputData | null): InputData {\n  if (!inputData || !inputData.value) {\n    const ret = { value: MASK_VALUE, selectionStart: 0, selectionEnd: 0 };\n    return ret;\n  }\n\n  const inputValue = inputData.value || MASK_VALUE;\n\n  // if entered correct masked data\n  if (inputValue.replace(/\\d/g, '_') === MASK_VALUE) return inputData;\n\n  const selectionStart = inputData.selectionStart || 0;\n  const symbolsChanged = inputValue.length - MASK_VALUE.length;\n\n  // Is cursor move to separator\n  if (DATE_MASK_VALUE.length < selectionStart + 1 && DATE_MASK_VALUE.length + DATE_SEPARATOR.length > selectionStart) {\n    const selectionPos =\n      inputValue.length < MASK_VALUE.length ? DATE_MASK_VALUE.length : DATE_MASK_VALUE.length + DATE_SEPARATOR.length;\n\n    const handledData = defaultDateInputHandle({\n      ...inputData,\n      value: inputValue.substring(0, DATE_MASK_VALUE.length),\n    });\n\n    const ret = {\n      value: handledData.value + DATE_SEPARATOR + inputValue.slice(-10),\n      selectionStart: selectionPos,\n      selectionEnd: selectionPos,\n    };\n\n    return ret;\n  }\n\n  // cursor on the left side\n  if (selectionStart <= DATE_MASK_VALUE.length) {\n    const handledData = defaultDateInputHandle({\n      ...inputData,\n      value:\n        inputValue.length > DATE_MASK_VALUE.length\n          ? inputValue.substring(0, DATE_MASK_VALUE.length + Math.max(symbolsChanged, -DATE_MASK_VALUE.length))\n          : inputValue,\n    });\n    const rightHandleData = defaultDateInputHandle({\n      value:\n        inputValue.length > DATE_MASK_VALUE.length\n          ? inputValue.substring(inputValue.length - DATE_MASK_VALUE.length, inputValue.length)\n          : '',\n    });\n    const ret = {\n      value: handledData.value + DATE_SEPARATOR + rightHandleData.value,\n      selectionStart: handledData.selectionStart,\n      selectionEnd: handledData.selectionEnd,\n    };\n    return ret;\n  }\n\n  //cursor on the right side\n  const handledData = defaultDateInputHandle({\n    value: inputValue.slice(-10 - symbolsChanged),\n    selectionStart: selectionStart - (DATE_MASK_VALUE.length + DATE_SEPARATOR.length),\n    selectionEnd: selectionStart - (DATE_MASK_VALUE.length + DATE_SEPARATOR.length),\n  });\n\n  const ret = {\n    value: inputValue.substring(0, DATE_MASK_VALUE.length) + DATE_SEPARATOR + handledData.value,\n    selectionStart: (handledData.selectionStart || 0) + DATE_MASK_VALUE.length + DATE_SEPARATOR.length,\n    selectionEnd: (handledData.selectionEnd || 0) + DATE_MASK_VALUE.length + DATE_SEPARATOR.length,\n  };\n  return ret;\n}\n","import * as React from 'react';\nimport { useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { ReactComponent as CalendarSVG } from '@openvtb/admiral-icons/build/system/CalendarSolid.svg';\nimport { TextInput, TextInputProps } from '../TextInput';\nimport { Calendar as CalendarBase, CalendarPropType } from '#ui-kit3/components/Calendar';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { defaultDateInputHandle } from '#ui-kit3/components/input/DateInput/defaultDateInputHandle';\nimport { changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { Dropdown as DropdownComponent } from '#ui-kit3/components/Dropdown';\nimport { isValidDate } from './isValidDate';\nimport { defaultParser } from './defaultParser';\nimport { defaultDateRangeInputHandle } from '#ui-kit3/components/input/DateInput/defaultDateRangeInputHandle';\n\nconst Dropdown = styled(DropdownComponent)<{ alignDropdown?: string }>`\n  align-self: ${(p) => (p.alignSelf ? p.alignSelf : 'end')};\n`;\n\nconst Calendar = styled(CalendarBase)`\n  border-radius: 4px;\n`;\n\nconst Input = styled(TextInput)`\n  input {\n    letter-spacing: 1px;\n  }\n`;\n\nconst Icon = styled(CalendarSVG)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  [disabled] & {\n    pointer-events: none;\n    & *[fill^='#'] {\n      fill: ${(props) => props.theme.color.text.tertiary};\n    }\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\n// IE11 fix toLocaleDateString('ru') extra invisible characters by using .replace(/[^ -~]/g,'')\nfunction defaultFormatter(isoValues: string[], joinString = ' - '): string {\n  return isoValues\n    .map((iso) => new Date(iso))\n    .map((date) => (isValidDate(date) ? date.toLocaleDateString('ru').replace(/[^ -~]/g, '') : '__.__.____'))\n    .join(joinString);\n}\n\nexport interface DateInputProps extends TextInputProps, Omit<CalendarPropType, 'onChange'> {\n  /** Устанавливает тип ввода даты или интервала даты*/\n  type?: 'date' | 'date-range';\n\n  /** Устанавливает начальное состояние видимости календаря */\n  defaultIsCalendarOpen?: boolean;\n\n  formatter?: (isoValues: string[], joinString?: string) => string;\n  parser?: (stringValue?: string, isDateRangeValue?: boolean) => Date[];\n\n  /**\n   * Позволяет выравнивать позицию календаря относительно инпута.\n   * Принимает стандартные значения css свойства align-self (start, end, center)\n   */\n  alignDropdown?: string;\n  /** Ref для календаря */\n  calendarRef?: React.RefObject<HTMLDivElement>;\n}\n\nexport const DateInput = React.forwardRef<HTMLInputElement, DateInputProps>(\n  (\n    {\n      type = 'date',\n      defaultIsCalendarOpen = false,\n      formatter = defaultFormatter,\n      parser = defaultParser,\n      minDate,\n      maxDate,\n      validator,\n      filterDate,\n      localeName,\n      alignDropdown = 'end',\n      currentActiveView,\n      currentActiveViewImportant,\n      onMonthSelect,\n      onYearSelect,\n      onViewEnter,\n      onViewLeave,\n      onViewMonthSelect,\n      onViewYearSelect,\n      selected,\n      calendarRef,\n      ...props\n    },\n    ref,\n  ) => {\n    const calendarProps = {\n      minDate,\n      maxDate,\n      validator,\n      filterDate,\n      localeName,\n      currentActiveView,\n      currentActiveViewImportant,\n      onMonthSelect,\n      onYearSelect,\n      onViewEnter,\n      onViewLeave,\n      onViewMonthSelect,\n      onViewYearSelect,\n      selected,\n    };\n    const isDateRange = type === 'date-range';\n    const handleInput = props.handleInput || (isDateRange ? defaultDateRangeInputHandle : defaultDateInputHandle);\n    const [calendarValue, setCalendarValue] = useState<Date | (Date | null)[] | null>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const inputContainerRef = useRef<HTMLDivElement>(null);\n    const [isCalendarOpen, setCalendarOpen] = useState<boolean>(defaultIsCalendarOpen);\n\n    const [startDate, endDate, selectedCalendarValue] = Array.isArray(calendarValue)\n      ? calendarValue\n      : [undefined, undefined, calendarValue];\n\n    const handleCalendarChange = (maybeDate: Date | (Date | null)[] | null) => {\n      setCalendarValue(maybeDate);\n      if (inputRef.current) {\n        if (!maybeDate) {\n          changeInputData(inputRef.current, { value: '' });\n          return;\n        }\n\n        const values = Array.isArray(maybeDate) ? maybeDate : [maybeDate];\n        const toFormatValues = values\n          .map((date) => (date ? new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate())) : date))\n          .map((date) => (date ? date.toISOString().substring(0, 10) : ''));\n        const value = formatter(toFormatValues);\n        changeInputData(inputRef.current, { value });\n\n        if (isDateRange) {\n          if (!values.includes(null)) {\n            setCalendarOpen(false);\n          }\n        } else {\n          setCalendarOpen(false);\n        }\n      }\n    };\n\n    const handleBlurCalendarContainer = () => {\n      setCalendarOpen(false);\n    };\n\n    const handleButtonClick = () => {\n      const calValue = parser(inputRef.current?.value, isDateRange);\n      setCalendarValue(calValue);\n      setCalendarOpen(!isCalendarOpen);\n    };\n\n    return (\n      <Input\n        {...props}\n        ref={refSetter(ref, inputRef)}\n        handleInput={handleInput}\n        icons={props.readOnly ? undefined : <Icon onClick={handleButtonClick} tabIndex={0} />}\n        containerRef={inputContainerRef}\n      >\n        {isCalendarOpen && (\n          <Dropdown targetRef={inputRef} onClickOutside={handleBlurCalendarContainer}>\n            <Calendar\n              {...calendarProps}\n              ref={calendarRef}\n              selected={selectedCalendarValue}\n              startDate={startDate}\n              endDate={endDate}\n              onChange={handleCalendarChange}\n              range={isDateRange}\n            />\n          </Dropdown>\n        )}\n      </Input>\n    );\n  },\n);\n\nDateInput.defaultProps = { dimension: 'm' };\nDateInput.displayName = 'DateInput';\n","import { typography } from '#ui-kit3/components/Typography';\nimport styled from 'styled-components';\n\nexport const MessagePanel = styled.div`\n  height: 40px;\n  ${typography['Body/Body 1 Long']}\n  line-height: 40px;\n  padding: 0 16px;\n  color: ${(p) => p.theme.color.text.primary};\n\n  [data-dimension='xl'] & {\n    height: 48px;\n    line-height: 48px;\n  }\n\n  [data-dimension='s'] & {\n    height: 32px;\n    ${typography['Body/Body 2 Long']}\n    line-height: 32px;\n    padding: 0 12px;\n  }\n`;\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport type { SuggestItem } from './';\nimport { HTMLAttributes } from 'react';\n\nconst Highlight = styled.span`\n  color: ${(p) => p.theme.color.basic.primary};\n`;\n\nfunction getHighlightedText(text = '', highlight = '') {\n  const chunks = highlight\n    .split(/[ ]+/)\n    .filter((chunk) => Boolean(chunk))\n    .map((chunk) => chunk.toLowerCase());\n\n  const pattern = chunks\n    .map((chunk) => {\n      // в каждом чанке экранируем спецсимволы (.?*+^$(){}|[]\\-())\n      const newChunk = chunk.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&');\n      return `(${newChunk})?`;\n    })\n    .join('');\n\n  const parts = text.split(new RegExp(pattern, 'gi')).filter((chunk) => Boolean(chunk));\n  return parts.map((part, i) =>\n    chunks.indexOf(part.toLowerCase()) >= 0 ? <Highlight key={i}>{part}</Highlight> : part,\n  );\n}\n\nconst activePanel = css`\n  background-color: ${(p) => p.theme.color.background.secondary};\n  cursor: pointer;\n`;\n\nexport const Panel = styled.div<{ active?: boolean }>`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  height: 40px;\n  ${typography['Body/Body 1 Long']}\n  line-height: 40px;\n  padding: 0 16px;\n\n  [data-dimension='xl'] & {\n    height: 48px;\n    line-height: 48px;\n  }\n  [data-dimension='s'] & {\n    height: 32px;\n    ${typography['Body/Body 2 Long']}\n    line-height: 32px;\n    padding: 0 12px;\n  }\n\n  color: ${(p) => p.theme.color.text.primary};\n\n  ${(p) => (p.active ? activePanel : '')}\n`;\n\nexport interface SuggestPanelProps extends SuggestItem, HTMLAttributes<HTMLDivElement> {\n  text?: string;\n  active?: boolean;\n}\n\nexport const SuggestPanel = ({ searchText = '', text = '', ...props }: SuggestPanelProps) => {\n  return (\n    <Panel {...props} title={text}>\n      {getHighlightedText(text, searchText)}\n    </Panel>\n  );\n};\n","import * as React from 'react';\nimport { changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as SearchOutlineSVG } from '@openvtb/admiral-icons/build/system/SearchOutline.svg';\nimport { HTMLAttributes } from 'react';\nimport styled from 'styled-components';\nimport { TextInput, TextInputProps } from '../TextInput';\nimport { Dropdown as DropComponent } from '#ui-kit3/components/Dropdown';\nimport { MessagePanel } from './MessagePanel';\nimport { SuggestPanel } from './SuggestPanel';\nimport { Spinner } from '#ui-kit3/components/Spinner';\n\nconst Dropdown = styled(DropComponent)`\n  padding: 8px 0;\n`;\n\nconst SearchIcon = styled(SearchOutlineSVG)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst SearchingPanelContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 40px;\n  ${typography['Body/Body 1 Long']};\n\n  [data-dimension='xl'] & {\n    height: 48px;\n    line-height: 48px;\n  }\n\n  [data-dimension='s'] & {\n    height: 32px;\n    ${typography['Body/Body 2 Long']}\n    line-height: 32px;\n  }\n\n  color: ${(p) => p.theme.color.text.secondary};\n`;\n\nconst SearchTextContainer = styled.div`\n  margin-left: 8px;\n`;\n\nconst StyledDropDown = styled(Dropdown)<{ alignDropdown?: string; dropMaxHeight: string | number }>`\n  padding: 8px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  ${(p) => (p.alignDropdown ? `align-self: ${p.alignDropdown}` : '')};\n  max-height: ${(p) => p.dropMaxHeight};\n  min-width: 100%;\n`;\n\nexport const SearchingPanel: React.FC<HTMLAttributes<HTMLDivElement>> = ({ children, ...props }) => {\n  return (\n    <SearchingPanelContainer {...props}>\n      <Spinner dimension=\"m\" />\n      <SearchTextContainer>{children}</SearchTextContainer>\n    </SearchingPanelContainer>\n  );\n};\n\nexport interface SuggestItem {\n  searchText: string;\n}\n\nexport interface SuggestInputProps extends Omit<TextInputProps, 'value'> {\n  value?: string;\n\n  /** Отображать статус загрузки данных */\n  isLoading?: boolean;\n\n  /** Обработчик выбора опции (дефолтный обработчик подставляет значение опции в поле ввода) */\n  onOptionSelect?: (value: string) => void;\n\n  /** Список вариантов для отображения в опциях */\n  options?: string[];\n\n  /** Референс на контейнер для правильного позиционирования выпадающего списка */\n  portalTargetRef?: React.RefObject<HTMLElement>;\n\n  /**\n   * Позволяет выравнивать позицию дропдаун контейнера относительно селекта.\n   * Принимает стандартные значения css свойства align-self (auto | flex-start | flex-end | center | baseline | stretch)\n   */\n  alignDropdown?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n\n  /** Задает максимальную высоту контейнера с опциями */\n  dropMaxHeight?: string | number;\n}\n\nexport const SuggestInput = React.forwardRef<HTMLInputElement, SuggestInputProps>(\n  ({ isLoading, onOptionSelect, alignDropdown, dropMaxHeight = '300px', ...props }, ref) => {\n    const isControlledComponentValue = undefined !== props.value;\n    const { options, portalTargetRef } = props;\n\n    const inputRef = React.useRef<HTMLInputElement | null>(null);\n    const [activeIndex, setActiveIndex] = React.useState(0);\n    const [isSuggestPanelOpen, setIsSuggestPanelOpen] = React.useState<boolean>(false);\n    const [isFocused, setIsFocused] = React.useState<boolean>(false);\n\n    const [, forceUpdate] = React.useReducer((x) => x + 1, 0);\n\n    const handleOptionSelect = () => {\n      const value = options?.[activeIndex] || '';\n\n      onOptionSelect?.(value);\n\n      if (!isControlledComponentValue && inputRef.current) {\n        const cursorPosition = value.length;\n        changeInputData(inputRef.current, { value, selectionStart: cursorPosition, selectionEnd: cursorPosition });\n      }\n\n      setIsSuggestPanelOpen(false);\n    };\n\n    const handleOptionClick = (e: React.MouseEvent) => {\n      e.preventDefault();\n      handleOptionSelect();\n    };\n\n    React.useEffect(() => {\n      if (options) {\n        setIsSuggestPanelOpen(isFocused);\n      }\n    }, [isFocused, options]);\n\n    const handleKeyUp = (e: React.KeyboardEvent) => {\n      if (!options) return;\n      switch (e.key) {\n        case 'Enter':\n          handleOptionSelect();\n          break;\n        case 'ArrowUp':\n          if (activeIndex <= 0) {\n            setActiveIndex(options.length - 1);\n          } else {\n            setActiveIndex(activeIndex - 1);\n          }\n          break;\n        case 'ArrowDown':\n          if (activeIndex >= options.length - 1) {\n            setActiveIndex(0);\n          } else {\n            setActiveIndex(activeIndex + 1);\n          }\n          break;\n      }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      const code = keyboardKey.getCode(e);\n\n      // prevent submit form on Enter press when selection is available\n      if (code === keyboardKey.Enter && isSuggestPanelOpen) {\n        e.preventDefault();\n      }\n    };\n\n    const loadingMessage = isLoading ? <SearchingPanel>Поиск совпадений</SearchingPanel> : 'Нет совпадений';\n\n    const delayBlurEffect = React.useCallback(() => window.setTimeout(() => setIsFocused(false), 200), [setIsFocused]);\n\n    React.useEffect(() => {\n      function onInputChange(this: HTMLInputElement) {\n        if (!props.onInput) forceUpdate();\n      }\n\n      if (inputRef.current) {\n        const node = inputRef.current;\n        node.addEventListener('input', onInputChange);\n        return () => {\n          node.removeEventListener('input', onInputChange);\n        };\n      }\n    }, [props.onInput]);\n\n    return (\n      <TextInput\n        {...props}\n        ref={refSetter(ref, inputRef)}\n        icons={<SearchIcon />}\n        onKeyUp={(...p) => {\n          props.onKeyUp?.(...p);\n          handleKeyUp(...p);\n        }}\n        onKeyDown={(...p) => {\n          props.onKeyDown?.(...p);\n          handleKeyDown(...p);\n        }}\n        onFocus={(...p) => {\n          props.onFocus?.(...p);\n          setIsFocused(true);\n        }}\n        onBlur={(...p) => {\n          props.onBlur?.(...p);\n          delayBlurEffect();\n        }}\n      >\n        {options && isSuggestPanelOpen && (\n          <StyledDropDown\n            targetRef={portalTargetRef || inputRef}\n            alignDropdown={alignDropdown}\n            dropMaxHeight={dropMaxHeight}\n            data-dimension={props.dimension || TextInput.defaultProps?.dimension}\n          >\n            {options.length === 0 ? (\n              <MessagePanel>{loadingMessage}</MessagePanel>\n            ) : (\n              options.map((text, index) => (\n                <SuggestPanel\n                  key={index}\n                  text={text}\n                  active={index === activeIndex}\n                  searchText={props.value || inputRef.current?.value || ''}\n                  onMouseEnter={() => setActiveIndex(index)}\n                  onClick={handleOptionClick}\n                  onKeyUp={handleKeyUp}\n                />\n              ))\n            )}\n          </StyledDropDown>\n        )}\n      </TextInput>\n    );\n  },\n);\n\nSuggestInput.displayName = 'SuggestInput';\n","import { ReactComponent as ChevronDownOutline } from '@openvtb/admiral-icons/build/system/ChevronDownOutline.svg';\nimport styled from 'styled-components';\n\nexport const OpenStatusButton = styled(ChevronDownOutline)<{ $isOpen?: boolean }>`\n  transition: transform 0.3s ease-in-out;\n  transform: rotate(${(p) => (p.$isOpen ? 180 : 0)}deg);\n  & *[fill^='#'] {\n    fill: ${(props) => (props.$isOpen ? props.theme.color.basic.press : props.theme.color.text.secondary)};\n  }\n\n  &&[data-disabled] {\n    pointer-events: none;\n    fill: ${(props) => props.theme.color.text.tertiary};\n  }\n\n  &:not([data-disabled]):hover {\n    cursor: pointer;\n  }\n\n  &:not([data-disabled]):hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n","import * as React from 'react';\nimport {\n  IOptionContext,\n  IOptionGroupContext,\n  IConstantSearchSelectContext,\n  IDropDownSearchSelectContext,\n} from './types';\n\nconst ConstantSearchSelectContext = React.createContext<IConstantSearchSelectContext | null>(null);\n\nexport const useConstantSearchSelectContext = () => React.useContext(ConstantSearchSelectContext);\n\nexport const ConstantSearchSelectProvider = ({\n  children,\n  ...restProps\n}: React.PropsWithChildren<IConstantSearchSelectContext>) => (\n  <ConstantSearchSelectContext.Provider value={restProps}>{children}</ConstantSearchSelectContext.Provider>\n);\n\nconst DropDownSearchSelectContext = React.createContext<IDropDownSearchSelectContext | null>(null);\n\nexport const useDropDownSearchSelectContext = () => React.useContext(DropDownSearchSelectContext);\n\nexport const DropDownSearchSelectProvider = ({\n  children,\n  ...restProps\n}: React.PropsWithChildren<IDropDownSearchSelectContext>) => (\n  <DropDownSearchSelectContext.Provider value={restProps}>{children}</DropDownSearchSelectContext.Provider>\n);\n\nconst OptionContext = React.createContext<IOptionContext | null>(null);\n\nexport const useOptionContext = () => React.useContext(OptionContext);\n\nexport const OptionProvider = ({ children, ...restProps }: React.PropsWithChildren<IOptionContext>) => (\n  <OptionContext.Provider value={restProps}>{children}</OptionContext.Provider>\n);\n\nconst OptionGroupContext = React.createContext<IOptionGroupContext | null>(null);\n\nexport const useOptionGroupContext = () => React.useContext(OptionGroupContext);\n\nexport const OptionGroupProvider = ({ children, ...restProps }: React.PropsWithChildren<IOptionGroupContext>) => (\n  <OptionGroupContext.Provider value={restProps}>{children}</OptionGroupContext.Provider>\n);\n","import styled, { css } from 'styled-components';\nimport { ReactComponent as CloseOutline } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport { TYPOGRAPHY } from '#ui-kit3/components/Typography';\nimport type { ChipAppearance, ChipDimension } from '#ui-kit3/components/Chips';\n\nconst heights = css<{ dimension: ChipDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '32px';\n      case 's':\n        return '24px';\n      default:\n        return '24px';\n    }\n  }};\n`;\n\nconst heightIcons = css<{ dimension: ChipDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '16px';\n    }\n  }};\n`;\n\nconst heightText = css<{ dimension: ChipDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '16px';\n    }\n  }};\n`;\n\nconst widthIcons = css<{ dimension: ChipDimension }>`\n  width: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '16px';\n    }\n  }};\n`;\n\nconst paddings = css<{ dimension: ChipDimension }>`\n  padding: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '6px 12px';\n      case 's':\n        return '4px 8px';\n      default:\n        return '4px 8px';\n    }\n  }};\n`;\n\nconst typography = css<{\n  dimension: ChipDimension;\n  disabled?: boolean;\n  selected?: boolean;\n  appearance?: ChipAppearance;\n}>`\n  font-family: ${TYPOGRAPHY.fontFamily};\n  font-style: normal;\n  font-weight: normal;\n  font-size: ${({ dimension }) => (dimension === 's' ? '12px' : '14px')};\n  line-height: ${({ dimension }) => (dimension === 's' ? '16px' : '20px')};\n  font-feature-settings: 'tnum' on, 'lnum' on;\n  color: ${({ theme, appearance, disabled, selected }) => {\n    if (disabled && !selected) return theme.color.text.tertiary;\n\n    if (selected || (selected && disabled)) return theme.color.text.staticWhite;\n\n    return appearance === 'filled' ? theme.color.text.primary : theme.color.basic.primary;\n  }};\n`;\n\nconst colorsBorderAndBackground = css<{\n  dimension: ChipDimension;\n  disabled?: boolean;\n  selected?: boolean;\n  appearance?: ChipAppearance;\n}>`\n  background-color: ${({ theme, appearance, selected, disabled }) => {\n    if (selected && !disabled) {\n      return theme.color.basic.primary;\n    }\n    if (selected && disabled) return theme.color.basic.disable;\n    return appearance === 'filled' ? theme.color.background.tertiary : theme.color.background.primary;\n  }};\n\n  border: 1px solid\n    ${({ theme, appearance, disabled }) => {\n      if (disabled) return theme.color.background.tertiary;\n      if (appearance === 'filled') return 'transparent';\n      else return theme.color.basic.primary;\n    }};\n\n  border-radius: 16px;\n\n  &:hover,\n  &:active {\n    color: ${({ theme, appearance, selected }) => {\n      if (selected) return theme.color.text.staticWhite;\n      if (appearance === 'filled') return theme.color.text.primary;\n      else return theme.color.basic.hover;\n    }};\n    background-color: ${({ theme, appearance, selected }) => {\n      if (selected) return theme.color.basic.hover;\n      if (appearance === 'filled') return theme.color.background.tertiaryHover;\n      else return theme.color.background.secondary;\n    }};\n    border-color: ${({ theme, appearance, disabled }) => {\n      if (appearance === 'outlined' && !disabled) {\n        return theme.color.basic.hover;\n      }\n    }};\n  }\n\n  &:focus-visible {\n    outline: 0;\n\n    &:before {\n      border: 2px solid ${({ theme }) => theme.color.basic.hover};\n      border-radius: 20px;\n      content: '';\n      display: block;\n      position: absolute;\n      top: -5px;\n      left: -5px;\n      right: -5px;\n      bottom: -5px;\n      pointer-events: none;\n    }\n  }\n`;\nexport const ChipComponentStyled = styled.div<{\n  disabled?: boolean;\n  dimension: ChipDimension;\n  appearance?: ChipAppearance;\n  selected?: boolean;\n  defaultChip?: boolean;\n}>`\n  display: inline-flex;\n  align-items: center;\n  box-sizing: border-box;\n  position: relative;\n  max-width: 190px;\n  user-select: none;\n  pointer-events: ${({ disabled }) => (disabled ? 'none' : 'auto')};\n  & *[fill^='#'] {\n    fill: ${({ theme, appearance, disabled }) =>\n      disabled\n        ? theme.color.text.tertiary\n        : appearance === 'filled'\n        ? theme.color.text.secondary\n        : theme.color.basic.primary};\n  }\n  cursor: ${({ defaultChip, disabled }) => (defaultChip && !disabled ? 'pointer' : 'default')};\n  ${colorsBorderAndBackground}\n  ${heights}\n  ${paddings}\n  ${typography}\n\n  &:hover {\n    & *[fill^='#'] {\n      fill: ${({ theme, appearance, disabled, selected }) => {\n        if (selected) return theme.color.text.staticWhite;\n        if (appearance === 'outlined' && !disabled) {\n          return theme.color.basic.hover;\n        }\n      }};\n    }\n  }\n\n  &:active {\n    & *[fill^='#'] {\n      fill: ${({ theme, appearance, disabled }) => {\n        if (appearance === 'outlined' && !disabled) {\n          return theme.color.basic.press;\n        }\n      }};\n    }\n  }\n`;\nexport const CloseIconWrapperStyled = styled(CloseOutline)<{\n  disabled?: boolean;\n  selected?: boolean;\n}>`\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n\n  &:hover {\n    & *[fill^='#'] {\n      fill: ${({ theme, disabled, selected }) => {\n        if (selected) return theme.color.text.staticWhite;\n        if (!disabled) {\n          return theme.color.basic.hover;\n        }\n      }};\n    }\n  }\n\n  &:active {\n    & *[fill^='#'] {\n      fill: ${({ theme, disabled, selected }) => {\n        if (selected) return theme.color.text.staticWhite;\n        if (!disabled) {\n          return theme.color.basic.press;\n        }\n      }};\n    }\n  }\n`;\nexport const ChipContentWrapperStyled = styled.div<{\n  appearance?: ChipAppearance;\n  disabled?: boolean;\n  selected?: boolean;\n  dimension: ChipDimension;\n}>`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  display: inline-flex;\n\n  ${heightText}\n  & svg {\n    ${heightIcons}\n    ${widthIcons}\n    & *[fill^='#'] {\n      fill: ${({ theme, appearance, disabled, selected }) => {\n        if (selected) {\n          return theme.color.background.primary;\n        }\n        return disabled\n          ? theme.color.text.tertiary\n          : appearance === 'filled'\n          ? theme.color.text.secondary\n          : theme.color.basic.primary;\n      }};\n    }\n  }\n`;\nexport const ChipChildrenWrapperStyled = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: inline-block;\n`;\nexport const IconBeforeWrapperStyled = styled.div`\n  display: inline-block;\n  margin-right: 8px;\n`;\nexport const IconAfterWrapperStyled = styled.div`\n  display: inline-block;\n  margin-left: 8px;\n`;\nexport const IconWrapperStyled = styled.div<{\n  dimension: ChipDimension;\n}>`\n  ${heightIcons}\n  ${widthIcons}\n  & > svg {\n    ${heightIcons}\n    ${widthIcons}\n  }\n`;\n","import * as React from 'react';\nimport type { FC, HTMLAttributes, MouseEvent, MutableRefObject, ReactNode } from 'react';\n\nimport { Tooltip } from '../Tooltip';\n\nimport {\n  ChipChildrenWrapperStyled,\n  ChipComponentStyled,\n  ChipContentWrapperStyled,\n  CloseIconWrapperStyled,\n  IconAfterWrapperStyled,\n  IconBeforeWrapperStyled,\n  IconWrapperStyled,\n} from './style';\n\nexport type ChipDimension = 's' | 'm';\nexport type ChipAppearance = 'filled' | 'outlined';\n\n/*\n  MIN_MEASURABLE_DIFFERENCE - ie опять не может спокойно делать свою работу\n  https://stackoverflow.com/questions/30900154/workaround-for-issue-with-ie-scrollwidth\n */\nconst MIN_MEASURABLE_DIFFERENCE = 2;\nconst defaultRenderContent = () => '';\n\nexport interface ChipsProps extends HTMLAttributes<HTMLDivElement> {\n  /** Делает высоту компонента больше или меньше обычной */\n  dimension?: ChipDimension;\n  /** Отключение чипса */\n  disabled?: boolean;\n  /** Вид чипсов */\n  appearance?: ChipAppearance;\n  /** Выбранная чипса */\n  selected?: boolean;\n  /** Добавляет иконку для удаления чипсов */\n  onClose?: () => void;\n  /** Функция, которая возвращает реакт-компонент с контентом тултипа. Если этому компоненту нужны props, используйте замыкание */\n  renderContentTooltip?: () => ReactNode;\n  /** Иконка перед текстом Chips'a **/\n  iconBefore?: ReactNode;\n  /** Иконка после текста Chips'a. Отображается, если не прокинут метод onClose, иначе отображется иконка закрытия (крест) **/\n  iconAfter?: ReactNode;\n}\n\nexport const Chips: FC<ChipsProps> = ({\n  dimension = 'm',\n  disabled,\n  appearance = 'outlined',\n  selected,\n  onClose,\n  children,\n  renderContentTooltip = defaultRenderContent,\n  iconBefore,\n  iconAfter,\n  ...props\n}) => {\n  const defaultChip = selected !== undefined;\n  const [withTooltip, setTooltip] = React.useState(false);\n\n  const refItems = React.useRef<HTMLDivElement | null>(null);\n\n  React.useEffect(() => {\n    if (refItems?.current && refItems.current?.offsetWidth <= refItems.current?.scrollWidth) {\n      const difference = refItems.current.scrollWidth - refItems.current.offsetWidth;\n      setTooltip(difference >= MIN_MEASURABLE_DIFFERENCE);\n    }\n  }, [setTooltip, refItems?.current]);\n\n  const handleClickCloseIcon = React.useCallback(\n    (e: MouseEvent) => {\n      e.stopPropagation();\n\n      if (!disabled) {\n        onClose?.();\n      }\n    },\n    [onClose],\n  );\n\n  const Chip = (\n    <ChipComponentStyled\n      dimension={dimension}\n      disabled={disabled}\n      appearance={appearance}\n      selected={selected}\n      defaultChip={defaultChip}\n      {...props}\n      tabIndex={props.tabIndex ?? 0}\n    >\n      <ChipContentWrapperStyled dimension={dimension} disabled={disabled} appearance={appearance} selected={selected}>\n        {iconBefore && (\n          <IconBeforeWrapperStyled>\n            <IconWrapperStyled dimension={dimension}>{iconBefore}</IconWrapperStyled>\n          </IconBeforeWrapperStyled>\n        )}\n        <ChipChildrenWrapperStyled ref={refItems}>{children}</ChipChildrenWrapperStyled>\n        {!onClose && iconAfter && (\n          <IconAfterWrapperStyled>\n            <IconWrapperStyled dimension={dimension}>{iconAfter}</IconWrapperStyled>\n          </IconAfterWrapperStyled>\n        )}\n        {onClose && (\n          <IconAfterWrapperStyled>\n            <IconWrapperStyled dimension={dimension}>\n              <CloseIconWrapperStyled\n                disabled={disabled}\n                onClick={disabled ? void 0 : handleClickCloseIcon}\n                selected={selected}\n              />\n            </IconWrapperStyled>\n          </IconAfterWrapperStyled>\n        )}\n      </ChipContentWrapperStyled>\n    </ChipComponentStyled>\n  );\n\n  return withTooltip ? <Tooltip renderContent={renderContentTooltip}>{Chip}</Tooltip> : Chip;\n};\n\nChips.displayName = 'Chips';\n","import styled, { css, FlattenInterpolation, ThemeProps, DefaultTheme } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { PositionInPortal } from '#ui-kit3/components/PositionInPortal';\nimport type { PositionInPortalProps } from '#ui-kit3/components/PositionInPortal';\n\nexport const AnchorWrapper = styled.div<{ anchorCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>> }>`\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n  ${(p) => (p.anchorCssMixin ? p.anchorCssMixin : '')}\n`;\n\nexport const CLOSE_BUTTON_SIZE = 20;\nexport const CLOSE_BUTTON_MARGIN_LEFT = 16;\n\nexport const CloseButton = styled.button`\n  position: absolute;\n  top: 24px;\n  right: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  outline: none;\n  border: 0;\n  padding: 0;\n  width: ${CLOSE_BUTTON_SIZE}px;\n  height: ${CLOSE_BUTTON_SIZE}px;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  ${({ theme }) => `\n    & *[fill^='#'] {\n      fill: ${theme.color.text.secondary};\n    }\n\n    &:hover,\n    &:focus {\n      & *[fill^='#'] {\n        fill: ${theme.color.basic.hover};\n      }\n    }\n\n    &:active {\n      & *[fill^='#'] {\n        fill: ${theme.color.basic.press};\n      }\n    }\n  `}\n`;\n\nexport type Dimension = 's' | 'm' | 'l';\n\nconst HINT_PADDING = 16;\nconst HINT_BORDER_RADIUS = '4px';\nconst HINT_WIDTH_S = '280px';\nconst HINT_WIDTH_M = '384px';\nconst HINT_WIDTH_L = '488px';\nconst HINT_WIDTH_MOBILE = 'calc(100vw - 32px)';\n\nconst sizes = css<{ dimension: Dimension; isMobile: boolean }>`\n  width: ${({ dimension, isMobile }) => {\n    if (isMobile) return HINT_WIDTH_MOBILE;\n    if (dimension === 's') return HINT_WIDTH_S;\n    if (dimension === 'm') return HINT_WIDTH_M;\n    return HINT_WIDTH_L;\n  }};\n`;\n\nexport const HintWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 8px;\n  box-sizing: border-box;\n  margin: 0 0 0 -8px;\n  width: max-content;\n  min-width: max-content;\n  opacity: 0;\n  transition-delay: 200ms;\n  transition-property: opacity;\n  pointer-events: initial;\n  position: relative;\n`;\n\nexport const HintDialog = styled.div<{\n  dimension: Dimension;\n  isMobile: boolean;\n}>`\n  display: flex;\n  padding: ${HINT_PADDING}px 0 ${HINT_PADDING}px ${HINT_PADDING}px;\n  ${sizes};\n  background-color: ${({ theme }) => theme.color.background.primary};\n  ${typography['Body/Body 2 Long']}\n  ${({ theme }) => theme.shadow.ClickableDefault}\n  border-radius: ${HINT_BORDER_RADIUS};\n  box-sizing: border-box;\n`;\n\nexport const HintContent = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  max-height: 320px;\n  overflow: auto;\n  padding-right: ${HINT_PADDING}px;\n  [data-trigger='click'] & {\n    padding-right: ${CLOSE_BUTTON_SIZE + HINT_PADDING + CLOSE_BUTTON_MARGIN_LEFT}px;\n  }\n`;\n\nexport const Portal = styled(PositionInPortal)<\n  PositionInPortalProps & { flexDirection?: 'row' | 'row-reverse' | 'column' | 'column-reverse' }\n>`\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: ${({ flexDirection }) => (flexDirection ? flexDirection : 'column')};\n`;\n\nexport const FakeTarget = styled.div`\n  pointer-events: none;\n  height: 100%;\n  width: 100%;\n  flex: 0 0 auto;\n`;\n","type HintPositionType =\n  | 'bottom-right'\n  | 'bottom-left'\n  | 'bottom-pageCenter'\n  | 'top-right'\n  | 'top-left'\n  | 'top-pageCenter';\n\nexport type CalculationResult = {\n  check: (anchorElementRect: DOMRect, hintRect: DOMRect) => boolean;\n};\n\n// расположены в порядке приоритета при подборе стороны открытия тултипа\nconst POSITION_MAPPER: Record<HintPositionType, CalculationResult> = {\n  'bottom-right': {\n    /** проверяем, что тултипу хватит места снизу и справа */\n    check: (anchorElementRect: DOMRect, hintRect: DOMRect) => {\n      const isEnoughOnBottom = window.innerHeight - anchorElementRect.bottom > hintRect.height;\n      const isEnoughOnRight = window.innerWidth - anchorElementRect.right >= hintRect.width - anchorElementRect.width;\n      return isEnoughOnBottom && isEnoughOnRight;\n    },\n  },\n  'bottom-left': {\n    /** проверяем, что тултипу хватит места снизу и слева */\n    check: (anchorElementRect: DOMRect, hintRect: DOMRect) => {\n      const isEnoughOnBottom = window.innerHeight - anchorElementRect.bottom > hintRect.height;\n      const isEnoughOnLeft = anchorElementRect.left > hintRect.width - anchorElementRect.width;\n      return isEnoughOnBottom && isEnoughOnLeft;\n    },\n  },\n  'bottom-pageCenter': {\n    /** проверяем, что тултипу хватит места снизу и по центру страницы */\n    check: (anchorElementRect: DOMRect, hintRect: DOMRect) => {\n      const isEnoughOnBottom = window.innerHeight - anchorElementRect.bottom > hintRect.height;\n      const isEnoughOnCenter = hintRect.width < window.innerWidth;\n      return isEnoughOnBottom && isEnoughOnCenter;\n    },\n  },\n  'top-right': {\n    /** проверяем, что тултипу хватит места сверху и справа */\n    check: (anchorElementRect: DOMRect, hintRect: DOMRect) => {\n      const isEnoughOnTop = anchorElementRect.top > hintRect.height;\n      const isEnoughOnRight = window.innerWidth - anchorElementRect.right >= hintRect.width - anchorElementRect.width;\n      return isEnoughOnRight && isEnoughOnTop;\n    },\n  },\n  'top-left': {\n    /** проверяем, что тултипу хватит места сверху и слева */\n    check: (anchorElementRect: DOMRect, hintRect: DOMRect) => {\n      const isEnoughOnTop = anchorElementRect.top > hintRect.height;\n      const isEnoughOnLeft = anchorElementRect.left > hintRect.width - anchorElementRect.width;\n      return isEnoughOnLeft && isEnoughOnTop;\n    },\n  },\n  'top-pageCenter': {\n    /** проверяем, что тултипу хватит места сверху и по центру страницы */\n    check: (anchorElementRect: DOMRect, hintRect: DOMRect) => {\n      const isEnoughOnTop = anchorElementRect.top > hintRect.height;\n      const isEnoughOnCenter = hintRect.width < window.innerWidth;\n      return isEnoughOnCenter && isEnoughOnTop;\n    },\n  },\n};\n\nexport function getHintDirection(anchorElement: HTMLElement, hintElement: HTMLElement): any {\n  const anchorElementRect: DOMRect = anchorElement.getBoundingClientRect();\n  const hintRect: DOMRect = hintElement.getBoundingClientRect();\n  const positions = Object.entries(POSITION_MAPPER) as [HintPositionType, CalculationResult][];\n\n  const compatiblePositions = positions.filter((kv) => {\n    return kv[1].check(anchorElementRect, hintRect);\n  });\n\n  return compatiblePositions.length ? compatiblePositions[0][0] : 'bottom-right';\n}\n","// https://github.com/zellwk/zellwk.com/blob/master/src/posts/2020-01-29-getting-focusable-elements.md\n\n/**\n * Gets keyboard-focusable elements within a specified element\n * @param {HTMLElement} [element=document] element\n * @return {Array<Element>}\n */\n\nexport function getKeyboardFocusableElements(element = document): Element[] {\n  return [\n    ...element.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex=\"-1\"])'),\n  ].filter((el) => !el.hasAttribute('disabled'));\n}\n","// https://github.com/martinstark/throttle-ts\nexport const throttle = <T extends (...args: any[]) => any>(fn: T, delay: number): [T | (() => void), () => void] => {\n  let wait = false;\n  let timeout: undefined | number;\n  let cancelled = false;\n\n  return [\n    (...args: any[]) => {\n      if (cancelled) return undefined;\n      if (wait) return undefined;\n\n      const val = fn(...args);\n\n      wait = true;\n\n      timeout = window.setTimeout(() => {\n        wait = false;\n      }, delay);\n\n      return val;\n    },\n    () => {\n      cancelled = true;\n      clearTimeout(timeout);\n    },\n  ];\n};\n","import * as React from 'react';\nimport { ReactComponent as CloseOutline } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { useClickOutside } from '#ui-kit3/components/common/hooks/useClickOutside';\nimport { getKeyboardFocusableElements } from '#ui-kit3/components/common/utils/getKeyboardFocusableElements';\nimport { throttle } from '#ui-kit3/components/common/utils/throttle';\n\nimport { CloseButton, HintDialog, HintContent, HintWrapper } from './style';\nimport type { ActionsType } from './reducer';\n\ntype PropsType = {\n  visibilityTrigger: 'click' | 'hover';\n  isMobile: boolean;\n  dimension: 's' | 'm' | 'l';\n  content: React.ReactNode;\n  dispatch: React.Dispatch<ActionsType>;\n  scrollableParents: Array<Element>;\n  anchorElementRef: any;\n  anchorId: string;\n  trapFocus: boolean;\n};\n\ntype RefType = HTMLDivElement | null;\n\nexport const HintContainer = React.forwardRef<RefType, PropsType & React.HTMLAttributes<HTMLDivElement>>(\n  (\n    {\n      dimension,\n      isMobile,\n      content,\n      visibilityTrigger,\n      scrollableParents,\n      anchorElementRef,\n      anchorId,\n      dispatch,\n      trapFocus,\n      ...props\n    },\n    ref,\n  ) => {\n    const hideHint = () => dispatch({ type: 'setInvisible' });\n    const hideOnScrollResize = visibilityTrigger === 'hover';\n\n    const hintRef: any = React.useRef(null);\n    const previousFocusedElement: any = React.useRef(null);\n    const [firstFocusableChild, setFirstFocusableChild] = React.useState<any>();\n    const [lastFocusableChild, setLastFocusableChild] = React.useState<any>();\n\n    if (visibilityTrigger === 'click') {\n      useClickOutside([hintRef, anchorElementRef], hideHint);\n    }\n\n    React.useEffect(() => {\n      previousFocusedElement.current = document.activeElement;\n    }, []);\n\n    React.useLayoutEffect(() => {\n      if (hintRef.current && visibilityTrigger === 'click' && trapFocus) {\n        const focusableEls = getKeyboardFocusableElements(hintRef.current);\n        setFirstFocusableChild(focusableEls[0]);\n        setLastFocusableChild(focusableEls[focusableEls.length - 1]);\n        (focusableEls[0] as any)?.focus();\n      }\n    }, [hintRef.current, visibilityTrigger, content, trapFocus]);\n\n    React.useImperativeHandle(ref, () => hintRef.current);\n\n    React.useLayoutEffect(() => {\n      const [listener, freeResources] = hideOnScrollResize\n        ? [hideHint, () => undefined]\n        : throttle(() => {\n            dispatch({ type: 'triggerRecalculation' });\n          }, 150);\n      window.addEventListener('resize', listener);\n      window.addEventListener('scroll', listener);\n\n      /**  если у anchorElement есть родительский элемент, который имеет собственный скролл,\n       * необходимо повесить на этого родителя обработчик скролла */\n      scrollableParents.forEach((el) => el.addEventListener('scroll', listener));\n\n      return () => {\n        window.removeEventListener('resize', listener);\n        window.removeEventListener('scroll', listener);\n        scrollableParents.forEach((el) => el.removeEventListener('scroll', listener));\n        freeResources();\n      };\n    });\n\n    const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n      event.stopPropagation();\n      const code = keyboardKey.getCode(event);\n      if (code === keyboardKey.Escape) {\n        event.preventDefault();\n        previousFocusedElement.current.focus();\n        hideHint();\n      } else if (code === keyboardKey.Tab && visibilityTrigger === 'click') {\n        // focus trap\n        if (code === keyboardKey.Shift) {\n          /* shift + tab */\n          if (document.activeElement === firstFocusableChild) {\n            lastFocusableChild.focus();\n            event.preventDefault();\n          }\n        } /* tab */ else {\n          if (document.activeElement === lastFocusableChild) {\n            firstFocusableChild.focus();\n            event.preventDefault();\n          }\n        }\n      }\n    };\n\n    return (\n      <HintWrapper {...props} role=\"tooltip\" ref={hintRef} onKeyDown={handleKeyDown}>\n        <HintDialog\n          role=\"dialog\"\n          aria-labelledby={anchorId}\n          dimension={dimension}\n          isMobile={isMobile}\n          data-trigger={visibilityTrigger}\n        >\n          <HintContent>{content}</HintContent>\n          {visibilityTrigger === 'click' && (\n            <CloseButton\n              aria-label=\"Закрыть подсказку\"\n              onClick={(event?: React.MouseEvent<HTMLButtonElement>) => {\n                event?.stopPropagation();\n                previousFocusedElement.current.focus();\n                hideHint();\n              }}\n            >\n              <CloseOutline width={20} height={20} aria-hidden />\n            </CloseButton>\n          )}\n        </HintDialog>\n      </HintWrapper>\n    );\n  },\n);\n","export type State = {\n  recalculation: any;\n  visible: boolean;\n};\n\nexport type ActionsType = { type: 'setVisible' } | { type: 'setInvisible' } | { type: 'triggerRecalculation' };\n\nexport const initialState: State = {\n  recalculation: null,\n  visible: false,\n};\n\nexport const reducer = (state: State, action: ActionsType) => {\n  switch (action.type) {\n    case 'setVisible':\n      return { ...state, visible: true };\n    case 'setInvisible':\n      return { ...state, visible: false };\n    case 'triggerRecalculation':\n      return { ...state, recalculation: {} };\n    default:\n      throw new Error();\n  }\n};\n","import * as React from 'react';\nimport { DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components';\nimport type { RefCallback, RefObject } from '#ui-kit3/components/common/utils/handleRef';\nimport { handleRef } from '#ui-kit3/components/common/utils/handleRef';\nimport { getScrollableParents } from '#ui-kit3/components/common/utils/getScrollableParents';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\n\nimport type { Dimension } from './style';\nimport { AnchorWrapper, Portal, FakeTarget } from './style';\nimport { getHintDirection } from './utils';\nimport { HintContainer } from './HintContainer';\nimport { initialState, reducer } from './reducer';\n\ntype Trigger = 'click' | 'hover';\n\nexport interface HintProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Функция, которая возвращает реакт-компонент с контентом тултипа. Если этому компоненту нужны props, используйте замыкание */\n  renderContent: () => React.ReactNode;\n  /** Контейнер, в котором будет отрисован тултип через React.createPortal. По умолчанию тултип отрисовывается в document.body */\n  container?: Element | null;\n  /** Элемент, относительно которого будет позиционироваться хинт, если позиционирование относительно children не подходит */\n  target?: React.MutableRefObject<Element | null | undefined>;\n  /** Триггер появления компонента (событие, которое вызывает появление хинта) */\n  visibilityTrigger?: Trigger;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Ссылка на тултип */\n  hintRef?: RefCallback<HTMLDivElement> | RefObject<HTMLDivElement> | null;\n  /** ClassName для внешнего контейнера (AnchorWrapper) */\n  anchorClassName?: string;\n  /** Id для внешнего контейнера (AnchorWrapper) */\n  anchorId?: string;\n  /** Позволяет добавлять миксин созданный с помощью styled css для внешнего контейнера (AnchorWrapper) */\n  anchorCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}\n\nexport const Hint: React.FC<HintProps> = ({\n  renderContent,\n  container: userContainer,\n  target,\n  visibilityTrigger = 'hover',\n  dimension = 'l',\n  hintRef,\n  children,\n  anchorClassName,\n  anchorId: anchorIdProp,\n  anchorCssMixin,\n  ...props\n}) => {\n  const anchorElementRef = React.useRef<HTMLDivElement | null>(null);\n  const hintElementRef = React.useRef<HTMLDivElement | null>(null);\n  const container: Element = userContainer || document.body;\n  const content = renderContent();\n  const anchorId = anchorIdProp || uid();\n\n  const targetRef: any = target || anchorElementRef;\n  const targetElement: any = target?.current || anchorElementRef.current;\n\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  const [portalFlexDirection, setPortalFlexDirection] = React.useState<\n    'row' | 'row-reverse' | 'column' | 'column-reverse' | undefined\n  >();\n  const [portalFullWidth, setPortalFullWidth] = React.useState(false);\n  const [isMobile, setMobile] = React.useState(window.innerWidth < 640);\n  const [trapFocus, setTrapFocus] = React.useState(false);\n\n  const hideHint = () => dispatch({ type: 'setInvisible' });\n\n  // если ширина экрана меньше 640 пикселей, хинт переходит в состояние mobile (адаптируется по ширине к экрану)\n  React.useLayoutEffect(() => {\n    const listener = () => {\n      if (window.innerWidth < 640) {\n        setMobile(true);\n      } else {\n        setMobile(false);\n      }\n    };\n    window.addEventListener('resize', listener);\n\n    return () => {\n      window.removeEventListener('resize', listener);\n    };\n  });\n\n  React.useLayoutEffect(() => {\n    const hint = hintElementRef.current;\n\n    if (state.visible && targetElement && hint) {\n      const anchorElementRect = targetElement.getBoundingClientRect();\n      const hintElementRect = hint.getBoundingClientRect();\n      if (isMobile) {\n        if (window.innerHeight - anchorElementRect.bottom > hintElementRect.height) {\n          setPortalFlexDirection('column');\n        } else {\n          setPortalFlexDirection('column-reverse');\n        }\n        setPortalFullWidth(true);\n        hint.style.alignSelf = 'center';\n        hint.style.margin = '0';\n      } else {\n        const direction = getHintDirection(targetElement, hint);\n        switch (direction) {\n          case 'top-pageCenter':\n            setPortalFlexDirection('column-reverse');\n            setPortalFullWidth(true);\n            hint.style.alignSelf = 'center';\n            hint.style.margin = '0';\n            break;\n          case 'bottom-pageCenter':\n            setPortalFlexDirection('column');\n            setPortalFullWidth(true);\n            hint.style.alignSelf = 'center';\n            hint.style.margin = '0';\n            break;\n          case 'top-right':\n            setPortalFlexDirection('column-reverse');\n            setPortalFullWidth(false);\n            hint.style.alignSelf = 'flex-start';\n            hint.style.margin = '0 0 0 -8px';\n            break;\n          case 'bottom-right':\n            setPortalFlexDirection('column');\n            setPortalFullWidth(false);\n            hint.style.alignSelf = 'flex-start';\n            hint.style.margin = '0 0 0 -8px';\n            break;\n          case 'top-left':\n            setPortalFlexDirection('column-reverse');\n            setPortalFullWidth(false);\n            hint.style.alignSelf = 'flex-end';\n            hint.style.margin = '0 -8px 0 0';\n            break;\n          case 'bottom-left':\n          default:\n            setPortalFlexDirection('column');\n            setPortalFullWidth(false);\n            hint.style.alignSelf = 'flex-end';\n            hint.style.margin = '0 -8px 0 0';\n        }\n      }\n    }\n  }, [\n    target?.current,\n    anchorElementRef.current,\n    hintElementRef.current,\n    state.visible,\n    state.recalculation,\n    dimension,\n    content,\n    isMobile,\n  ]);\n\n  const attachRef = (node: HTMLDivElement) => handleRef(node, hintRef, hintElementRef);\n  const scrollableParents = React.useMemo(\n    () => getScrollableParents(anchorElementRef.current) ?? [],\n    [anchorElementRef.current],\n  );\n  const handleMouseEnter = () => {\n    dispatch({ type: 'setVisible' });\n  };\n\n  const handleKeyDown = (event: any) => {\n    const code = keyboardKey.getCode(event);\n    if (code === keyboardKey.Enter || code === keyboardKey[' ']) {\n      event.preventDefault();\n      dispatch({ type: 'setVisible' });\n    }\n  };\n\n  // First container render always happens downward and transparent,\n  // after size and position settled transparency returns to normal\n  React.useEffect(() => {\n    if (hintElementRef.current) {\n      hintElementRef.current.style.opacity = '1';\n      setTrapFocus(true);\n    }\n  }, [hintElementRef.current, state.visible]);\n\n  return (\n    <AnchorWrapper\n      onMouseEnter={visibilityTrigger === 'click' ? undefined : handleMouseEnter}\n      onMouseLeave={visibilityTrigger === 'click' ? undefined : hideHint}\n      onFocus={visibilityTrigger === 'click' ? undefined : handleMouseEnter}\n      onBlur={visibilityTrigger === 'click' ? undefined : hideHint}\n      onClick={visibilityTrigger === 'click' ? handleMouseEnter : undefined}\n      onKeyDown={visibilityTrigger === 'click' ? handleKeyDown : undefined}\n      ref={anchorElementRef}\n      className={anchorClassName}\n      id={anchorId}\n      anchorCssMixin={anchorCssMixin}\n    >\n      {children}\n      {state.visible && (\n        <Portal\n          targetRef={targetRef}\n          container={container}\n          flexDirection={portalFlexDirection}\n          fullContainerWidth={portalFullWidth}\n        >\n          <FakeTarget />\n          <HintContainer\n            ref={attachRef}\n            dimension={dimension}\n            isMobile={isMobile}\n            content={content}\n            visibilityTrigger={visibilityTrigger}\n            scrollableParents={scrollableParents}\n            dispatch={dispatch}\n            anchorElementRef={anchorElementRef}\n            anchorId={anchorId}\n            trapFocus={trapFocus}\n            {...props}\n          />\n        </Portal>\n      )}\n    </AnchorWrapper>\n  );\n};\n\nHint.displayName = 'Hint';\n","export const COUNTER_WIDTH = 35;\nexport const CHIP_OFFSET = 4;\n","import type { HighlightFormat } from './types';\nimport type { BaseSyntheticEvent } from 'react';\n\nexport const scrollToNotVisibleELem = (elem: HTMLElement, scrollElem: HTMLElement) => {\n  const offsetFromScrollWrap = elem.offsetTop - scrollElem.offsetTop;\n  const overTop = offsetFromScrollWrap < scrollElem.scrollTop;\n  const overBottom = offsetFromScrollWrap + elem.clientHeight > scrollElem.scrollTop + scrollElem.clientHeight;\n\n  if (overTop) {\n    scrollElem.scrollTop = offsetFromScrollWrap;\n  }\n  if (overBottom) {\n    scrollElem.scrollTop = offsetFromScrollWrap + elem.clientHeight - scrollElem.clientHeight;\n  }\n};\n\nexport const getTextHighlightMeta = (text = '', highlight = '', highlightFormat: HighlightFormat = 'word') => {\n  const splitedHighlight = highlightFormat === 'word' ? highlight.split(' ') : [highlight];\n  const chunks = splitedHighlight.filter(Boolean).map((chunk) => chunk.toLowerCase());\n\n  const specialCaracters = ['[', ']', '\\\\', '^', '$', '.', '|', '?', '*', '+', '(', ')'];\n\n  const pattern = chunks\n    .map((chunk) => {\n      const chunkForRegExp = chunk\n        .split('')\n        .map((letter) => (specialCaracters.includes(letter) ? `\\\\${letter}` : letter))\n        .join('');\n      return `(${chunkForRegExp})?`;\n    })\n    .join('');\n\n  const parts = text.split(new RegExp(pattern, 'gi')).filter(Boolean);\n\n  const shouldHiglight = !highlight ? true : parts.some((part) => chunks.includes(part.toLowerCase()));\n\n  return { shouldHiglight, parts, chunks };\n};\n\nexport const preventDefault = (e: BaseSyntheticEvent) => e.preventDefault();\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Chips } from '../../Chips';\nimport { Hint } from '#ui-kit3/components/Hint';\nimport type { IConstantOption, IChipProps } from './types';\nimport { COUNTER_WIDTH } from './constants';\nimport { preventDefault } from './utils';\n\nexport const ChipBox = styled.div`\n  display: flex;\n`;\n\nconst CounterChipWrap = styled.div`\n  display: flex;\n  width: ${COUNTER_WIDTH}px;\n  > * {\n    width: ${COUNTER_WIDTH}px;\n    border-radius: 16px;\n    // Убирает действие inline-block\n    display: flex;\n  }\n`;\n\nconst ShadowCounterChip = styled.div`\n  width: ${COUNTER_WIDTH}px;\n  height: 24px;\n`;\n\nconst ChipsHintWrap = styled.div`\n  display: flex;\n  gap: 4px;\n  flex-direction: column;\n  align-items: flex-start;\n`;\n\n// К сожалению, пришлось переопределить стили disabled чипса, так как при pointer-events: none\n// чипс с числом оставшихся опций \"заезжает\" на disabled чип\nconst disabledChipStyle = css`\n  pointer-events: auto;\n  :hover {\n    color: ${({ theme }) => theme.color.text.tertiary};\n    background-color: ${({ theme }) => theme.color.background.tertiary};\n    border: 1px solid ${({ theme }) => theme.color.background.tertiary};\n  }\n  svg {\n    pointer-events: none;\n  }\n`;\n\nconst StyledChip = styled(Chips)`\n  margin-right: 4px;\n  // Убирает пробел от inline-flex\n  display: flex;\n  ${({ disabled }) => (disabled ? disabledChipStyle : '')};\n\n  @media (max-width: 768px) {\n    max-width: 140px;\n  }\n`;\n\nconst StyledCounterChip = styled(Chips)`\n  flex-shrink: 0;\n  flex-grow: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 35px;\n  padding: 4px 0;\n`;\n\nconst ContentTooltop = styled.div`\n  max-width: 488px;\n\n  @media (max-width: 768px) {\n    max-width: 250px;\n  }\n`;\n\ninterface IMultipleChipsProps {\n  options: IConstantOption[];\n  shouldShowCount: boolean;\n  disabled?: boolean;\n  onChipRemove: (value: string) => void;\n  onChipClick?: (evt: React.MouseEvent) => void;\n}\n\ninterface ICounterChipsProps {\n  count: number;\n  disabled?: boolean;\n  onClick?: (evt: React.MouseEvent) => void;\n}\n\nconst CounterChip = ({ children, count, disabled, onClick }: React.PropsWithChildren<ICounterChipsProps>) => {\n  const ref = React.useRef<HTMLDivElement>(null);\n\n  const renderContent = React.useCallback(() => <ChipsHintWrap>{children}</ChipsHintWrap>, [children]);\n\n  if (!count) return <ShadowCounterChip />;\n\n  return (\n    <CounterChipWrap onClick={onClick} ref={ref}>\n      <Hint renderContent={renderContent} target={ref} dimension=\"s\">\n        <StyledCounterChip tabIndex={-1} dimension=\"s\" appearance=\"filled\" disabled={disabled}>\n          +{count}\n        </StyledCounterChip>\n      </Hint>\n    </CounterChipWrap>\n  );\n};\n\ninterface IChipWrapperProps {\n  option: IConstantOption;\n  className?: string;\n  disabled?: boolean;\n  onChipRemove: (value: string) => void;\n  onClick?: (evt: React.MouseEvent) => void;\n}\n\nconst Chip = ({ className, option, disabled, onClick, onChipRemove }: IChipWrapperProps) => {\n  const renderContentTooltip = React.useCallback(\n    (children: React.ReactNode) => () => <ContentTooltop>{children}</ContentTooltop>,\n    [],\n  );\n\n  return (\n    <StyledChip\n      className={className}\n      tabIndex={-1}\n      dimension=\"s\"\n      appearance=\"filled\"\n      onClick={onClick}\n      onClose={getChipMeta(option, onChipRemove).onClose}\n      disabled={getChipMeta(option, onChipRemove).disabled || disabled}\n      renderContentTooltip={renderContentTooltip(getChipMeta(option, onChipRemove).children)}\n    >\n      {getChipMeta(option, onChipRemove).children}\n    </StyledChip>\n  );\n};\n\nconst chipIsChipMeta = (chip: IChipProps | React.ReactNode): chip is IChipProps =>\n  typeof chip === 'object' && chip !== null && !React.isValidElement(chip);\n\nconst getChipMeta = ({ value, disabled, renderChip }: IConstantOption, onChipRemove: (value: string) => void) => {\n  const chip = renderChip();\n  return chipIsChipMeta(chip)\n    ? { ...chip, onClose: () => chip.onClose?.({ value, disabled }) }\n    : { disabled, onClose: () => onChipRemove(value), children: chip };\n};\n\nexport const MultipleSelectChips = ({\n  options,\n  shouldShowCount,\n  disabled,\n  onChipClick,\n  onChipRemove,\n}: IMultipleChipsProps) => (\n  <>\n    {options.map((option, optionInd) => (\n      <ChipBox key={option.value} onMouseDown={preventDefault}>\n        <Chip className=\"chip\" option={option} disabled={disabled} onClick={onChipClick} onChipRemove={onChipRemove} />\n        {shouldShowCount && (\n          <CounterChip onClick={onChipClick} count={options.length - optionInd - 1} disabled={disabled}>\n            {options.slice(optionInd + 1).map((innerOption) => (\n              <Chip\n                key={innerOption.value}\n                option={innerOption}\n                disabled={disabled}\n                onClick={onChipClick}\n                onChipRemove={onChipRemove}\n              />\n            ))}\n          </CounterChip>\n        )}\n        {!shouldShowCount && <ShadowCounterChip />}\n      </ChipBox>\n    ))}\n  </>\n);\n","import styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { Dropdown as DropComponent } from '#ui-kit3/components/Dropdown';\nimport type { DropdownProps } from '#ui-kit3/components/Dropdown';\nimport type { ComponentDimension } from '#ui-kit3/components/input/types';\nimport { ReactComponent as CloseOutlineSvg } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport { CHIP_OFFSET, COUNTER_WIDTH } from './constants';\n\nconst getSelectValueHeight = (dimension?: ComponentDimension, multiple?: boolean) =>\n  dimension === 's' && !multiple ? 20 : 24;\n\nexport const ClearIcon = styled(CloseOutlineSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nexport const Dropdown = styled(DropComponent)<DropdownProps>`\n  padding: 8px 0;\n\n  max-height: 256px;\n  overflow: auto;\n\n  option {\n    display: none;\n  }\n`;\n\nexport const NativeSelect = styled.select`\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  border: none;\n  pointer-events: none;\n`;\n\nconst fixHeightStyle = css<{ multiple?: boolean; dimension?: ComponentDimension }>`\n  height: ${({ multiple, dimension }) => getSelectValueHeight(dimension, multiple)}px;\n`;\n\nconst chipsShiftStyle = css`\n  > * {\n    margin-left: ${`-${COUNTER_WIDTH + CHIP_OFFSET}px`};\n  }\n  padding-left: ${`${COUNTER_WIDTH + CHIP_OFFSET}px`};\n`;\n\nexport const ValueWrapper = styled.div<{\n  dimension?: ComponentDimension;\n  multiple?: boolean;\n  fixHeight?: boolean;\n  isEmpty?: boolean;\n}>`\n  flex: 1 1 auto;\n  display: flex;\n  overflow: hidden;\n\n  ${({ multiple, isEmpty }) => multiple && !isEmpty && chipsShiftStyle}\n\n  gap: 4px;\n  flex-wrap: ${({ multiple }) => (multiple ? 'wrap' : 'unset')};\n  align-items: center;\n\n  ${(props) => (props.dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  ${({ fixHeight }) => fixHeight && fixHeightStyle}\n\n  [data-disabled='true'] & {\n    color: ${(props) => props.theme.color.text.tertiary};\n  }\n`;\n\nexport const StringValueWrapper = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst ieFixes = css`\n  ::-ms-clear,\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport const Input = styled.input<{ dimension?: ComponentDimension; isMultiple?: boolean }>`\n  outline: none;\n  appearance: none;\n\n  box-sizing: border-box;\n  flex: 1 1 auto;\n  width: 100px;\n  border: none;\n  background: transparent;\n  text-overflow: ellipsis;\n  padding: 0;\n\n  color: ${(props) => props.theme.color.text.primary};\n\n  ${({ dimension }) => (dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n\n  &::placeholder {\n    color: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:disabled,\n  &:disabled::placeholder {\n    cursor: inherit;\n    color: ${(props) => props.theme.color.text.tertiary};\n  }\n\n  [data-read-only] & {\n    user-select: none;\n    pointer-events: none;\n  }\n\n  height: ${({ dimension, isMultiple }) => `${getSelectValueHeight(dimension, isMultiple)}px`};\n\n  ${ieFixes};\n\n  [data-status='error'] &,\n  &:invalid {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n\n  [data-status='success'] & {\n    border-color: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nconst disabledStyle = css`\n  pointer-events: none;\n  cursor: default;\n`;\n\nexport const SelectWrapper = styled.div<{\n  disabled?: boolean;\n  readonly?: boolean;\n  focused: boolean;\n  multiple: boolean;\n  dimension?: ComponentDimension;\n}>`\n  box-sizing: border-box;\n\n  display: flex;\n  align-items: flex-start;\n\n  cursor: pointer;\n\n  ${({ disabled, readonly }) => (readonly || disabled ? disabledStyle : '')};\n\n  background: ${({ theme, disabled }) => (disabled ? theme.color.background.tertiary : theme.color.background.primary)};\n  position: relative;\n\n  padding: ${({ dimension, multiple }) => {\n    switch (dimension) {\n      case 'xl':\n        return '15px 16px';\n      case 's':\n        return multiple ? '3px 12px' : '5px 12px';\n      default:\n        return '7px 16px';\n    }\n  }};\n\n  border-radius: 4px;\n  border-color: ${({ theme, disabled, focused }) => {\n    if (focused) return theme.color.basic.press;\n    if (disabled) return 'transparent';\n    return theme.color.basic.tertiary;\n  }};\n\n  border-width: 1px;\n  border-style: solid;\n\n  &:hover {\n    border-color: ${({ theme, disabled }) => (disabled ? 'transparent' : theme.color.basic.hover)};\n  }\n\n  &[data-status='error'] {\n    border-color: ${(p) => p.theme.color.status.danger};\n  }\n\n  &[data-status='success'] {\n    border-color: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nexport const IconPanel = styled.div<{ multiple?: boolean; dimension?: ComponentDimension }>`\n  flex: 0 0 auto;\n\n  display: flex;\n  align-items: center;\n\n  padding: ${({ dimension, multiple }) => (dimension === 's' && multiple ? '2px 0' : '0')};\n\n  & > * {\n    margin-left: 8px;\n    display: block;\n    width: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n    height: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  }\n\n  [data-disabled='true'] & {\n    & *[fill^='#'] {\n      fill: ${(props) => props.theme.color.text.tertiary};\n    }\n  }\n`;\n\nexport const Hidden = styled.div`\n  position: absolute;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  overflow: hidden;\n  pointer-events: none;\n`;\n\nexport const OptionWrapper = styled.div<{ dimension?: ComponentDimension }>`\n  flex: 0 0 auto;\n\n  word-break: break-word;\n  display: flex;\n  align-items: center;\n  padding: ${({ dimension }) => {\n    switch (dimension) {\n      case 'xl':\n        return '12px 16px';\n      case 's':\n        return '6px 12px';\n      default:\n        return '8px 16px';\n    }\n  }};\n\n  background-color: transparent;\n\n  ${({ dimension }) => {\n    switch (dimension) {\n      case 'xl':\n        return typography['Body/Body 1 Long'];\n      case 's':\n        return typography['Body/Body 2 Long'];\n      default:\n        return typography['Body/Body 1 Short'];\n    }\n  }}\n`;\n\nexport const DropDownText = styled(OptionWrapper)`\n  color: ${({ theme }) => theme.color.text.tertiary};\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { HTMLAttributes } from 'react';\nimport { useOptionContext, useDropDownSearchSelectContext } from './useSearchSelectContext';\nimport { getTextHighlightMeta } from './utils';\n\nconst HighlightText = styled.span`\n  color: ${(p) => p.theme.color.basic.primary};\n`;\n\nconst Panel = styled.div`\n  color: inherit;\n`;\n\ninterface TextHighlightPanelProps extends HTMLAttributes<HTMLDivElement> {\n  children?: string;\n}\n\nexport const Highlight = ({ children = '', ...props }: TextHighlightPanelProps) => {\n  const selectContext = useDropDownSearchSelectContext();\n  const optionContext = useOptionContext();\n\n  const searchValue = selectContext?.searchValue || '';\n\n  const { chunks, parts } = React.useMemo(\n    () => getTextHighlightMeta(children, searchValue, selectContext?.highlightFormat),\n    [children, searchValue],\n  );\n\n  React.useEffect(() => {\n    optionContext?.onAddTextToHighlight(children);\n  }, [optionContext?.onAddTextToHighlight, children]);\n\n  return (\n    <Panel {...props} title={children}>\n      {parts.map((part, i) =>\n        chunks.includes(part.toLowerCase()) ? <HighlightText key={i}>{part}</HighlightText> : part,\n      )}\n    </Panel>\n  );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport type { ComponentDimension } from '#ui-kit3/components/input/types';\nimport {\n  OptionProvider,\n  useConstantSearchSelectContext,\n  useDropDownSearchSelectContext,\n  useOptionGroupContext,\n} from './useSearchSelectContext';\nimport { Checkbox } from '../../Checkbox';\nimport { Highlight } from './Highlight';\nimport { OptionWrapper } from './styled';\nimport { getTextHighlightMeta } from './utils';\nimport type { TRenderChip } from './types';\n\ninterface IOptionProps {\n  disabled?: boolean;\n  selected?: boolean;\n  active?: boolean;\n  dimension?: ComponentDimension;\n}\n\nconst CustomOption = styled(OptionWrapper)<IOptionProps>`\n  background-color: ${({ active, selected, theme }) => {\n    if (selected) return theme.color.background.tertiary;\n    if (active) return theme.color.background.secondary;\n    return 'transparent';\n  }};\n\n  color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.text.primary)};\n  cursor: ${({ disabled }) => (disabled ? 'text' : 'pointer')};\n  pointer-events: ${({ disabled }) => (disabled ? 'none' : 'all')};\n`;\n\nconst StyledCheckbox = styled(Checkbox)`\n  margin-right: 8px;\n  flex-shrink: 0;\n`;\n\ninterface IRenderOptionProps {\n  disabled?: boolean;\n  searchValue?: string;\n  isHovered?: boolean;\n}\n\ninterface IProps extends React.InputHTMLAttributes<HTMLDivElement> {\n  disabled?: boolean;\n  value: string;\n  children?: React.ReactNode;\n  renderOption?: (props: IRenderOptionProps) => React.ReactNode;\n  renderChip?: TRenderChip;\n}\n\nconst DropDownOption = ({\n  disabled = false,\n  value,\n  children,\n  renderOption,\n  renderChip: _renderChip,\n  ...htmlProps\n}: IProps) => {\n  const selectContext = useDropDownSearchSelectContext();\n  const optionGroupContext = useOptionGroupContext();\n\n  const optionIsDiabled = optionGroupContext?.disabled || disabled;\n\n  const childrenOrHiglightedChildren = React.useMemo(\n    () =>\n      typeof children === 'string' && selectContext?.defaultHighlighted ? <Highlight>{children}</Highlight> : children,\n    [selectContext?.defaultHighlighted, children],\n  );\n\n  const defaultMultipleOption = React.useMemo(\n    () => (\n      <>\n        {selectContext?.showCheckbox && (\n          <StyledCheckbox\n            checked={selectContext?.selectValue?.includes(value)}\n            dimension={selectContext?.dimension === 's' ? 's' : 'm'}\n            disabled={disabled}\n            readOnly\n          />\n        )}\n        {childrenOrHiglightedChildren}\n      </>\n    ),\n    [\n      selectContext?.selectValue,\n      selectContext?.dimension,\n      selectContext?.showCheckbox,\n      childrenOrHiglightedChildren,\n      value,\n    ],\n  );\n\n  const ref = React.useRef<HTMLDivElement>(null);\n\n  const renderDefaultOption = React.useCallback(\n    () => (selectContext?.multiple ? defaultMultipleOption : childrenOrHiglightedChildren),\n    [selectContext?.multiple, defaultMultipleOption, childrenOrHiglightedChildren],\n  );\n\n  const onClick = React.useCallback(() => selectContext?.onOptionClick?.(value), [selectContext?.onOptionClick, value]);\n  const onHover = React.useCallback(() => selectContext?.onMouseEnter?.(value), [selectContext?.onMouseEnter, value]);\n\n  const option = React.useMemo(\n    () => ({\n      value,\n      disabled: optionIsDiabled,\n      ref,\n    }),\n    [value, optionIsDiabled],\n  );\n\n  const resultChildren = React.useMemo(\n    () =>\n      renderOption\n        ? renderOption({\n            disabled,\n            searchValue: selectContext?.searchValue,\n            isHovered: selectContext?.hoverValue === value,\n          })\n        : renderDefaultOption(),\n    [renderOption, renderDefaultOption, disabled, value, selectContext?.searchValue, selectContext?.hoverValue],\n  );\n\n  React.useEffect(() => {\n    selectContext?.onDropDownOptionMount?.(option);\n    return () => selectContext?.onDropDownOptionUnMount?.(option);\n  }, [selectContext?.onDropDownOptionMount, selectContext?.onDropDownOptionUnMount, option]);\n\n  return (\n    <CustomOption\n      ref={ref}\n      disabled={optionIsDiabled}\n      selected={selectContext?.selectValue === value}\n      active={selectContext?.hoverValue === value}\n      dimension={selectContext?.dimension}\n      onMouseDown={onClick}\n      onMouseEnter={onHover}\n      {...htmlProps}\n    >\n      {resultChildren}\n    </CustomOption>\n  );\n};\n\nconst ConstantOption = ({ disabled = false, value, children, renderOption, renderChip }: IProps) => {\n  const selectContext = useConstantSearchSelectContext();\n  const optionGroupContext = useOptionGroupContext();\n\n  const optionIsDiabled = optionGroupContext?.disabled || disabled;\n\n  const defaultRenderChip = React.useCallback(() => children, [children]);\n\n  const resultRenderChip = renderChip || defaultRenderChip;\n\n  const resultChildren = React.useMemo(\n    () =>\n      renderOption\n        ? renderOption({\n            disabled,\n            searchValue: selectContext?.searchValue,\n          })\n        : children,\n    [renderOption, disabled, value, children, selectContext?.searchValue],\n  );\n\n  const option = React.useMemo(\n    () => ({\n      value,\n      disabled: optionIsDiabled,\n      children: resultChildren,\n      renderChip: resultRenderChip,\n    }),\n    [value, optionIsDiabled, resultChildren, resultRenderChip],\n  );\n\n  React.useEffect(() => {\n    selectContext?.onConstantOptionMount?.(option);\n    return () => selectContext?.onConstantOptionUnMount?.(option);\n  }, [selectContext?.onConstantOptionMount, selectContext?.onConstantOptionUnMount, option]);\n\n  return null;\n};\n\nconst ConstantOptionWrapper = (props: IProps) => {\n  const constantSelectContext = useConstantSearchSelectContext();\n\n  if (!constantSelectContext) return null;\n\n  return <ConstantOption {...props} />;\n};\n\nconst DropDownOptionWrapper = (props: IProps) => {\n  const [textsToHighlight, setTextsToHighlight] = React.useState<string[] | null>(null);\n  const dropDownSelectContext = useDropDownSearchSelectContext();\n\n  const highlighted = textsToHighlight?.some(\n    (text) =>\n      getTextHighlightMeta(text, dropDownSelectContext?.searchValue, dropDownSelectContext?.highlightFormat)\n        .shouldHiglight,\n  );\n\n  const onAddTextToHighlight = React.useCallback(\n    (text) => setTextsToHighlight((prev) => Array.from(new Set([...(prev || []), text]))),\n    [],\n  );\n\n  const shouldRender = textsToHighlight === null || highlighted;\n\n  return (\n    <OptionProvider onAddTextToHighlight={onAddTextToHighlight}>\n      {dropDownSelectContext && shouldRender && <DropDownOption {...props} />}\n    </OptionProvider>\n  );\n};\n\nexport const Option = (props: IProps) => (\n  <>\n    <ConstantOptionWrapper {...props} />\n    <DropDownOptionWrapper {...props} />\n  </>\n);\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { OptionGroupProvider, useDropDownSearchSelectContext } from './useSearchSelectContext';\nimport { OptionWrapper } from './styled';\n\ninterface IProps {\n  disabled?: boolean;\n  label: string;\n}\n\nconst Category = styled(OptionWrapper)`\n  font-weight: 500;\n`;\n\nexport const OptionGroup = ({ label, disabled = false, children }: React.PropsWithChildren<IProps>) => {\n  const selectContext = useDropDownSearchSelectContext();\n\n  return (\n    <OptionGroupProvider label={label} disabled={disabled}>\n      <Category dimension={selectContext?.dimension}>{label}</Category>\n      {children}\n    </OptionGroupProvider>\n  );\n};\n","import * as React from 'react';\nimport { OpenStatusButton } from '#ui-kit3/components/OpenStatusButton';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { TextInput } from '../TextInput';\nimport type { InputStatus, ComponentDimension } from '#ui-kit3/components/input/types';\nimport { DropDownSearchSelectProvider, ConstantSearchSelectProvider } from './useSearchSelectContext';\nimport type { IConstantOption, IDropdownOption, HighlightFormat } from './types';\nimport { MultipleSelectChips } from './MultipleSelectChips';\nimport {\n  Dropdown,\n  NativeSelect,\n  ValueWrapper,\n  Input,\n  SelectWrapper,\n  IconPanel,\n  Hidden,\n  ClearIcon,\n  DropDownText,\n  StringValueWrapper,\n} from './styled';\nimport { StatusIcon } from '../StatusIcon';\nimport { scrollToNotVisibleELem, preventDefault } from './utils';\nimport { changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { useClickOutside } from '#ui-kit3/components/common/hooks/useClickOutside';\n\n/**\n * Осталось сделать:\n * Активное состояние у крестика на чипсах по стрелкам\n * Проверить Перфоманс\n * Тултип и длинного текста в selectValue\n * Возможность, если используется renderValue, задать значение, которое будет появляться при вводе поиска и для опций\n * Разбить компонент на хуки для большей читаемости и императивности (useHeight, useInput, ...)\n * Разбить тесты по пропсам и функционалу. Например, тесты проверящие placeholder И т.д.\n */\n\nconst DEFAULT_LOADING_TEXT = 'Поиск совпадений';\n\ntype PartialOption = { value: string; disabled: boolean } & Record<string, any>;\nconst findAbledOptionValue = (options: PartialOption[]) => options.find(({ disabled }) => !disabled)?.value;\n\nconst stopPropagation = (evt: React.BaseSyntheticEvent) => evt.stopPropagation();\n\nexport interface SearchSelectProps extends Omit<React.InputHTMLAttributes<HTMLSelectElement>, 'onFocus' | 'onBlur'> {\n  value?: string | string[];\n\n  /** Отображать статус загрузки данных */\n  isLoading?: boolean;\n\n  /** Позволяет использовать SearchSelect как select */\n  mode?: 'select' | 'searchSelect';\n\n  /** Сообщение, отображаемое при наличии флага isLoading */\n  loadingMessage?: React.ReactNode;\n\n  /** Добавить селекту возможность множественного выбора */\n  multiple?: boolean;\n\n  /** По умолчанию, если в компоннет Option передан текст и только текст, то в зависимости от набранного в Input значения,\n   * опции будут подсвечиваться. Описываемый флаг отключает это поведение. */\n  defaultHighlighted?: boolean;\n\n  /** По умолчанию, если multiple = true, в опции присутствует checkbox. Данный флаг позволяет убрать его */\n  showCheckbox?: boolean;\n\n  /** Значение по умолчанию для некотролируемого селекта */\n  defaultValue?: string | string[];\n\n  displayStatusIcon?: boolean;\n\n  displayClearIcon?: boolean;\n\n  /** Позволяет определить действия при нажатии на иконку очистки. По умолчанию произойдет очистка выбранных значений */\n  onClearIconClick?: () => void;\n\n  idleHeight?: 'full' | 'fixed';\n\n  /** По умолчанию опции подсвечиваются отдельно по каждой разделенной пробелом части в поисковой строке. Данная опция\n   * позволяет искать по строке целиком */\n  highlightFormat?: HighlightFormat;\n\n  /** Референс на контейнер для правильного позиционирования выпадающего списка */\n  portalTargetRef?: React.RefObject<HTMLElement>;\n\n  /** Делает высоту компонента больше или меньше обычной */\n  dimension?: ComponentDimension;\n\n  /** Иконки для отображения в правом углу поля */\n  icons?: React.ReactNode;\n\n  /** Статус поля */\n  status?: InputStatus;\n\n  renderSelectValue?: (value: string | string[] | undefined, searchText: string) => React.ReactNode;\n\n  /**  Значение введенное пользователем для поиска */\n  inputValue?: string;\n\n  /** первоначальное значение в строке поиска без переведения строки в контролируемый компонент */\n  defaultInputValue?: string;\n\n  onInputChange?: React.ChangeEventHandler<HTMLInputElement>;\n\n  onFocus?: (evt: React.FocusEvent<HTMLDivElement>) => void;\n\n  onBlur?: (evt: React.FocusEvent<HTMLDivElement>) => void;\n}\n\nexport const SearchSelect = React.forwardRef<HTMLSelectElement, SearchSelectProps>(\n  (\n    {\n      value,\n      isLoading,\n      className,\n      style,\n      status,\n      icons,\n      portalTargetRef,\n      disabled,\n      placeholder,\n      defaultValue,\n      dimension = 'm',\n      idleHeight = 'fixed',\n      mode = 'searchSelect',\n      highlightFormat = 'word',\n      multiple = false,\n      defaultHighlighted = true,\n      showCheckbox = true,\n      displayStatusIcon = false,\n      displayClearIcon = false,\n      onClearIconClick,\n      loadingMessage = DEFAULT_LOADING_TEXT,\n      onInputChange,\n      inputValue,\n      defaultInputValue,\n      renderSelectValue,\n      onFocus: onFocusFromProps,\n      onBlur: onBlurFromProps,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const [localValue, setLocalValue] = React.useState(value ?? defaultValue);\n    const [internalSearchValue, setSearchValue] = React.useState('');\n    const searchValue = inputValue === undefined ? internalSearchValue : inputValue;\n    const [hoverValue, setHoverValue] = React.useState('');\n    const [shouldRenderSelectValue, setShouldRenderSelectValue] = React.useState(false);\n\n    const [constantOptions, setConstantOptions] = React.useState<IConstantOption[]>([]);\n    const [dropDownOptions, setDropDownOptions] = React.useState<IDropdownOption[]>([]);\n\n    const [isSearchPanelOpen, setIsSearchPanelOpen] = React.useState(false);\n    const [isFocused, setIsFocused] = React.useState(false);\n\n    const selectIsUncontrolled = value === undefined;\n    const modeIsSelect = mode === 'select';\n\n    const selectedOption = React.useMemo(\n      () => (multiple ? null : constantOptions.find((option) => option.value === localValue)),\n      [multiple, constantOptions, localValue],\n    );\n    const selectedOptions = React.useMemo(\n      () => (multiple ? constantOptions.filter((option) => localValue?.includes(option.value)) : []),\n      [constantOptions, localValue, multiple],\n    );\n\n    const hoverOptionIndex = React.useMemo(\n      () => dropDownOptions.findIndex((option) => option.value === hoverValue),\n      [dropDownOptions, hoverValue],\n    );\n\n    const dropDownChildren = React.useMemo(() => {\n      if (isLoading) return <DropDownText>{loadingMessage}</DropDownText>;\n      return (\n        <>\n          {!dropDownOptions.length && <DropDownText>Нет совпадений</DropDownText>}\n          {children}\n        </>\n      );\n    }, [isLoading, loadingMessage, children, dropDownOptions]);\n\n    const inputRef = React.useRef<HTMLInputElement | null>(null);\n    const selectRef = React.useRef<HTMLSelectElement | null>(null);\n    const containerRef = React.useRef<HTMLDivElement | null>(null);\n    const dropDownRef = React.useRef<HTMLDivElement | null>(null);\n    const mutableState = React.useRef<{ shouldExtendInputValue: boolean }>({\n      shouldExtendInputValue: false,\n    });\n\n    const onConstantOptionMount = React.useCallback(\n      (option: IConstantOption) => setConstantOptions((prev) => [...prev, option]),\n      [],\n    );\n\n    const onConstantOptionUnMount = React.useCallback(\n      (option: IConstantOption) =>\n        setConstantOptions((prev) => prev.filter((prevOption) => prevOption.value !== option.value)),\n      [],\n    );\n\n    const onDropDownOptionMount = React.useCallback(\n      (option: IDropdownOption) => setDropDownOptions((prev) => [...prev, option]),\n      [],\n    );\n\n    const onDropDownOptionUnMount = React.useCallback(\n      (option: IDropdownOption) =>\n        setDropDownOptions((prev) => prev.filter((prevOption) => prevOption.value !== option.value)),\n      [],\n    );\n\n    const onCloseSelect = React.useCallback(() => {\n      setIsSearchPanelOpen(false);\n      setHoverValue(Array.isArray(localValue) ? localValue[0] : localValue || '');\n      if (inputRef.current) changeInputData(inputRef.current, { value: '' });\n      setShouldRenderSelectValue(true);\n    }, [localValue]);\n\n    const handleOptionSelect = React.useCallback(\n      (optionValue: string) => {\n        const selectElem = selectRef.current;\n\n        if (!selectElem) return;\n\n        const optionElems = Array.from(selectElem.options);\n        const targetOptionElem = optionElems.find((option) => option.value === optionValue);\n\n        if (!targetOptionElem) return;\n\n        if (!multiple) optionElems.forEach((option) => (option.selected = false));\n\n        targetOptionElem.selected = multiple ? !targetOptionElem.selected : true;\n        selectElem.dispatchEvent(new Event('change', { bubbles: true }));\n\n        if (!multiple) onCloseSelect();\n      },\n      [onCloseSelect, multiple],\n    );\n\n    const resetOptions = React.useCallback(() => {\n      const selectElem = selectRef.current;\n\n      if (!selectElem) return;\n\n      selectElem.selectedIndex = -1;\n      selectElem.dispatchEvent(new Event('change', { bubbles: true }));\n    }, []);\n\n    const handleOnClear = onClearIconClick || resetOptions;\n\n    const shouldFixMultiSelectHeight = idleHeight === 'fixed' && !isSearchPanelOpen;\n\n    const renderMultipleSelectValue = React.useCallback(\n      () => (\n        <MultipleSelectChips\n          options={selectedOptions}\n          shouldShowCount={shouldFixMultiSelectHeight}\n          disabled={disabled}\n          onChipRemove={handleOptionSelect}\n          onChipClick={stopPropagation}\n        />\n      ),\n      [selectedOptions, shouldFixMultiSelectHeight, disabled, handleOptionSelect, stopPropagation],\n    );\n\n    const isEmptyValue = multiple ? !localValue?.length : !localValue;\n    const isEmpty = isEmptyValue && !!placeholder && !searchValue;\n\n    const renderedSelectValue = renderSelectValue?.(localValue, searchValue);\n\n    const renderedSelectedOption = selectedOption?.children;\n    const renderedDefaultSelectValue = multiple ? renderMultipleSelectValue() : renderedSelectedOption;\n    const visibleValue = renderedSelectValue || renderedDefaultSelectValue || localValue || null;\n\n    const visibleValueIsString = typeof visibleValue === 'string';\n\n    const shouldFixSingleSelectHeight = idleHeight === 'fixed' && visibleValueIsString;\n    const shouldFixHeight = multiple ? shouldFixMultiSelectHeight : shouldFixSingleSelectHeight;\n\n    const wrappedVisibleValue = visibleValueIsString ? (\n      <StringValueWrapper>{visibleValue}</StringValueWrapper>\n    ) : (\n      visibleValue\n    );\n\n    const handleSearchPanelToggle = () => {\n      setIsSearchPanelOpen((prev) => !prev);\n    };\n\n    const mutateAndExtendTargetInputValue = (evt: React.ChangeEvent<HTMLInputElement>) => {\n      if (!mutableState.current.shouldExtendInputValue || !visibleValueIsString) return;\n      evt.target.value = `${visibleValue}${evt.target.value}`;\n      mutableState.current.shouldExtendInputValue = false;\n    };\n\n    const onSingleLocalInputChange = () => setShouldRenderSelectValue(false);\n\n    const onLocalInputChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n      if (!multiple) onSingleLocalInputChange();\n      mutateAndExtendTargetInputValue(evt);\n      if (inputValue === undefined) setSearchValue(evt.target.value);\n      onInputChange?.(evt);\n    };\n\n    const onMultipleSelectBackSpace = () => {\n      const lastAbledSelectedOptionValue = findAbledOptionValue(selectedOptions.reverse());\n      if (!lastAbledSelectedOptionValue) return;\n      handleOptionSelect(lastAbledSelectedOptionValue);\n    };\n\n    const deleteOrHideSelectValueOnBackspace = () => {\n      if (searchValue || !localValue) return;\n      if (!multiple) return setShouldRenderSelectValue(false);\n      onMultipleSelectBackSpace();\n    };\n\n    const chooseOptionOnEnter = () => {\n      const targetOption = dropDownOptions[hoverOptionIndex];\n      if (!targetOption) return;\n      handleOptionSelect(targetOption.value);\n\n      if (multiple) return;\n      onCloseSelect();\n    };\n\n    const onClosedSelectEnter = () => setIsSearchPanelOpen(true);\n\n    const onOpenedSelectEnter = () => chooseOptionOnEnter();\n\n    const onEnter = () => {\n      if (isSearchPanelOpen) return onOpenedSelectEnter();\n      onClosedSelectEnter();\n    };\n\n    const scrollToOption = (optionValue: string) => {\n      const scrollElem = dropDownRef.current;\n      const optionElem = dropDownOptions.find((option) => option.value === optionValue)?.ref?.current;\n      if (!scrollElem || !optionElem) return;\n\n      scrollToNotVisibleELem(optionElem, scrollElem);\n    };\n\n    const findNextHoverOptionValue = React.useCallback(() => {\n      const nextAbledOptionValue = findAbledOptionValue(dropDownOptions.slice(hoverOptionIndex + 1));\n      if (nextAbledOptionValue) return nextAbledOptionValue;\n      return findAbledOptionValue(dropDownOptions);\n    }, [hoverOptionIndex, dropDownOptions]);\n\n    const findPrevHoverOptionValue = React.useCallback(() => {\n      const sliceInd = hoverOptionIndex === -1 ? undefined : hoverOptionIndex;\n      const prevAbledOptionValue = findAbledOptionValue(dropDownOptions.slice(0, sliceInd).reverse());\n      if (prevAbledOptionValue) return prevAbledOptionValue;\n      return findAbledOptionValue(dropDownOptions.slice().reverse());\n    }, [hoverOptionIndex, dropDownOptions]);\n\n    const handleKeyUp = (e: React.KeyboardEvent) => {\n      const code = keyboardKey.getCode(e);\n\n      switch (code) {\n        case keyboardKey.Enter: {\n          onEnter();\n          break;\n        }\n        case keyboardKey.Escape: {\n          onCloseSelect();\n          break;\n        }\n        case keyboardKey.ArrowUp: {\n          const prevValue = findPrevHoverOptionValue();\n          if (!prevValue) break;\n          scrollToOption(prevValue);\n          setHoverValue(prevValue);\n          break;\n        }\n        case keyboardKey.ArrowDown: {\n          const nextValue = findNextHoverOptionValue();\n          if (!nextValue) break;\n          scrollToOption(nextValue);\n          setHoverValue(nextValue);\n          break;\n        }\n      }\n    };\n\n    const onSelectKeyDown = (e: React.KeyboardEvent) => {\n      const code = keyboardKey.getCode(e);\n\n      if (!code) return;\n\n      const preventKeys = [keyboardKey.Enter, keyboardKey[' '], keyboardKey.ArrowDown, keyboardKey.ArrowUp];\n      if (preventKeys.includes(code)) {\n        // Prevent native select events\n        e.preventDefault();\n      }\n    };\n\n    const extendSelectValueToInputValue = () => {\n      if (!visibleValueIsString || searchValue || !shouldRenderSelectValue) return;\n\n      mutableState.current.shouldExtendInputValue = true;\n    };\n\n    const narrowSelectValueToInputValue = (evt: React.KeyboardEvent) => {\n      if (!visibleValueIsString || !inputRef.current || searchValue || !shouldRenderSelectValue || !localValue) return;\n\n      // Предотвратить удаление выделенного с помощью selection символа\n      evt.preventDefault();\n      const newInputValue = visibleValue.slice(0, -1);\n      changeInputData(inputRef.current, {\n        value: newInputValue,\n        selectionEnd: newInputValue.length,\n        selectionStart: newInputValue.length,\n      });\n    };\n\n    const onWrapperKeyDown = (evt: React.KeyboardEvent) => {\n      const code = keyboardKey.getCode(evt);\n\n      if (code === keyboardKey.ArrowUp || code === keyboardKey.ArrowDown) evt.preventDefault();\n      if (evt.key.length === 1) extendSelectValueToInputValue();\n      if (code === keyboardKey.Backspace && !evt.repeat) deleteOrHideSelectValueOnBackspace();\n      if (code === keyboardKey.Backspace) narrowSelectValueToInputValue(evt);\n      if (code === keyboardKey.Enter && isSearchPanelOpen) evt.preventDefault();\n    };\n\n    const onFocus = (evt: React.FocusEvent<HTMLDivElement>) => {\n      setIsFocused(true);\n      onFocusFromProps?.(evt);\n    };\n\n    const onBlur = (evt: React.FocusEvent<HTMLDivElement>) => {\n      // если фокус переходит не на инпут, содержащийся внутри компонента\n      if (!evt.currentTarget.contains(evt.relatedTarget)) {\n        setIsFocused(false);\n        onBlurFromProps?.(evt);\n        onCloseSelect();\n      }\n    };\n\n    const onChange = (evt: React.ChangeEvent<HTMLSelectElement>) => {\n      if (selectIsUncontrolled) {\n        setLocalValue(\n          multiple ? Array.from(evt.target.selectedOptions).map((option) => option.value) : evt.target.value,\n        );\n      }\n      props.onChange?.(evt);\n    };\n\n    React.useEffect(() => {\n      if (!Array.isArray(localValue)) setHoverValue(localValue || '');\n    }, [localValue]);\n\n    React.useEffect(() => {\n      if ((!isFocused && !multiple) || multiple) setShouldRenderSelectValue(true);\n    }, [multiple, isFocused]);\n\n    React.useEffect(() => {\n      if (isSearchPanelOpen) {\n        modeIsSelect ? selectRef.current?.focus() : inputRef.current?.focus();\n      }\n    }, [isSearchPanelOpen, modeIsSelect]);\n\n    React.useEffect(() => {\n      if (!selectIsUncontrolled) setLocalValue(value);\n    }, [value, selectIsUncontrolled]);\n\n    useClickOutside([containerRef, dropDownRef], onCloseSelect);\n\n    return (\n      <SelectWrapper\n        className={className}\n        style={style}\n        focused={isFocused}\n        multiple={multiple}\n        disabled={disabled}\n        data-disabled={disabled}\n        readonly={props.readOnly}\n        dimension={dimension}\n        ref={containerRef}\n        data-status={status}\n        onKeyUp={handleKeyUp}\n        onKeyDown={onWrapperKeyDown}\n        onClick={handleSearchPanelToggle}\n        onMouseDown={preventDefault}\n        onBlur={onBlur}\n        onFocus={onFocus}\n      >\n        <Hidden>\n          <ConstantSearchSelectProvider\n            onConstantOptionMount={onConstantOptionMount}\n            onConstantOptionUnMount={onConstantOptionUnMount}\n            searchValue={searchValue}\n          >\n            {children}\n          </ConstantSearchSelectProvider>\n        </Hidden>\n        <NativeSelect\n          ref={refSetter(ref, selectRef)}\n          value={localValue}\n          multiple={multiple}\n          disabled={disabled}\n          onKeyDown={onSelectKeyDown}\n          {...props}\n          onChange={onChange}\n        >\n          <option value=\"\" />\n          {constantOptions.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.value}\n            </option>\n          ))}\n        </NativeSelect>\n        <ValueWrapper\n          id=\"selectValueWrapper\"\n          dimension={dimension}\n          multiple={multiple}\n          fixHeight={shouldFixHeight}\n          isEmpty={isEmpty}\n          onMouseDown={preventDefault}\n        >\n          {shouldRenderSelectValue && wrappedVisibleValue}\n          <Input\n            placeholder={isEmpty ? placeholder : ''}\n            tabIndex={-1}\n            ref={inputRef}\n            disabled={modeIsSelect || disabled}\n            value={searchValue}\n            defaultValue={defaultInputValue}\n            isMultiple={multiple}\n            dimension={dimension}\n            onChange={onLocalInputChange}\n          />\n        </ValueWrapper>\n        {isSearchPanelOpen && (\n          <Dropdown\n            id=\"selectDropdownContainer\"\n            targetRef={portalTargetRef || containerRef}\n            data-dimension={dimension || TextInput.defaultProps?.dimension}\n            // Запретит перенос фокуса с инпута при клике по всему, что внутри Dropdown\n            onMouseDown={preventDefault}\n            onClick={stopPropagation}\n            ref={dropDownRef}\n          >\n            <DropDownSearchSelectProvider\n              onOptionClick={handleOptionSelect}\n              onMouseEnter={setHoverValue}\n              onDropDownOptionMount={onDropDownOptionMount}\n              onDropDownOptionUnMount={onDropDownOptionUnMount}\n              highlightFormat={highlightFormat}\n              selectValue={localValue}\n              searchValue={searchValue}\n              hoverValue={hoverValue}\n              dimension={dimension}\n              multiple={multiple}\n              defaultHighlighted={defaultHighlighted}\n              showCheckbox={showCheckbox}\n            >\n              {dropDownChildren}\n            </DropDownSearchSelectProvider>\n          </Dropdown>\n        )}\n        <IconPanel multiple={multiple} dimension={dimension} onClick={stopPropagation} onMouseDown={preventDefault}>\n          {displayClearIcon && <ClearIcon id=\"searchSelectClearIcon\" onClick={handleOnClear} aria-hidden />}\n          {icons}\n          {displayStatusIcon && <StatusIcon status={status} aria-hidden />}\n          <OpenStatusButton\n            $isOpen={isSearchPanelOpen}\n            data-disabled={disabled ? true : undefined}\n            onClick={handleSearchPanelToggle}\n            aria-hidden\n          />\n        </IconPanel>\n      </SelectWrapper>\n    );\n  },\n);\n\nexport { Option } from './Option';\nexport { Highlight } from './Highlight';\nexport { OptionGroup } from './OptionGroup';\n\nSearchSelect.displayName = 'SearchSelect';\n","export const INPUT_DIMENSIONS_VALUES = ['xl', 'm', 's'] as const;\n/** Размеры компонента относительно начального */\nexport type ComponentDimension = typeof INPUT_DIMENSIONS_VALUES[number];\n\nexport const INPUT_STATUS_VALUES = ['error', 'success'] as const;\nexport type InputStatus = typeof INPUT_STATUS_VALUES[number];\n\nexport interface ExtraProps {\n  /** Делает высоту компонента больше или меньше обычной */\n  dimension?: ComponentDimension;\n\n  /** Количество иконок отображаемых справа */\n  iconCount?: number;\n}\n","import { changeInputData, CustomInputHandler, InputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport type { ExtraProps, InputStatus, ComponentDimension } from '#ui-kit3/components/input/types';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as CloseOutlineSvg } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport type { ForwardedRef, TextareaHTMLAttributes } from 'react';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { StatusIcon } from '../StatusIcon';\n\nconst ClearIcon = styled(CloseOutlineSvg)`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst iconSizeValue = (props: { dimension?: ComponentDimension }) => {\n  switch (props.dimension) {\n    case 'xl':\n      return 24;\n    case 's':\n      return 20;\n    default:\n      return 24;\n  }\n};\nconst horizontalPaddingValue = (props: { dimension?: ComponentDimension }) => {\n  switch (props.dimension) {\n    case 'xl':\n      return 16;\n    case 's':\n      return 12;\n    default:\n      return 16;\n  }\n};\n\nconst extraPadding = css<ExtraProps>`\n  padding-right: ${(props) => (props.iconCount ? iconSizeValue(props) + 8 : horizontalPaddingValue(props))}px;\n`;\n\nconst disabledColors = css`\n  background-color: ${(props) => props.theme.color.background.tertiary};\n  border-color: ${(props) => props.theme.color.background.tertiary};\n`;\n\nconst colorsBorderAndBackground = css<{ disabled?: boolean }>`\n  background-color: ${(props) => props.theme.color.background.primary};\n  border: 1px solid ${(props) => props.theme.color.basic.tertiary};\n  border-radius: 4px;\n\n  ${({ disabled }) => (disabled ? disabledColors : '')}\n\n  &:focus {\n    border-color: ${(props) => props.theme.color.basic.press};\n  }\n\n  &:hover {\n    border-color: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst ieFixes = css`\n  ::-ms-clear,\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nconst Text = styled.textarea<ExtraProps>`\n  outline: none;\n  appearance: none;\n  resize: none;\n\n  box-sizing: border-box;\n  flex: 1 1 auto;\n  min-width: 10px;\n  border: none;\n  background: transparent;\n  overflow: auto;\n  padding: ${(props) => (props.dimension === 'xl' ? '' : '8px ')}${horizontalPaddingValue}px;\n  color: ${(props) => props.theme.color.text.primary};\n\n  ${(props) => (props.dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  &::placeholder {\n    color: ${(props) => props.theme.color.text.secondary};\n  }\n\n  &:disabled::placeholder {\n    color: ${(props) => props.theme.color.text.tertiary};\n  }\n\n  [data-read-only] & {\n    ${disabledColors}\n  }\n\n  ${colorsBorderAndBackground}\n  ${extraPadding}\n  ${ieFixes}\n  [data-status='error'] &,\n  &:invalid {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n\n  [data-status='success'] & {\n    border-color: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nconst Container = styled.div<{ disabled?: boolean; dimension?: ComponentDimension }>`\n  position: relative;\n  display: flex;\n  align-items: stretch;\n  border: none;\n`;\n\nconst IconPanel = styled.div<{ disabled?: boolean; dimension?: ComponentDimension }>`\n  position: absolute;\n  top: 8px;\n  bottom: 0;\n  right: 0;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  padding-right: 8px;\n\n  & > * {\n    display: block;\n    width: ${iconSizeValue}px;\n  }\n`;\n\nfunction defaultHandleInput(newInputData: InputData): InputData {\n  return newInputData;\n}\n\nconst stopEvent = (e: React.MouseEvent) => e.preventDefault();\n\nexport interface TextAreaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  /** Максимальное количество символов для ввода */\n  maxLength?: number;\n\n  /** Начальная высота компонента в количествах строк */\n  rows?: number;\n\n  /** Делает высоту компонента больше или меньше обычной */\n  dimension?: ComponentDimension;\n\n  /** Иконки для отображения в правом углу поля */\n  icons?: React.ReactNode;\n\n  /** Отображать иконку статуса */\n  displayStatusIcon?: boolean;\n\n  /** Отображать иконку очистки поля */\n  displayClearIcon?: boolean;\n\n  /** Статус поля */\n  status?: InputStatus;\n\n  /** Ref контейнера компонента */\n  containerRef?: ForwardedRef<HTMLDivElement>;\n\n  /**\n   * Дает возможность изменить значение поля ввода и позицию курсора до момента отображения при следующем цикле рендеринга.\n   * Используется для создания масок ввода\n   */\n  handleInput?: CustomInputHandler;\n\n  /**  Наличие этого атрибута отключает возможность выделения и копирования значения поля */\n  disableCopying?: boolean;\n\n  /**  Включает автоматическое изменение высоты компонента в зависимости от количества текста */\n  autoHeight?: boolean;\n}\n\nexport const TextArea = React.forwardRef<HTMLTextAreaElement, TextAreaProps>(\n  (\n    {\n      rows = 3,\n      value,\n      displayStatusIcon,\n      displayClearIcon,\n      status,\n      handleInput = defaultHandleInput,\n      containerRef,\n      icons,\n      children,\n      className,\n      autoHeight,\n      ...props\n    },\n    ref,\n  ) => {\n    const inputRef = React.useRef<HTMLTextAreaElement>(null);\n    const [textRows, setTextRows] = React.useState<number>(rows);\n\n    const iconArray = React.Children.toArray(icons);\n\n    if (displayStatusIcon) {\n      iconArray.push(<StatusIcon key=\"status-icon\" status={status} aria-hidden />);\n    }\n\n    if (displayClearIcon) {\n      iconArray.unshift(\n        <ClearIcon\n          key=\"clear-icon\"\n          onClick={() => {\n            if (inputRef.current) {\n              changeInputData(inputRef.current, { value: '' });\n            }\n          }}\n          aria-hidden\n        />,\n      );\n    }\n\n    const iconCount = iconArray.length;\n\n    const inputData = value !== undefined && value !== null ? handleInput({ value: String(value) }) : {};\n\n    React.useLayoutEffect(() => {\n      function oninput(this: HTMLTextAreaElement) {\n        const { value, selectionStart, selectionEnd } = this;\n        const currentInputData = { value, selectionStart, selectionEnd };\n\n        const inputData = handleInput(currentInputData);\n        changeInputData(this, inputData);\n      }\n\n      if (inputRef.current) {\n        const node = inputRef.current;\n        node.addEventListener('input', oninput);\n\n        const { value, selectionStart, selectionEnd } = node;\n        const currentInputData = { value, selectionStart, selectionEnd };\n        const inputData = handleInput(currentInputData);\n        changeInputData(node, inputData);\n\n        return () => {\n          node.removeEventListener('input', oninput);\n        };\n      }\n    }, [inputRef.current, handleInput]);\n\n    const onChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n      if (autoHeight) {\n        const textareaLineHeight = 24;\n        const previousRows = e.target.rows;\n        e.target.rows = rows;\n        const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n        if (currentRows === previousRows) {\n          e.target.rows = currentRows;\n        }\n        if (currentRows >= previousRows) {\n          e.target.rows = currentRows;\n          e.target.scrollTop = e.target.scrollHeight;\n        }\n        const rowCount = currentRows > rows ? currentRows : rows;\n        setTextRows(rowCount);\n      }\n      props.onChange?.(e);\n    };\n\n    return (\n      <Container\n        className={className}\n        disabled={props.disabled}\n        dimension={props.dimension}\n        ref={containerRef}\n        data-read-only={props.readOnly ? true : undefined}\n        data-status={status}\n        {...(props.disableCopying && {\n          onMouseDown: stopEvent,\n        })}\n      >\n        <Text\n          ref={refSetter(ref, inputRef)}\n          {...props}\n          iconCount={iconCount}\n          value={inputData.value}\n          rows={textRows}\n          onChange={onChange}\n        />\n        {iconCount > 0 && (\n          <IconPanel disabled={props.disabled} dimension={props.dimension}>\n            {iconArray}\n          </IconPanel>\n        )}\n        {children}\n      </Container>\n    );\n  },\n);\n\nTextArea.displayName = 'TextArea';\n","import { InputData } from '#ui-kit3/components/common/dom/changeInputData';\n\nfunction splice(oldString: string, start: number, delCount: number, newSubStr: string): string {\n  return oldString.slice(0, start) + newSubStr + oldString.slice(start + Math.abs(delCount));\n}\n\nfunction isValidTime(string: string): boolean {\n  const onlyDigitsString = string.replace(/\\D+/g, '');\n  if (onlyDigitsString.length === 1) {\n    return /^([0-2])?$/.test(onlyDigitsString);\n  }\n  if (onlyDigitsString.length === 2) {\n    return /^([0-1]?[0-9]|2[0-3])?$/.test(onlyDigitsString);\n  }\n  if (onlyDigitsString.length === 3) {\n    return /^([0-1]?[0-9]|2[0-3]):([0-5])?$/.test(string.slice(0, -1));\n  }\n  if (onlyDigitsString.length === 4) {\n    return /^([0-1]?[0-9]|2[0-3]):([0-5][0-9])?$/.test(string);\n  }\n  return true;\n}\n\nexport const MASK_VALUE = '__:__';\n\nexport function defaultTimeInputHandle(inputData: InputData | null): InputData {\n  if (inputData === null) {\n    return { value: MASK_VALUE, selectionStart: 0, selectionEnd: 0 };\n  }\n  const selectionStart = inputData.selectionStart || 0;\n  let inputValue = inputData.value || '';\n  let moveCursor = 0;\n\n  if (!inputValue.includes(':')) {\n    inputValue = `${inputValue.substring(0, 2)}:${inputValue.substring(2, 4)}`;\n    return { ...inputData, value: inputValue };\n  }\n\n  const lengthDifference = inputValue.length - MASK_VALUE.length;\n\n  if (inputValue.replace(/\\d/g, '_') === MASK_VALUE) return inputData;\n\n  if (lengthDifference < 0) {\n    inputValue = splice(inputValue, selectionStart, 0, MASK_VALUE.substring(0, -lengthDifference));\n    if (inputValue.charAt(selectionStart - 1) === ':') {\n      moveCursor = lengthDifference;\n    }\n    return {\n      ...inputData,\n      value: inputValue,\n      selectionStart: selectionStart + moveCursor,\n      selectionEnd: selectionStart + moveCursor,\n    };\n  }\n\n  if (inputValue.charAt(selectionStart) === ':') {\n    moveCursor = 1;\n  }\n  const spliced = inputValue.replace(/:/g, '');\n  inputValue = `${spliced.substring(0, 2).replace(/\\D/g, '_')}:${spliced.substring(2, 4).replace(/\\D/g, '_')}`;\n  if (inputValue.replace(/\\D+/g, '').length > 0 && !isValidTime(inputValue)) {\n    if (inputValue.charAt(selectionStart - 1) === ':') {\n      inputValue = inputValue.replace(inputValue.charAt(selectionStart), '_');\n      moveCursor = 0;\n    } else {\n      inputValue = inputValue.replace(inputValue.charAt(selectionStart - 1), '_');\n      moveCursor = -1;\n    }\n  }\n\n  return {\n    ...inputData,\n    value: inputValue,\n    selectionStart: selectionStart + moveCursor,\n    selectionEnd: selectionStart + moveCursor,\n  };\n}\n","import * as React from 'react';\nimport { HTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\n\nexport interface SlotProps extends HTMLAttributes<HTMLLIElement> {\n  selected?: boolean;\n  value: string;\n  disabled: boolean;\n  active?: boolean;\n}\n\nconst activeSlot = css`\n  background-color: ${(p) => p.theme.color.background.secondary};\n`;\n\nconst SlotStyle = styled.li<{ disabled?: boolean; selected?: boolean; active?: boolean }>`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  color: ${(p) => (p.disabled ? p.theme.color.text.tertiary : p.theme.color.text.primary)};\n  cursor: ${(p) => (p.disabled ? 'not-allowed' : 'pointer')};\n  &[data-dimension='xl'] {\n    padding: 12px 16px;\n  }\n  &[data-dimension='m'] {\n    padding: 8px 16px;\n  }\n  &[data-dimension='s'] {\n    padding: 6px 12px;\n  }\n\n  &:hover {\n    background: ${(p) => (p.disabled ? '' : p.theme.color.background.secondary)};\n  }\n\n  ${(p) => ((p.selected && !p.active && !p.disabled) || (p.active && !p.disabled) ? activeSlot : '')}\n`;\n\nexport const Slot = ({ value, ...props }: SlotProps) => {\n  return <SlotStyle {...props}>{value}</SlotStyle>;\n};\n","export { isValidTime, parseStringToTime, getTimeInMinutes };\n\nconst isValidTime = (time: string) => {\n  const timeReg = /^([0-1]?[0-9]|2[0-3]):([0-5][0-9])?$/;\n  return timeReg.test(time);\n};\n\nconst parseStringToTime = (t = ''): string | null => {\n  const [hhStr, mmStr] = t.split(':');\n  const time = `${!isNaN(+hhStr)}:${!isNaN(+mmStr)}`;\n  return isValidTime(time) ? time : null;\n};\n\nconst getTimeInMinutes = (str: string) => {\n  const strParts = str.split(':');\n  return Number(strParts[0]) * 60 + Number(strParts[1]);\n};\n","import * as React from 'react';\nimport { useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { ReactComponent as TimeSVG } from '@openvtb/admiral-icons/build/system/TimeSolid.svg';\nimport { TextInput, TextInputProps } from '../TextInput';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { defaultTimeInputHandle } from '#ui-kit3/components/input/TimeInput/defaultTimeInputHandle';\nimport { changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { Slot, SlotProps } from './Slot';\nimport { parseStringToTime, getTimeInMinutes } from './utils';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst slots: SlotProps[] = [\n  { value: '00:00', disabled: false },\n  { value: '00:30', disabled: false },\n  { value: '01:00', disabled: false },\n  { value: '01:30', disabled: false },\n  { value: '02:00', disabled: false },\n  { value: '02:30', disabled: false },\n  { value: '03:00', disabled: false },\n  { value: '03:30', disabled: false },\n  { value: '04:00', disabled: false },\n  { value: '04:30', disabled: false },\n  { value: '05:00', disabled: false },\n  { value: '05:30', disabled: false },\n  { value: '06:00', disabled: false },\n  { value: '06:30', disabled: false },\n  { value: '07:00', disabled: false },\n  { value: '07:30', disabled: false },\n  { value: '08:00', disabled: false },\n  { value: '08:30', disabled: false },\n  { value: '09:00', disabled: false },\n  { value: '09:30', disabled: false },\n  { value: '10:00', disabled: false },\n  { value: '10:30', disabled: false },\n  { value: '11:00', disabled: false },\n  { value: '11:30', disabled: false },\n  { value: '12:00', disabled: false },\n  { value: '12:30', disabled: false },\n  { value: '13:00', disabled: false },\n  { value: '13:30', disabled: false },\n  { value: '14:00', disabled: false },\n  { value: '14:30', disabled: false },\n  { value: '15:00', disabled: false },\n  { value: '15:30', disabled: false },\n  { value: '16:00', disabled: false },\n  { value: '16:30', disabled: false },\n  { value: '17:00', disabled: false },\n  { value: '17:30', disabled: false },\n  { value: '18:00', disabled: false },\n  { value: '18:30', disabled: false },\n  { value: '19:00', disabled: false },\n  { value: '19:30', disabled: false },\n  { value: '20:00', disabled: false },\n  { value: '20:30', disabled: false },\n  { value: '21:00', disabled: false },\n  { value: '21:30', disabled: false },\n  { value: '22:00', disabled: false },\n  { value: '22:30', disabled: false },\n  { value: '23:00', disabled: false },\n  { value: '23:30', disabled: false },\n];\n\nconst Icon = styled(TimeSVG)`\n  & *[fill^='#'] {\n    fill: ${(p) => p.theme.color.text.secondary};\n  }\n\n  [disabled] & {\n    pointer-events: none;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover *[fill^='#'] {\n    fill: ${(p) => p.theme.color.basic.hover};\n  }\n`;\n\nconst SlotContainer = styled.ul`\n  pointer-events: initial;\n  padding: 8px 0;\n  margin: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: ${(p) => p.theme.color.background.primary};\n  border-radius: 4px;\n  ${(p) => p.theme.shadow.NonClickable}\n  flex: 0 0 auto;\n  ${typography['Body/Body 1 Long']};\n  &[data-dimension='xl'] {\n    width: 84px;\n    height: 288px;\n  }\n  &[data-dimension='m'] {\n    width: 84px;\n    height: 240px;\n  }\n  &[data-dimension='s'] {\n    ${typography['Body/Body 2 Long']};\n    width: 68px;\n    height: 192px;\n  }\n`;\n\nexport interface TimeInputProps extends Omit<TextInputProps, 'value'> {\n  /** Выбранное значение времени */\n  value?: string;\n  /** Начало временного диапазона */\n  startTime?: string;\n  /** Конец временного диапазона */\n  endTime?: string;\n  /** Задизейбленный инпут */\n  disabled?: boolean;\n  /** Задизейбленное значение временного диапозона */\n  disabledSlots?: string[];\n  /** Альтернативная иконка компонента */\n  icon?: React.FunctionComponent<React.SVGProps<SVGSVGElement>>;\n\n  parser?: (time?: string) => string;\n}\n\nexport const TimeInput = React.forwardRef<HTMLInputElement, TimeInputProps>(\n  (\n    {\n      startTime,\n      endTime,\n      value = '',\n      dimension = 'm',\n      disabled = false,\n      disabledSlots = [],\n      parser = parseStringToTime,\n      icon,\n      icons,\n      ...props\n    },\n    ref,\n  ) => {\n    const handleInput = props.handleInput || defaultTimeInputHandle;\n    const [timeValue, setTimeValue] = useState<string | null>(null);\n    const [activeIndex, setActiveIndex] = React.useState(0);\n    const inputContainerRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const [isOpened, setIsOpened] = useState<boolean>(false);\n\n    const handleButtonClick = () => {\n      const timeValue = parser(inputRef.current?.value);\n      setTimeValue(timeValue);\n      setIsOpened(!isOpened);\n    };\n\n    const iconArray = React.Children.toArray(icons);\n    const TimeIcon = icon || Icon;\n    iconArray.push(<TimeIcon onClick={handleButtonClick} tabIndex={0} />);\n\n    const disableSlots = (defaultArray: SlotProps[], disabledArr: string[]) => {\n      if (disabledArr.length === 1) {\n        const disabledTime = defaultArray.find((slot) => slot.value === disabledArr[0]);\n        if (disabledTime) {\n          disabledTime.disabled = true;\n          return [...defaultArray, disabledTime];\n        }\n      } else {\n        return defaultArray.map((slot) => ({ ...slot, disabled: disabledArr.includes(slot.value) }));\n      }\n    };\n\n    const filterTime = (t: string, start?: string | null, end?: string | null) => {\n      if (start && !end) {\n        if (getTimeInMinutes(start) <= getTimeInMinutes(t)) {\n          return t;\n        }\n      } else if (!start && end) {\n        if (getTimeInMinutes(t) <= getTimeInMinutes(end)) {\n          return t;\n        }\n      } else if (start && end) {\n        if (getTimeInMinutes(start) <= getTimeInMinutes(t) && getTimeInMinutes(t) <= getTimeInMinutes(end)) {\n          return t;\n        }\n      }\n    };\n\n    const availableSlots =\n      !disabledSlots?.length && (startTime || endTime || (startTime && endTime))\n        ? slots.filter((slot) => filterTime(slot.value, startTime, endTime))\n        : disabledSlots?.length > 0 && !(startTime || endTime || (startTime && endTime))\n        ? disableSlots(slots, disabledSlots)\n        : disabledSlots?.length > 0 && (startTime || endTime || (startTime && endTime))\n        ? disableSlots(slots, disabledSlots)?.filter((slot) => filterTime(slot.value, startTime, endTime))\n        : slots;\n\n    const handleClick = () => {\n      if (inputRef.current) {\n        if (availableSlots && !availableSlots[activeIndex].disabled && isOpened) {\n          const slotValue = availableSlots[activeIndex].value;\n          setTimeValue(slotValue);\n          if (!slotValue) {\n            changeInputData(inputRef.current, { value: '' });\n            return;\n          }\n          changeInputData(inputRef.current, { value: slotValue });\n          setIsOpened(false);\n        } else {\n          changeInputData(inputRef.current, { value });\n        }\n      }\n    };\n\n    const handleKeyUp = (e: React.KeyboardEvent) => {\n      if (!availableSlots) return;\n      const activeOption = document.querySelector('[aria-selected=\"true\"]');\n      switch (e.key) {\n        case 'Enter':\n          handleClick();\n          break;\n        case 'ArrowUp':\n          if (!isOpened) {\n            setIsOpened(true);\n          }\n          activeOption?.scrollIntoView(false);\n          if (activeIndex <= 0) {\n            setActiveIndex(availableSlots.length - 1);\n          } else {\n            setActiveIndex(activeIndex - 1);\n          }\n          break;\n        case 'ArrowDown':\n          if (!isOpened) {\n            setIsOpened(true);\n          }\n          activeOption?.scrollIntoView(true);\n          if (activeIndex >= availableSlots.length - 1) {\n            setActiveIndex(0);\n          } else {\n            setActiveIndex(activeIndex + 1);\n          }\n          break;\n      }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      if (e.key === 'Enter' && isOpened) {\n        e.preventDefault();\n      }\n    };\n\n    const clickOutside = () => {\n      setIsOpened(false);\n    };\n\n    return (\n      <TextInput\n        {...props}\n        ref={refSetter(ref, inputRef)}\n        handleInput={handleInput}\n        icons={iconArray}\n        containerRef={inputContainerRef}\n        value={value}\n        disabled={disabled}\n        dimension={dimension}\n        onKeyUp={(...p) => {\n          props.onKeyUp?.(...p);\n          handleKeyUp(...p);\n        }}\n        onKeyDown={(...p) => {\n          props.onKeyDown?.(...p);\n          handleKeyDown(...p);\n        }}\n      >\n        {availableSlots && isOpened && !disabled && (\n          <Dropdown targetRef={inputRef} alignSelf=\"flex-end\" onClickOutside={clickOutside}>\n            <SlotContainer data-dimension={dimension}>\n              {availableSlots.map((slot, index) => (\n                <Slot\n                  key={index}\n                  active={index === activeIndex}\n                  value={slot.value}\n                  data-dimension={dimension}\n                  selected={timeValue === slot.value}\n                  aria-selected={index === activeIndex}\n                  disabled={slot.disabled}\n                  onMouseEnter={() => setActiveIndex(index)}\n                  onClick={handleClick}\n                  onKeyUp={handleKeyUp}\n                >\n                  {slot.value}\n                </Slot>\n              ))}\n            </SlotContainer>\n          </Dropdown>\n        )}\n      </TextInput>\n    );\n  },\n);\n\nTimeInput.displayName = 'TimeInput';\n","export const correctValueWithRanges = (ranges: number[], value: number, minValue: number, maxValue: number) => {\n  const fullRangePoints = [...ranges.map((elem) => elem), minValue, maxValue].sort((a, b) => a - b);\n\n  const closestRight = Math.min(...fullRangePoints.filter((v) => v >= value));\n  const closestLeft = Math.max(...fullRangePoints.filter((v) => v <= value));\n\n  const resultValue = closestRight - value <= value - closestLeft ? closestRight : closestLeft;\n  return resultValue;\n};\n\nexport const calcValueByPos = (\n  /** Ширина всего компонента (количество пикселей) */\n  trackWidth: number,\n  /** На каком расстояниии от начала trackа находится слайдер (количество пикселей) */\n  sliderPosition: number,\n  /** Минимальное значение диапазона */\n  minValue: number,\n  /** Максимальное значение диапазона */\n  maxValue: number,\n  /** Шаг */\n  step: number,\n) => {\n  const onePixelVal = trackWidth ? (maxValue - minValue) / trackWidth : 0;\n\n  let sliderValue = sliderPosition * onePixelVal;\n\n  if (!step || step >= 1) {\n    sliderValue = Math.round(sliderValue);\n  }\n  let calcValue = minValue + sliderValue;\n\n  if (step) {\n    calcValue = Math.round(calcValue / step) * step;\n  }\n  if (minValue + sliderValue === minValue && calcValue !== minValue) {\n    return minValue;\n  }\n  if (minValue + sliderValue === maxValue && calcValue !== maxValue) {\n    return maxValue;\n  }\n  return calcValue;\n};\n","import styled from 'styled-components';\n\nconst TRANSITION_ANIMATION = 'all  ease-in 0.3s';\n\nexport const Wrapper = styled.div`\n  position: relative;\n  -webkit-tap-highlight-color: transparent;\n`;\n\nexport const TrackWrapper = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  height: 40px;\n  padding-bottom: 20px;\n  [data-dimension='m'] & {\n    height: 36px;\n  }\n  [data-disabled='true'] && {\n    pointer-events: none;\n    cursor: auto;\n  }\n`;\n\nexport const Track = styled.div`\n  height: 2px;\n  background: ${({ theme }) => theme.color.background.tertiary};\n  [data-disabled='true'] && {\n    background: ${({ theme }) => theme.color.background.tertiary};\n  }\n  width: 100%;\n`;\n\nexport const DefaultTrack = styled.div`\n  height: 2px;\n  transform: translateY(-50%);\n`;\n\nexport const FilledTrack = styled.div<{ animation?: boolean }>`\n  display: block;\n  [data-disabled='true'] && {\n    background: ${({ theme }) => theme.color.basic.disable};\n  }\n  position: absolute;\n  height: 2px;\n  width: 100%;\n  background-color: ${({ theme }) => theme.color.basic.primary};\n  transition: ${({ animation }) => (animation ? TRANSITION_ANIMATION : 'none')};\n`;\n\nexport const Thumb = styled.div<{ animation?: boolean }>`\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  [data-dimension='m'] && {\n    height: 16px;\n    width: 16px;\n  }\n  align-items: center;\n  justify-content: center;\n  transform: translateX(-50%) translateY(-50%);\n  border-radius: 50%;\n  top: 2px;\n  transition: ${({ animation }) => (animation ? TRANSITION_ANIMATION : 'none')};\n`;\n\nexport const ThumbCircle = styled.div`\n  position: relative;\n  height: 20px;\n  width: 20px;\n  background: ${({ theme }) => theme.color.basic.primary};\n  border-radius: 50%;\n  &:before {\n    position: absolute;\n    content: '';\n    height: 8px;\n    width: 8px;\n    background: ${({ theme }) => theme.color.background.primary};\n    top: 6px;\n    bottom: 6px;\n    left: 6px;\n    right: 6px;\n    border-radius: 50%;\n  }\n  [data-dimension='m'] && {\n    height: 16px;\n    width: 16px;\n    &:before {\n      height: 6px;\n      width: 6px;\n      top: 5px;\n      bottom: 5px;\n      left: 5px;\n      right: 5px;\n    }\n  }\n  &:hover {\n    background: ${({ theme }) => theme.color.basic.hover};\n  }\n  &:active {\n    background: ${({ theme }) => theme.color.basic.press};\n  }\n\n  [data-disabled='true'] && {\n    background: ${({ theme }) => theme.color.basic.disable};\n    pointer-events: none;\n    &:hover,\n    &:active {\n      background: ${({ theme }) => theme.color.basic.disable};\n    }\n  }\n`;\n","// возвращает строку из n повторений входной строки str\nexport const repeatStringNumTimes = (str: string, n: number) => {\n  let repeatedString = '';\n  while (n > 0) {\n    repeatedString += str;\n    n--;\n  }\n  return repeatedString;\n};\n\n// возвращает входную строку str, из которой удалены все символы кроме цифр, символа decimal (по умолчанию точки) и минуса\nexport const clearValue = (str: string, precision: number, decimal = '.') => {\n  const validChars =\n    precision > 0\n      ? [decimal, '-', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n      : ['-', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\n  let newStr = str\n    .split('')\n    .filter((char) => validChars.indexOf(char) > -1)\n    .join('');\n  // оставляем минус, только если он стоит вначале строки\n  if (newStr.indexOf('-') > -1) {\n    newStr =\n      newStr[0] +\n      newStr\n        .slice(1, newStr.length)\n        .split('')\n        .filter((char) => char !== '-')\n        .join('');\n  }\n  // если введено '-.', нужно заменить на '-0.'\n  if (newStr[0] === '-' && newStr[1] === decimal) {\n    newStr = newStr[0] + '0' + newStr.slice(1, newStr.length);\n  }\n  // оставляем только самую первую из введенных точек\n  if (newStr.indexOf(decimal) > -1) {\n    const firstDecimalIndex = newStr.indexOf(decimal);\n    newStr = newStr\n      .split('')\n      .filter((char, index) => char !== decimal || (char === decimal && index === firstDecimalIndex))\n      .join('');\n  }\n  // если число начинается с нуля, то после него можно вводить только десятичный разделитель (decimal, по умолчанию точка)\n  // если вторым символом введено нечто отличное от decimal, то оно заменяет собой ноль. Например 05 -> 5\n  if (newStr[0] === '0' && newStr[1] !== decimal && newStr.length >= 2) {\n    newStr = newStr[1];\n  }\n  if (newStr.slice(0, 2) === '-0' && newStr[2] !== decimal) {\n    newStr = '-0';\n  }\n  return newStr;\n};\n\n// возвращает строку с обратным порядоком символов\nconst reverseString = (str: string) => {\n  return str.split('').reverse().join('');\n};\n\n/**\n * Возвращает строку отформатированную в денежный формат\n * @param value введенная строка\n * @param precision точность (количество знаков после точки)\n * @param decimal десятичный разделитель\n * @param thousand разделитель между тысячами\n * @param prefix префикс (строка, которая выводится перед числовым значением)\n * @param suffix суффикс (строка, которая выводится после числового значения)\n * @param fillEmptyDecimals если строка должна быть отформатирована как десятичное число (т.е. precision > 0 и в строке есть decimal)\n * и данный флаг fillEmptyDecimals установлен в true, то утилита fitToCurrency проверит, сколько знаков в числе после разделителя decimal\n * и если таких знаков меньше, чем precision, недостающее количество будет заполнено нулями.\n * Например, при precision={3} строка '3.9' превратится '3.900'\n */\nexport function fitToCurrency(\n  value: string | number,\n  precision: number,\n  decimal: string,\n  thousand: string,\n  prefix?: string,\n  suffix?: string,\n  fillEmptyDecimals?: boolean,\n): string {\n  if (value === '') {\n    return value;\n  }\n\n  let strDecimal = clearValue(String(value), precision, decimal);\n  if (strDecimal === '') {\n    return '';\n  }\n\n  const decimalIndex = strDecimal.indexOf(decimal);\n  const isDecimal = decimalIndex > -1;\n\n  // обрезаем строку, если после decimal цифр больше, чем в precision\n  if (isDecimal && strDecimal.length - decimalIndex - 1 > precision) {\n    strDecimal = strDecimal.slice(0, decimalIndex + precision + 1);\n  }\n\n  // выделяем левую (целую) и правую (десятичную) части\n  const left_side = isDecimal ? strDecimal.slice(0, decimalIndex) : strDecimal;\n  const right_side = isDecimal ? strDecimal.slice(decimalIndex, strDecimal.length) : '';\n\n  let newValue = '';\n\n  // разбиваем левую (целую) часть на группы по три символа, разделенные thousand\n  const reducer = (previousValue: string, currentValue: string, index: number, arr: Array<string>) => {\n    return index === 0\n      ? (previousValue += reverseString(currentValue))\n      : (previousValue += reverseString(currentValue) + thousand);\n  };\n  newValue =\n    reverseString(left_side)\n      .match(/.{1,3}/g)\n      ?.reduceRight(reducer, '') || '';\n\n  if (right_side) {\n    newValue += right_side;\n  }\n\n  // доставляем нули при блюре\n  if (fillEmptyDecimals) {\n    if (isDecimal) {\n      const dot = newValue.indexOf(decimal);\n      const diff = newValue.length - dot - 1;\n      if (diff < precision) {\n        newValue = newValue + repeatStringNumTimes('0', precision - diff);\n      }\n      if (dot === 0) {\n        newValue = '0' + newValue;\n      }\n    } else if (precision) {\n      // если введен только минус, то добавляем к нему ноль\n      if (newValue === '-') {\n        newValue = newValue + '0';\n      }\n      newValue += decimal + repeatStringNumTimes('0', precision);\n    }\n  }\n\n  // доставляем префикс/суффикс\n  if (prefix) {\n    newValue = `${prefix} ${newValue}`;\n  }\n\n  if (suffix) {\n    newValue = `${newValue} ${suffix}`;\n  }\n\n  return newValue;\n}\n\nexport const validateThousand = (thousand: string): boolean => {\n  return /[^a-zA-Z]+/.test(thousand);\n};\n","import * as React from 'react';\nimport { TextInput, TextInputProps } from '#ui-kit3/components/input/TextInput';\nimport { InputData, changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { ReactComponent as MinusOutline } from '@openvtb/admiral-icons/build/service/MinusOutline.svg';\nimport { ReactComponent as PlusOutline } from '@openvtb/admiral-icons/build/service/PlusOutline.svg';\nimport styled, { css } from 'styled-components';\n\nimport { fitToCurrency, clearValue, validateThousand } from './utils';\nexport { fitToCurrency, clearValue } from './utils';\n\nconst Icon = css`\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.secondary};\n  }\n  &:hover {\n    cursor: pointer;\n  }\n  &:hover *[fill^='#'] {\n    fill: ${(props) => props.theme.color.basic.hover};\n  }\n`;\n\nconst IconDisabled = css`\n  cursor: default;\n  pointer-events: none;\n  & *[fill^='#'] {\n    fill: ${(props) => props.theme.color.text.tertiary};\n  }\n`;\n\nconst Minus = styled(MinusOutline)<{ disabled: boolean }>`\n  ${Icon}\n  ${({ disabled }) => disabled && IconDisabled}\n`;\nconst Plus = styled(PlusOutline)<{ disabled: boolean }>`\n  ${Icon}\n  ${({ disabled }) => disabled && IconDisabled}\n`;\n\nexport interface NumberInputProps extends Omit<TextInputProps, 'onChange'> {\n  /** точность (количество знаков после точки). Если precision равно 0, то точку ввести нельзя, только целые числа */\n  precision?: number;\n  /** префикс (строка, которая выводится перед числовым значением) */\n  prefix?: string;\n  /** суффикс (строка, которая выводится после числового значения) */\n  suffix?: string;\n  /** разделитель между тысячами */\n  thousand?: string;\n  /** разделитель между целым и десятичным */\n  decimal?: string;\n  /** Шаг инпута */\n  step?: number;\n  /** Минимальное значение слайдера */\n  minValue?: number;\n  /** Максимальное значение слайдера */\n  maxValue?: number;\n  /** Отображать иконки плюса минуса */\n  displayPlusMinusIcons?: boolean;\n  /** Колбек на изменение значения компонента\n   * 1) fullStr - строка вместе с префиксом/суффиксом/разделителями;\n   * 2) shortStr - строка только с числом;\n   * 3) event - событие ChangeEvent или FocusEvent (колбек onChange может быть вызван не только при изменении значения инпута,\n   * но и при потере фокуса инпутом, если значение в инпуте выходит за границы minValue/maxValue и требует корректировки.\n   * Примечание: в качестве value компонента необходимо использовать fullStr (строку вместе с префиксом/суффиксом/разделителями).\n   */\n  onChange?: (\n    fullStr: string,\n    shortStr: string,\n    event: React.ChangeEvent<HTMLInputElement> | React.FocusEvent<HTMLInputElement>,\n  ) => void;\n}\n\nexport const NumberInput = React.forwardRef<HTMLInputElement, NumberInputProps>(\n  (\n    {\n      precision = 2,\n      prefix = '',\n      suffix = '₽',\n      thousand: userThousand = ' ',\n      decimal: userDecimal = '.',\n      onBlur,\n      onChange,\n      placeholder = '0 ₽',\n      step = 1,\n      minValue,\n      maxValue,\n      displayPlusMinusIcons = true,\n      ...rest\n    },\n    ref,\n  ) => {\n    const inputRef = React.useRef<HTMLInputElement>(null);\n    const [plusDisabled, setPlusDisabled] = React.useState(false);\n    const [minusDisabled, setMinusDisabled] = React.useState(false);\n\n    // thousand, decimal - не более одного символа\n    const thousand = validateThousand(userThousand) ? userThousand.slice(0, 1) : ' ';\n    const decimal = userDecimal.slice(0, 1);\n\n    React.useEffect(() => {\n      // проверка на undefined и пустую строку\n      const valueExist = rest.value !== undefined && !!String(rest.value);\n      const defaultValueExist = rest.defaultValue !== undefined && !!String(rest.defaultValue);\n      const value = valueExist ? String(rest.value) : String(rest.defaultValue);\n      if (valueExist || defaultValueExist) {\n        if (typeof minValue === 'number') {\n          const minusDsb = Number(clearValue(value, precision, decimal)) - step < minValue;\n          minusDisabled !== minusDsb && setMinusDisabled(minusDsb);\n        }\n        if (typeof maxValue === 'number') {\n          const plusDsb = Number(clearValue(value, precision, decimal)) + step > maxValue;\n          plusDisabled !== plusDsb && setPlusDisabled(plusDsb);\n        }\n      } else {\n        // Если параметры value, defaultValue не заданы или являются пустыми строками, тогда кнопки +/- не могут быть задизейблены\n        minusDisabled && setMinusDisabled(false);\n        plusDisabled && setPlusDisabled(false);\n      }\n    }, [rest.value, rest.defaultValue]);\n\n    const handleInputChange = (inputData: InputData | null): InputData => {\n      const { value, selectionStart } = inputData || {};\n      const cursor = selectionStart || 0;\n      const init_value = value || '';\n      const newValue = fitToCurrency(init_value, precision, decimal, thousand, prefix, suffix);\n\n      const cursorInPrefix = cursor >= 0 && cursor <= prefix.length + 1 && prefix;\n      const cursorInSuffix = cursor >= init_value.length - suffix.length && cursor <= init_value.length + 1 && suffix;\n\n      if (cursor && (cursorInPrefix || cursorInSuffix)) {\n        // если пытаемся печатать/стирать, находясь в префиксе/суффиксе, то курсор просто встает после всех цифр\n        return {\n          ...inputData,\n          value: newValue,\n          selectionStart: suffix ? newValue.length - suffix.length - 1 : newValue.length,\n          selectionEnd: suffix ? newValue.length - suffix.length - 1 : newValue.length,\n        };\n      } else if (thousand && init_value.charAt(cursor - 1) === thousand && newValue.length === init_value.length) {\n        // если пытаемся стереть разделитель thousand, то курсор перескакивает через него\n        return {\n          ...inputData,\n          value: newValue,\n          selectionStart: cursor - 1,\n          selectionEnd: cursor - 1,\n        };\n      } else {\n        return {\n          ...inputData,\n          value: newValue,\n          selectionStart: newValue.length - init_value.length + cursor,\n          selectionEnd: newValue.length - init_value.length + cursor,\n        };\n      }\n    };\n\n    /**\n     * При потере фокуса:\n     * если precision > 0, количество цифр после разделителя decimal должно быть равно precision.\n     * Если условие выше несоблюдено, должна быть произведена корректировка значения. Например: '70.' => '70.00' при precision={2}\n     */\n    const handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n      const newValue = fitToCurrency(event.currentTarget.value, precision, decimal, thousand, prefix, suffix, true);\n      if (inputRef.current) {\n        // если введеное значение меньше minValue\n        if (typeof minValue === 'number' && Number(clearValue(newValue, precision, decimal)) < minValue) {\n          const fullValue = fitToCurrency(String(minValue), precision, decimal, thousand, prefix, suffix, true);\n          const shortValue = clearValue(fullValue, precision, decimal);\n\n          onChange?.(fullValue, shortValue, event);\n          inputRef.current.value = fullValue;\n        }\n        // если введеное значение меньше maxValue\n        else if (typeof maxValue === 'number' && Number(clearValue(newValue, precision, decimal)) > maxValue) {\n          const fullValue = fitToCurrency(String(maxValue), precision, decimal, thousand, prefix, suffix, true);\n          const shortValue = clearValue(fullValue, precision, decimal);\n\n          onChange?.(fullValue, shortValue, event);\n          inputRef.current.value = fullValue;\n        }\n        // если значение в инпуте неполностью отформатировано, например, не все разряды после запятой проставлены\n        else if (newValue !== event.currentTarget.value) {\n          const fullValue = newValue;\n          const shortValue = clearValue(fullValue, precision, decimal);\n\n          onChange?.(fullValue, shortValue, event);\n          inputRef.current.value = fullValue;\n        }\n      }\n      onBlur?.(event);\n    };\n    const handleMinus = () => {\n      const current = inputRef.current?.value || '';\n      const newValue = Number(clearValue(current, precision, decimal)) - step;\n      const newValueStr = fitToCurrency(String(newValue), precision, decimal, thousand, prefix, suffix, true);\n      if (inputRef.current) {\n        if (typeof minValue === 'number') {\n          if (newValue >= minValue) {\n            changeInputData(inputRef.current, { value: newValueStr });\n          }\n        } else {\n          changeInputData(inputRef.current, { value: newValueStr });\n        }\n      }\n    };\n    const handlePlus = () => {\n      const current = inputRef.current?.value || '';\n      const newValue = Number(clearValue(current, precision, decimal)) + step;\n      const newValueStr = fitToCurrency(String(newValue), precision, decimal, thousand, prefix, suffix, true);\n\n      if (inputRef.current) {\n        if (typeof maxValue === 'number') {\n          if (newValue <= maxValue) {\n            changeInputData(inputRef.current, { value: newValueStr });\n          }\n        } else {\n          changeInputData(inputRef.current, { value: newValueStr });\n        }\n      }\n    };\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n      const newVal = event.currentTarget.value;\n\n      if (typeof minValue === 'number' && newVal) {\n        const minusDsb = Number(clearValue(newVal, precision, decimal)) - step < minValue;\n        minusDisabled !== minusDsb && setMinusDisabled(minusDsb);\n      }\n      if (typeof maxValue === 'number' && newVal) {\n        const plusDsb = Number(clearValue(newVal, precision, decimal)) + step > maxValue;\n        plusDisabled !== plusDsb && setPlusDisabled(plusDsb);\n      }\n      if (newVal === '') {\n        // когда в инпут ничего не введено, кнопки +/- не должны быть задизейблены\n        minusDisabled && setMinusDisabled(false);\n        plusDisabled && setPlusDisabled(false);\n      }\n\n      const fullValue = newVal;\n      const shortValue = clearValue(newVal, precision, decimal);\n\n      onChange?.(fullValue, shortValue, event);\n    };\n\n    return (\n      <TextInput\n        {...rest}\n        onChange={handleChange}\n        placeholder={placeholder}\n        ref={refSetter(ref, inputRef)}\n        onBlur={handleBlur}\n        handleInput={handleInputChange}\n        type=\"text\"\n        icons={\n          displayPlusMinusIcons\n            ? [\n                rest.icons,\n                <Minus onClick={handleMinus} disabled={rest.disabled || minusDisabled} />,\n                <Plus onClick={handlePlus} disabled={rest.disabled || plusDisabled} />,\n              ]\n            : [rest.icons]\n        }\n      />\n    );\n  },\n);\n\nNumberInput.displayName = 'NumberInput';\n","import React from 'react';\nimport styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { fitToCurrency } from '#ui-kit3/components/input/NumberInput';\n\nconst Wrapper = styled.div<{ position: number }>`\n  position: absolute;\n  left: ${({ position }) => position}%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  top: 16px;\n  [data-dimension='m'] && {\n    top: 14px;\n  }\n  white-space: nowrap;\n  ${typography['Body/Body 2 Short']}\n  &:hover {\n    color: ${({ theme }) => theme.color.basic.hover};\n  }\n  &:active {\n    color: ${({ theme }) => theme.color.basic.press};\n  }\n  [data-disabled='true'] && {\n    color: ${({ theme }) => theme.color.text.tertiary};\n  }\n`;\n\ninterface TickMarksProps {\n  minValue: number;\n  maxValue: number;\n  decimal?: string;\n  precision?: number;\n  thousand?: string;\n  tickMarks: number[];\n  onPointClick: (e: any, value: number) => void;\n}\n\nexport const TickMarks = ({\n  minValue,\n  maxValue,\n  decimal = '.',\n  precision = 2,\n  thousand = ' ',\n  tickMarks,\n  onPointClick,\n}: TickMarksProps) => {\n  // filter items that fall into the range between minValue and maxValue\n  const items = tickMarks.filter((d) => d >= minValue && d <= maxValue);\n  const range = maxValue - minValue;\n  return (\n    <>\n      {items.map((value, index) => {\n        const key = value.toString() + index;\n        const position = ((value - minValue) / range) * 100;\n        let style: any = {};\n        style = index === 0 ? { left: 0 } : style;\n        style = index === tickMarks.length - 1 ? { right: 0 } : style;\n        return (\n          <Wrapper\n            key={key}\n            position={position}\n            onMouseDown={(e: any) => {\n              onPointClick(e, value);\n            }}\n          >\n            <Content style={style}>{fitToCurrency(value, precision, decimal, thousand)}</Content>\n          </Wrapper>\n        );\n      })}\n    </>\n  );\n};\n","import React, { useState, useRef, useEffect, useCallback, MutableRefObject, HTMLAttributes } from 'react';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { throttle } from '#ui-kit3/components/common/utils/throttle';\n\nimport { correctValueWithRanges, calcValueByPos } from './utils';\nimport { Wrapper, TrackWrapper, Track, DefaultTrack, FilledTrack, Thumb, ThumbCircle } from './style';\nimport { TickMarks } from './TickMarks';\n\nexport interface SliderProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Значение компонента */\n  value: number;\n  /** Коллбек на изменение состояния */\n  onChange: (event: any, value: number) => void;\n  /** Минимальное значение */\n  minValue?: number;\n  /** Максимальное значение */\n  maxValue?: number;\n  /** Шаг слайдера */\n  step?: number;\n  /** разделитель между целым и десятичным */\n  decimal?: string;\n  /** точность (количество знаков после точки). Если precision равно 0, то точку ввести нельзя, только целые числа */\n  precision?: number;\n  /** разделитель между тысячами */\n  thousand?: string;\n  /** Массив отметок */\n  tickMarks?: number[];\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Размер компонента */\n  dimension?: 'xl' | 'm';\n}\n\nexport const Slider = ({\n  minValue = 0,\n  maxValue = 20,\n  decimal = '.',\n  precision = 2,\n  thousand = ' ',\n  value = 0,\n  onChange,\n  tickMarks: points,\n  disabled = false,\n  step = 1,\n  dimension = 'xl',\n  ...props\n}: SliderProps) => {\n  const tickMarks = Array.isArray(points) ? points : undefined;\n  const SLIDER_WIDTH = dimension === 'xl' ? 20 : 16;\n\n  const [isDraging, setDrag] = useState(false);\n  const [animation, setAnimation] = useState(false);\n  const [sliderValue, setSliderValue] = useState(value);\n\n  const filledRef: MutableRefObject<HTMLDivElement | null> = useRef(null);\n  const trackRef: MutableRefObject<HTMLDivElement | null> = useRef(null);\n  const sliderRef: MutableRefObject<HTMLDivElement | null> = useRef(null);\n\n  useEffect(() => {\n    setSliderValue(value);\n  }, [value]);\n\n  useEffect(() => {\n    correctSliderPosition(sliderValue);\n  }, [sliderValue, minValue, maxValue]);\n\n  const [moveListener, freeResources] = throttle((e: any) => {\n    updateSlider(e);\n  }, 50);\n\n  useEffect(() => {\n    if (isDraging && !disabled) {\n      document.addEventListener('mousemove', moveListener);\n      document.addEventListener('mouseup', handleSliderMouseUp);\n      document.addEventListener('touchmove', moveListener);\n      document.addEventListener('touchend', handleSliderMouseUp);\n      document.addEventListener('touchcancel', handleSliderMouseUp);\n    }\n    return () => {\n      freeResources();\n      document.removeEventListener('mousemove', moveListener);\n      document.removeEventListener('mouseup', handleSliderMouseUp);\n      document.removeEventListener('touchmove', moveListener);\n      document.removeEventListener('touchend', handleSliderMouseUp);\n      document.removeEventListener('touchcancel', handleSliderMouseUp);\n    };\n  });\n  const getRangeWidth = () => trackRef.current?.offsetWidth || 0;\n  const slideValue = useCallback(\n    (trackWidth: number, sliderPosition: number, e: any) => {\n      const calcValue = calcValueByPos(trackWidth, sliderPosition, minValue, maxValue, step);\n      calcValue !== value && onChange(e, calcValue);\n      setSliderValue(calcValue);\n    },\n    [maxValue, minValue, onChange, step],\n  );\n\n  const updateSlider = useCallback(\n    (e: any) => {\n      setAnimation(false);\n      const rangeWidth = getRangeWidth();\n      const rangeLeft = trackRef.current?.getBoundingClientRect().left || 0;\n      const sliderPosition =\n        rangeLeft && sliderRef.current\n          ? Math.round(sliderRef.current.getBoundingClientRect().left - rangeLeft + SLIDER_WIDTH / 2)\n          : 0;\n      if (isDraging && rangeLeft) {\n        let cursorPosition = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n        if (cursorPosition <= rangeLeft) {\n          cursorPosition = rangeLeft;\n        }\n        if (cursorPosition >= rangeLeft + rangeWidth) {\n          cursorPosition = rangeLeft + rangeWidth;\n        }\n\n        const getStyle = (cursorPosition: number, rangeLeft: number, rangeWidth: number) =>\n          `${((cursorPosition - rangeLeft) / rangeWidth) * 100}%`;\n        if (sliderRef.current && filledRef.current) {\n          sliderRef.current.style.left = getStyle(cursorPosition, rangeLeft, rangeWidth);\n          filledRef.current.style.width = getStyle(cursorPosition, rangeLeft, rangeWidth);\n        }\n      }\n      slideValue(rangeWidth, sliderPosition, e);\n    },\n    [slideValue, isDraging],\n  );\n\n  const correctSliderPosition = useCallback(\n    (value: number) => {\n      const rangeWidth = getRangeWidth();\n\n      const onePxValue = rangeWidth ? rangeWidth / (maxValue - minValue) : 0;\n      const correctValue = value >= 0 ? value - minValue : -minValue + value;\n      let calcPercents: number = ((onePxValue * correctValue) / rangeWidth) * 100;\n      calcPercents = calcPercents > 100 ? 100 : calcPercents;\n      calcPercents = calcPercents < 0 ? 0 : calcPercents;\n\n      const sliderCoords = String(value) ? calcPercents : 0;\n      if (sliderRef.current && filledRef.current) {\n        sliderRef.current.style.left = `${sliderCoords}%`;\n        filledRef.current.style.width = `${sliderCoords}%`;\n      }\n      return setSliderValue(value);\n    },\n    [maxValue, minValue],\n  );\n\n  const onSliderClick = useCallback(\n    (e: any) => {\n      if (e.type === 'mousedown') e.preventDefault();\n      e.stopPropagation();\n      setDrag(true);\n      setAnimation(true);\n    },\n    [updateSlider, setDrag],\n  );\n\n  const handleSliderMouseUp = useCallback(\n    (e: any) => {\n      if (e.type === 'mouseup') e.preventDefault();\n      e.stopPropagation();\n      setAnimation(true);\n      setDrag(false);\n\n      const numValue = sliderValue || minValue;\n      if (tickMarks) {\n        const newValue = correctValueWithRanges(tickMarks, numValue, minValue, maxValue);\n        correctSliderPosition(newValue);\n        newValue !== value && onChange(e, newValue);\n      } else {\n        numValue !== value && onChange(e, numValue);\n      }\n    },\n    [onChange, maxValue, minValue, sliderValue, tickMarks],\n  );\n\n  const onPointClick = (e: any, newValue: number) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!disabled) {\n      setAnimation(true);\n      correctSliderPosition(newValue);\n      newValue !== value && onChange(e, newValue);\n    }\n  };\n\n  const onTrackClick = useCallback(\n    (e: any) => {\n      if (!disabled) {\n        setAnimation(true);\n\n        const rangeWidth = getRangeWidth();\n        const correctLeft = trackRef.current?.getBoundingClientRect().left || 0;\n        const cursorPosition = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n        const sliderPosition = cursorPosition - correctLeft;\n        const calcValue = calcValueByPos(rangeWidth, sliderPosition, minValue, maxValue, step);\n        if (tickMarks) {\n          const numVal = calcValue.toString() ? calcValue : minValue;\n          const newValue = correctValueWithRanges(tickMarks, numVal, minValue, maxValue);\n          correctSliderPosition(newValue);\n          newValue !== value && onChange(e, newValue);\n        } else {\n          correctSliderPosition(calcValue);\n          onSliderClick(e);\n        }\n      }\n    },\n    [correctSliderPosition, disabled, onSliderClick, maxValue, minValue, tickMarks, step],\n  );\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    const code = keyboardKey.getCode(e);\n    switch (code) {\n      case keyboardKey.ArrowLeft:\n        if (sliderValue - step >= minValue) {\n          correctSliderPosition(sliderValue - step);\n          sliderValue - step !== value && onChange(e, sliderValue - step);\n        }\n        e.preventDefault();\n        break;\n      case keyboardKey.ArrowRight:\n        if (sliderValue + step <= maxValue) {\n          correctSliderPosition(sliderValue + step);\n          sliderValue + step !== value && onChange(e, sliderValue + step);\n        }\n        e.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Wrapper data-dimension={dimension} data-disabled={disabled} {...props}>\n      <TrackWrapper onTouchStart={onTrackClick} onMouseDown={onTrackClick}>\n        <Track>\n          <FilledTrack ref={filledRef} animation={animation} />\n          <DefaultTrack ref={trackRef}>\n            {\n              <TickMarks\n                tickMarks={tickMarks ? [minValue, ...tickMarks, maxValue] : [minValue, maxValue]}\n                minValue={minValue}\n                maxValue={maxValue}\n                decimal={decimal}\n                precision={precision}\n                thousand={thousand}\n                onPointClick={onPointClick}\n              />\n            }\n            <Thumb\n              ref={sliderRef}\n              animation={animation}\n              role=\"slider\"\n              tabIndex={disabled ? -1 : 0}\n              aria-valuenow={sliderValue}\n              aria-valuemin={minValue}\n              aria-valuemax={maxValue}\n              onKeyDown={handleKeyDown}\n            >\n              <ThumbCircle onTouchStart={onSliderClick} onMouseDown={onSliderClick} />\n            </Thumb>\n          </DefaultTrack>\n        </Track>\n      </TrackWrapper>\n    </Wrapper>\n  );\n};\n\nSlider.displayName = 'Slider';\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { Slider as SliderComponent } from '#ui-kit3/components/Slider';\nimport { TextInputProps } from '#ui-kit3/components/input/TextInput';\n\nimport { NumberInput } from '../NumberInput';\nimport { clearValue, fitToCurrency, repeatStringNumTimes } from '../NumberInput/utils';\n\nconst Wrapper = styled.div<{ dimension: 'xl' | 'm' | 's' }>`\n  position: relative;\n  padding-bottom: ${({ dimension }) => (dimension === 'xl' ? 30 : 28)}px;\n`;\n\nconst Slider = styled(SliderComponent)`\n  & > div {\n    position: absolute;\n    top: -11px;\n    [data-dimension='m'] & {\n      top: -9px;\n    }\n    [data-dimension='s'] & {\n      top: -9px;\n    }\n  }\n`;\n\nconst Input = styled(NumberInput)`\n  & > input {\n    border-radius: 4px 4px 0 0;\n  }\n`;\n\nexport interface SliderInputProps extends Omit<TextInputProps, 'onChange' | 'value'> {\n  /** Дефолтное значение компонента */\n  defaultValue?: string;\n  /** Колбек на изменение значения компонента (fullStr - строка вместе с префиксом/суффиксом/разделителями, shortStr - строка только с числом) */\n  onChange?: (fullStr: string, shortStr: string) => void;\n  /** Минимальное значение слайдера */\n  minValue?: number;\n  /** Максимальное значение слайдера */\n  maxValue?: number;\n  /** Шаг слайдера */\n  step?: number;\n  /** Массив отметок слайдера */\n  tickMarks?: number[];\n  /** точность (количество знаков после точки). Если precision равно 0, то точку ввести нельзя, только целые числа */\n  precision?: number;\n  /** разделитель между тысячами */\n  thousand?: string;\n  /** префикс (строка, которая выводится перед числовым значением) */\n  prefix?: string;\n  /** суффикс (строка, которая выводится после числового значения) */\n  suffix?: string;\n  /** плейсхолдер */\n  placeholder?: string;\n  /** Стандартные html-атрибуты, которые будут переданы wrapper-контейнеру компонента */\n  wrapperProps?: React.HTMLAttributes<HTMLDivElement>;\n}\n\nexport const SliderInput = React.forwardRef<HTMLInputElement, SliderInputProps>(\n  (\n    {\n      defaultValue = '',\n      onChange,\n      minValue = 0,\n      maxValue = 20,\n      step = 1,\n      tickMarks,\n      dimension = 'xl',\n      precision = 0,\n      thousand = ' ',\n      prefix = '',\n      suffix = '₽',\n      placeholder = '0 ₽',\n      disabled,\n      wrapperProps,\n      ...props\n    },\n    ref,\n  ) => {\n    const sliderDimension = dimension === 'xl' ? dimension : 'm';\n    // десятичный разделитель\n    const decimal = '.';\n    const [inputValue, setInputValue] = React.useState<string>('');\n    const [sliderValue, setSliderValue] = React.useState<number>(minValue);\n\n    React.useEffect(() => {\n      setInputValue(fitToCurrency(defaultValue, precision, decimal, thousand, prefix, suffix, true));\n      setSliderValue(+clearValue(defaultValue, precision, decimal));\n    }, [defaultValue]);\n\n    const handleSliderChange = (e: any, value: number) => {\n      const shortValue = value.toString() + '.' + repeatStringNumTimes('0', precision);\n      const fullValue = fitToCurrency(shortValue, precision, decimal, thousand, prefix, suffix);\n\n      setSliderValue(value);\n      setInputValue(fullValue);\n\n      onChange?.(fullValue, shortValue);\n    };\n    const handleInputChange = (fullStr: string, shortStr: string) => {\n      setInputValue(fullStr);\n      setSliderValue(+shortStr);\n\n      onChange?.(fullStr, shortStr);\n    };\n    return (\n      <Wrapper data-dimension={dimension} dimension={dimension} {...wrapperProps}>\n        <Input\n          {...props}\n          ref={ref}\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={props.onBlur}\n          dimension={dimension}\n          disabled={disabled}\n          precision={precision}\n          decimal={decimal}\n          thousand={thousand}\n          prefix={prefix}\n          suffix={suffix}\n          placeholder={placeholder}\n          step={step}\n          displayPlusMinusIcons={false}\n          minValue={minValue}\n          maxValue={maxValue}\n        />\n        <Slider\n          aria-hidden\n          value={sliderValue}\n          onChange={handleSliderChange}\n          minValue={minValue}\n          maxValue={maxValue}\n          decimal={decimal}\n          precision={precision}\n          thousand={thousand}\n          tickMarks={tickMarks}\n          step={step}\n          disabled={disabled}\n          dimension={sliderDimension}\n        />\n      </Wrapper>\n    );\n  },\n);\n\nSliderInput.displayName = 'SliderInput';\n","import styled from 'styled-components';\nimport { Status } from '#ui-kit3/components/input/FileUploader/utils';\n\nexport const ErrorBlock = styled.div<{ status?: Status }>`\n  margin-top: ${(p) => (p.status === 'Error' ? '8px' : '20px')};\n  color: ${(p) => p.theme.color.status.danger};\n`;\n","export type Status = 'Uploaded' | 'Loading' | 'Error' | 'Queue';\n\nexport type Dimension = 'xl' | 'm';\n\nexport const formatBytes = (bytes: number, decimals = 2): number => {\n  return Number((bytes / (1024 * 1024)).toFixed(decimals));\n};\n\nexport const dataTransferConstructorSupported = (): boolean => {\n  let dataTransferConstructorSupported;\n  try {\n    new DataTransfer();\n    dataTransferConstructorSupported = true;\n  } catch {\n    dataTransferConstructorSupported = false;\n  }\n  return dataTransferConstructorSupported;\n};\n\n/**\n * https://github.com/react-dropzone/attr-accept/blob/master/src/index.js\n *\n * Check if the provided file type should be accepted by the input with accept attribute.\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Input#attr-accept\n *\n * Inspired by https://github.com/enyo/dropzone\n *\n * @param file {File} https://developer.mozilla.org/en-US/docs/Web/API/File\n * @param acceptedFiles {string}\n * @returns {boolean}\n */\n\nexport function acceptFile(file: File, acceptedFiles: string): boolean {\n  if (file && acceptedFiles) {\n    const acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    const fileName = file.name || '';\n    const mimeType = (file.type || '').toLowerCase();\n    const baseMimeType = mimeType.replace(/\\/.*$/, '');\n\n    return acceptedFilesArray.some((type) => {\n      const validType = type.trim().toLowerCase();\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like an image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n      return mimeType === validType;\n    });\n  }\n  return true;\n}\n","import { ErrorBlock } from '#ui-kit3/components/input/FileUploader/ErrorBlock';\nimport { Spinner } from '#ui-kit3/components/Spinner';\nimport { Tooltip } from '#ui-kit3/components/Tooltip';\nimport { ReactComponent as DocsSolid } from '@openvtb/admiral-icons/build/documents/DocsSolid.svg';\nimport { ReactComponent as FilePDFSolid } from '@openvtb/admiral-icons/build/documents/FilePDFSolid.svg';\nimport { ReactComponent as FilePPTSolid } from '@openvtb/admiral-icons/build/documents/FilePPTSolid.svg';\nimport { ReactComponent as FileWordSolid } from '@openvtb/admiral-icons/build/documents/FileWordSolid.svg';\nimport { ReactComponent as FileXLSSolid } from '@openvtb/admiral-icons/build/documents/FileXLSSolid.svg';\nimport { ReactComponent as JpgSolid } from '@openvtb/admiral-icons/build/documents/JpgSolid.svg';\nimport { ReactComponent as CloseOutline } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport * as React from 'react';\nimport { HTMLAttributes, MouseEventHandler, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport { dataTransferConstructorSupported, Dimension, formatBytes, Status } from './utils';\n\nexport type FileProps = {\n  file: File;\n  /** Статус компонента, имеет четыре состояния: Uploaded, Loading, Error, Queue */\n  status?: Status;\n  /** Ошибка при загрузке файла */\n  error?: string;\n  /** Отображение превью изображений  */\n  showPreview?: boolean;\n};\n\nexport interface FilePreviewProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onClick'> {\n  file: FileProps;\n  /** Размер инпута */\n  dimension?: Dimension;\n  /** Размер файлового компонента */\n  fileDimension?: Dimension;\n  onCloseClick?: MouseEventHandler<HTMLDivElement>;\n}\n\nconst getIcon = (type: string) => {\n  switch (type) {\n    case 'image/jpeg':\n    case 'image/png':\n    case 'image/tiff':\n      return JpgSolid;\n    case 'application/pdf':\n      return FilePDFSolid;\n    case 'application/vnd.ms-powerpoint':\n    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n      return FilePPTSolid;\n    case 'application/vnd.ms-excel':\n    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n      return FileXLSSolid;\n    case 'application/msword':\n    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n      return FileWordSolid;\n    default:\n      return DocsSolid;\n  }\n};\n\nconst getFormat = (type: string) => {\n  switch (type) {\n    case 'image/jpeg':\n      return 'JPEG';\n    case 'image/png':\n      return 'PNG';\n    case 'image/tiff':\n      return 'TIFF';\n    case 'application/pdf':\n      return 'PDF';\n    case 'application/vnd.ms-powerpoint':\n    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n      return 'PPT';\n    case 'application/vnd.ms-excel':\n    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n      return 'XLS';\n    case 'application/msword':\n    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n      return 'Word';\n    default:\n      return 'Docs';\n  }\n};\n\nconst Container = styled.div<{ dimension?: Dimension }>`\n  display: flex;\n  flex-direction: column;\n  flex: ${(p) => (p.dimension === 'xl' ? '1 1 36%' : '1 1 auto')};\n  margin-top: 16px;\n  overflow: hidden;\n\n  &:nth-of-type(even) {\n    margin-left: ${(p) => (p.dimension === 'xl' ? '16px' : '0')};\n  }\n`;\n\nconst statusMixin = css<{ status?: Status }>`\n  border-color: ${(p) => {\n    if (p.status === 'Error') return p.theme.color.status.danger;\n    return p.theme.color.basic.disable;\n  }};\n  color: ${(p) => (p.status === 'Queue' ? p.theme.color.text.tertiary : p.theme.color.text.primary)};\n  background: ${(p) =>\n    p.status === 'Loading' ? p.theme.color.background.secondary : p.theme.color.background.primary};\n`;\n\nconst PreviewWrapper = styled.div<{ dimension?: Dimension; fileDimension?: Dimension; status?: Status }>`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 4px;\n  border-width: 1px;\n  border-style: solid;\n  padding: ${(p) => (p.fileDimension === 'xl' ? '7px 8px' : '7px 15px')};\n  ${statusMixin};\n`;\n\nconst InfoBlock = styled.div<{ dimension?: Dimension }>`\n  display: ${(p) => (p.dimension === 'm' ? 'block' : 'flex')};\n  align-items: center;\n  overflow: hidden;\n`;\n\nconst ImagePreview = styled.div`\n  min-width: 40px;\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  margin-right: 8px;\n  overflow: hidden;\n\n  > img {\n    height: 100%;\n    width: 100%;\n  }\n`;\n\nconst IconWrapper = styled.div<{ status?: Status }>`\n  margin-right: 8px;\n  border-radius: 4px;\n\n  & svg {\n    width: 40px;\n    height: 40px;\n    fill: ${(p) => {\n      if (p.status === 'Loading') return p.theme.color.text.secondary;\n      if (p.status === 'Queue') return p.theme.color.text.tertiary;\n      return p.theme.color.text.primary;\n    }};\n  }\n`;\n\nconst sizeMixin = css`\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Content = styled.div<{ fileDimension?: Dimension }>`\n  ${(p) => p.fileDimension === 'm' && sizeMixin};\n  display: flex;\n  flex-direction: ${(p) => (p.fileDimension === 'm' ? 'row' : 'column')};\n  min-width: 0;\n`;\n\nconst Title = styled.div`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`;\n\nconst Size = styled.span<{ fileDimension?: Dimension; status?: Status }>`\n  color: ${(p) => (p.status === 'Queue' ? p.theme.color.text.tertiary : p.theme.color.text.secondary)};\n  margin-left: ${(p) => (p.fileDimension === 'xl' ? '0' : '4px')};\n  white-space: nowrap;\n`;\n\nconst FunctionalWrapper = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  margin-left: 8px;\n`;\n\nconst StyledSpinner = styled(Spinner)`\n  margin-right: 8px;\n`;\n\nconst Close = styled.div`\n  cursor: pointer;\n  display: flex;\n\n  & svg {\n    width: 24px;\n    height: 24px;\n    fill: ${(p) => p.theme.color.basic.tertiary};\n  }\n\n  & svg:hover {\n    fill: ${(p) => p.theme.color.basic.hover};\n  }\n`;\n\nexport const FileInfo = ({\n  file,\n  onCloseClick = () => undefined,\n  dimension,\n  fileDimension,\n  children,\n  ...props\n}: FilePreviewProps) => {\n  const {\n    file: { type, name, size },\n    status,\n    error,\n    showPreview,\n  } = file;\n  const PreviewIcon = getIcon(type);\n  const fileFormat = getFormat(type);\n  const fileSize = formatBytes(size);\n  const fileName = name.substring(0, name.lastIndexOf('.'));\n  const [imageSrc, setImageSrc] = React.useState('');\n  const imageFile = showPreview && type.startsWith('image');\n  const fileInfo = `${fileFormat}・${fileSize} Mb`;\n\n  const getImageUrl = (file: FileProps) => {\n    const reader = new FileReader();\n    reader.onloadend = function () {\n      if (typeof reader.result === 'string') {\n        setImageSrc(reader.result);\n      }\n    };\n    if (file) {\n      reader.readAsDataURL(file.file);\n    } else {\n      setImageSrc('');\n    }\n  };\n\n  useEffect(() => {\n    if (file && imageFile && !children) {\n      getImageUrl(file);\n    }\n  }, [file]);\n\n  return (\n    <Container dimension={dimension}>\n      <PreviewWrapper {...props} dimension={dimension} fileDimension={fileDimension} status={status}>\n        {children ? (\n          children\n        ) : (\n          <InfoBlock dimension={dimension}>\n            {fileDimension === 'xl' &&\n              (imageFile ? (\n                <ImagePreview>\n                  <img src={imageSrc} alt={''} />\n                </ImagePreview>\n              ) : (\n                <IconWrapper status={status}>\n                  <PreviewIcon />\n                </IconWrapper>\n              ))}\n            <Content fileDimension={fileDimension}>\n              <Tooltip renderContent={() => `${fileName}`}>\n                <Title>{fileName}</Title>\n              </Tooltip>\n              <Size fileDimension={fileDimension} status={status}>\n                {fileInfo}\n              </Size>\n            </Content>\n          </InfoBlock>\n        )}\n        <FunctionalWrapper>\n          {status === 'Loading' && <StyledSpinner />}\n          {dataTransferConstructorSupported() && (\n            <Close onClick={onCloseClick}>\n              <CloseOutline />\n            </Close>\n          )}\n        </FunctionalWrapper>\n      </PreviewWrapper>\n      {error && status === 'Error' && <ErrorBlock status={status}>{error}</ErrorBlock>}\n    </Container>\n  );\n};\n","import { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { FileInfo, FileProps } from './FileInfo';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as AttachFileOutline } from '@openvtb/admiral-icons/build/system/AttachFileOutline.svg';\nimport * as React from 'react';\nimport { InputHTMLAttributes, ReactNode } from 'react';\nimport styled, { css } from 'styled-components';\nimport { acceptFile, Dimension } from './utils';\n\nexport * from './FileInfo';\n\nexport interface FileUploaderProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'title'> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Размер компонента загруженного файла */\n  fileDimension?: Dimension;\n  /** Текст для лейбла компонента */\n  title?: React.ReactNode;\n  /** Текст для кнопки */\n  description?: React.ReactNode;\n  /** Строка принимаемых типов файлов разделенных запятой.\n   *  Например \".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n   *  {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept}\n   *  */\n  accept?: string;\n  /** Список файлов */\n  uploadedFiles?: FileProps[];\n  /** Обработчик удаления файла */\n  onRemoveFile?: (index: number) => void;\n  /** Функция, возвращающая компонент с кастомным списком файлов */\n  renderFileInfoList?: (files: FileProps[]) => ReactNode;\n  /** Кастомные элементы содержимого компонента */\n  children?: ReactNode;\n}\n\nconst Icon = styled(AttachFileOutline)<{ dimension?: Dimension }>`\n  height: ${(p) => (p.dimension === 'xl' ? '40px' : '24px')};\n  width: ${(p) => (p.dimension === 'xl' ? '40px' : '24px')};\n  margin-right: ${(p) => (p.dimension === 'm' ? '14px' : '')};\n  margin-bottom: ${(p) => (p.dimension === 'xl' ? '14px' : '')};\n\n  > * {\n    fill: ${(p) => p.theme.color.basic.primary};\n  }\n`;\n\nconst disabledStyles = css`\n  border: ${(p) => `1px dashed ${p.theme.color.basic.disable}`};\n\n  & svg {\n    > * {\n      fill: ${(p) => p.theme.color.basic.disable};\n    }\n  }\n`;\n\nconst hoverStyles = css`\n  &:hover {\n    cursor: pointer;\n    border: 1px dashed ${(p) => p.theme.color.basic.hover};\n    background: ${(p) => p.theme.color.background.secondary};\n\n    & svg {\n      > * {\n        fill: ${(p) => p.theme.color.basic.hover};\n      }\n    }\n  }\n`;\n\nconst CustomWrapper = styled.div`\n  position: relative;\n`;\n\nconst UploaderWrapperXL = styled.div<{ disabled?: boolean }>`\n  position: relative;\n  display: flex;\n  box-sizing: border-box;\n  align-items: center;\n  flex-direction: column;\n  padding: 24px 0;\n  border: ${(p) => `1px dashed ${p.theme.color.text.secondary}`};\n  border-radius: 8px;\n  pointer-events: ${({ disabled }) => (disabled ? 'none' : 'all')};\n  cursor: ${(p) => (p.disabled ? 'not-allowed' : 'default')};\n  ${(p) => (p.disabled ? disabledStyles : hoverStyles)};\n`;\n\nconst UploaderWrapperM = styled.div<{ disabled?: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  padding: 8px 0;\n  border: ${(p) => `1px dashed ${p.theme.color.text.secondary}`};\n  border-radius: 8px;\n  cursor: ${(p) => (p.disabled ? 'not-allowed' : 'default')};\n  ${(p) => (p.disabled ? disabledStyles : hoverStyles)};\n`;\n\nconst TitleText = styled.div<{ dimension?: Dimension; disabled?: boolean }>`\n  text-align: ${(p) => (p.dimension === 'xl' ? 'center' : 'start')};\n  margin: 0 ${(p) => (p.dimension === 'xl' ? '24px' : '')};\n  margin-bottom: ${(p) => (p.dimension === 'm' ? '16px' : '0px')};\n  max-width: 100%;\n  ${typography['Body/Body 2 Long']}\n  color: ${(p) => p.disabled && p.theme.color.basic.disable};\n`;\n\nconst Desc = styled.div<{ disabled?: boolean }>`\n  ${typography['Body/Body 1 Long']};\n  color: ${(p) => p.disabled && p.theme.color.basic.disable};\n`;\n\nconst FileInput = styled.input`\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Wrapper = styled.div`\n  ${typography['Body/Body 2 Long']};\n`;\n\nconst FileWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nexport const FileUploader = React.forwardRef<HTMLInputElement, FileUploaderProps>(\n  (\n    {\n      multiple = true,\n      dimension = 'xl',\n      fileDimension = 'xl',\n      renderFileInfoList: r,\n      disabled,\n      title,\n      description,\n      children,\n      uploadedFiles,\n      style,\n      className,\n      onRemoveFile,\n      ...props\n    },\n    ref,\n  ) => {\n    const wrapperRef = React.useRef<HTMLDivElement>(null);\n    const inputRef = React.useRef<HTMLInputElement>(null);\n    const [files, setFiles] = React.useState<FileProps[] | undefined>(uploadedFiles);\n    const previewProps = { dimension, fileDimension };\n\n    React.useEffect(() => {\n      if (uploadedFiles !== undefined) {\n        setFiles(uploadedFiles);\n      }\n    }, [uploadedFiles]);\n\n    React.useEffect(() => {\n      function onChangeEventHandler(this: HTMLInputElement) {\n        const filesToAdd = Array.from(this.files || [])\n          .filter((file) => !props.accept || acceptFile(file, props.accept))\n          .map((file) => ({ file }));\n\n        const dt = new DataTransfer();\n        filesToAdd.forEach(({ file }) => dt.items.add(file));\n        this.files = dt.files;\n        setFiles(filesToAdd);\n      }\n\n      const input = inputRef.current;\n\n      if (input) {\n        input.addEventListener('change', onChangeEventHandler, true);\n        return () => input.removeEventListener('change', onChangeEventHandler, true);\n      }\n    }, [inputRef.current, files, props.accept]);\n\n    const handleRemoveFile = (index: number) => {\n      if (inputRef.current && inputRef.current.files) {\n        const files = inputRef.current.files;\n        const dt = new DataTransfer();\n        for (let i = 0; i < files.length; i++) {\n          const file = files.item(i);\n          if (index !== i && file) {\n            dt.items.add(file);\n          }\n        }\n        inputRef.current.files = dt.files;\n        let event;\n        if (typeof Event === 'function') {\n          event = new Event('change', { bubbles: true });\n        } else {\n          event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n        }\n\n        inputRef.current.dispatchEvent(event);\n      }\n      onRemoveFile?.(index);\n    };\n\n    const renderFileInfoList =\n      r ??\n      ((files) =>\n        files.map((file, index) => {\n          return <FileInfo {...previewProps} key={index} file={file} onCloseClick={() => handleRemoveFile(index)} />;\n        }));\n\n    return (\n      <Wrapper ref={wrapperRef} style={style} className={className}>\n        {dimension === 'xl' ? (\n          <>\n            {React.Children.count(children) ? (\n              <CustomWrapper>\n                {children}\n                <FileInput\n                  {...props}\n                  ref={refSetter(ref, inputRef)}\n                  type=\"file\"\n                  multiple={multiple}\n                  disabled={disabled}\n                />\n              </CustomWrapper>\n            ) : (\n              <UploaderWrapperXL disabled={disabled}>\n                <Icon dimension={dimension} />\n                {title && <TitleText dimension={dimension} disabled={disabled} children={title} />}\n                <FileInput\n                  {...props}\n                  ref={refSetter(ref, inputRef)}\n                  type=\"file\"\n                  multiple={multiple}\n                  disabled={disabled}\n                />\n              </UploaderWrapperXL>\n            )}\n            {files && <FileWrapper>{renderFileInfoList(files)}</FileWrapper>}\n          </>\n        ) : (\n          <>\n            {React.Children.count(children) ? (\n              <CustomWrapper>\n                {children}\n                <FileInput\n                  {...props}\n                  ref={refSetter(ref, inputRef)}\n                  type=\"file\"\n                  multiple={multiple}\n                  disabled={disabled}\n                />\n              </CustomWrapper>\n            ) : (\n              <>\n                {title && <TitleText dimension={dimension} disabled={disabled} children={title} />}\n                <UploaderWrapperM disabled={disabled}>\n                  <Icon dimension={dimension} />\n                  {description && <Desc disabled={disabled}>{description}</Desc>}\n                  <FileInput\n                    {...props}\n                    ref={refSetter(ref, inputRef)}\n                    type=\"file\"\n                    multiple={multiple}\n                    disabled={disabled}\n                  />\n                </UploaderWrapperM>\n              </>\n            )}\n            {files && <FileWrapper>{renderFileInfoList(files)}</FileWrapper>}\n          </>\n        )}\n      </Wrapper>\n    );\n  },\n);\n\nFileUploader.displayName = 'FileUploader';\n","export type NumberRange = [number, number];\n\nexport const calcValueByPos = (\n  /** Ширина всего компонента (количество пикселей) */\n  trackWidth: number,\n  /** На каком расстояниии от начала trackа находится слайдер (количество пикселей) */\n  sliderPosition: number,\n  /** Минимальное значение диапазона */\n  minValue: number,\n  /** Максимальное значение диапазона */\n  maxValue: number,\n  /** Шаг */\n  step: number,\n) => {\n  const onePixelVal = trackWidth ? (maxValue - minValue) / trackWidth : 0;\n\n  let sliderValue = sliderPosition * onePixelVal;\n\n  if (!step || step >= 1) {\n    sliderValue = Math.round(sliderValue);\n  }\n  let calcValue = minValue + sliderValue;\n\n  if (step) {\n    calcValue = Math.round(calcValue / step) * step;\n  }\n  return calcValue;\n};\n\nexport const sortNum = (arr: NumberRange): NumberRange => (arr[0] > arr[1] ? [arr[1], arr[0]] : arr);\n","import styled from 'styled-components';\n\nconst TRANSITION_ANIMATION = 'all  ease-in 0.3s';\n\nexport const Wrapper = styled.div`\n  position: relative;\n  -webkit-tap-highlight-color: transparent;\n`;\n\nexport const TrackWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  height: 24px;\n  [data-dimension='s'] & {\n    height: 20px;\n  }\n  [data-disabled='true'] && {\n    cursor: auto;\n  }\n`;\n\nexport const Track = styled.div`\n  height: 2px;\n  background: ${({ theme }) => theme.color.background.tertiary};\n  [data-disabled='true'] && {\n    background: ${({ theme }) => theme.color.background.tertiary};\n  }\n  width: 100%;\n`;\n\nexport const DefaultTrack = styled.div`\n  height: 2px;\n  transform: translateY(-50%);\n`;\n\nexport const FilledTrack = styled.div<{ animation?: boolean }>`\n  display: block;\n  [data-disabled='true'] && {\n    background: ${({ theme }) => theme.color.basic.disable};\n  }\n  position: absolute;\n  height: 2px;\n  left: 0%;\n  background-color: ${({ theme }) => theme.color.basic.primary};\n  transition: ${({ animation }) => (animation ? TRANSITION_ANIMATION : 'none')};\n`;\n\nexport const Thumb = styled.div<{ animation?: boolean }>`\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  [data-dimension='s'] && {\n    height: 16px;\n    width: 16px;\n  }\n  align-items: center;\n  justify-content: center;\n  transform: translateX(-50%) translateY(-50%);\n  border-radius: 50%;\n  top: 2px;\n  transition: ${({ animation }) => (animation ? TRANSITION_ANIMATION : 'none')};\n`;\n\nexport const ThumbCircle = styled.div`\n  position: relative;\n  height: 20px;\n  width: 20px;\n  background: ${({ theme }) => theme.color.basic.primary};\n  border-radius: 50%;\n  &:before {\n    position: absolute;\n    content: '';\n    height: 8px;\n    width: 8px;\n    background: ${({ theme }) => theme.color.background.primary};\n    top: 6px;\n    bottom: 6px;\n    left: 6px;\n    right: 6px;\n    border-radius: 50%;\n  }\n  [data-dimension='s'] && {\n    height: 16px;\n    width: 16px;\n    &:before {\n      height: 6px;\n      width: 6px;\n      top: 5px;\n      bottom: 5px;\n      left: 5px;\n      right: 5px;\n    }\n  }\n  &:hover {\n    background: ${({ theme }) => theme.color.basic.hover};\n  }\n  &:active {\n    background: ${({ theme }) => theme.color.basic.press};\n  }\n\n  [data-disabled='true'] && {\n    background: ${({ theme }) => theme.color.basic.disable};\n    pointer-events: none;\n    &:hover,\n    &:active {\n      background: ${({ theme }) => theme.color.basic.disable};\n    }\n  }\n`;\n","import * as React from 'react';\nimport { throttle } from '#ui-kit3/components/common/utils/throttle';\n\nimport { calcValueByPos, sortNum } from './utils';\nimport type { NumberRange } from './utils';\nimport { Wrapper, TrackWrapper, Track, DefaultTrack, FilledTrack, Thumb, ThumbCircle } from './style';\n\nexport interface RangeProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Значение компонента */\n  value: NumberRange;\n  /** Коллбек на изменение состояния */\n  onChange?: (event: any, value: NumberRange) => void;\n  /** Минимальное значение */\n  minValue?: number;\n  /** Максимальное значение */\n  maxValue?: number;\n  /** Шаг слайдера */\n  step?: number;\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Размер компонента */\n  dimension?: 'm' | 's';\n}\n\nexport const Range = ({\n  minValue = 0,\n  maxValue = 20,\n  value = [minValue, maxValue],\n  onChange,\n  disabled = false,\n  step = 1,\n  dimension = 'm',\n  ...props\n}: RangeProps) => {\n  const SLIDER_WIDTH = dimension === 'm' ? 20 : 16;\n\n  const [isDraging, setDrag] = React.useState(false);\n  const [isDraging2, setDrag2] = React.useState(false);\n  const [animation, setAnimation] = React.useState(true);\n  const filledRef: React.MutableRefObject<HTMLDivElement | null> = React.useRef(null);\n  const trackRef: React.MutableRefObject<HTMLDivElement | null> = React.useRef(null);\n  const sliderRef: React.MutableRefObject<HTMLDivElement | null> = React.useRef(null);\n  const slider2Ref: React.MutableRefObject<HTMLDivElement | null> = React.useRef(null);\n\n  const test = (): NumberRange => {\n    if (sliderRef.current && slider2Ref.current) {\n      if (sliderRef.current.offsetLeft <= slider2Ref.current.offsetLeft) {\n        return value;\n      } else {\n        return [value[1], value[0]];\n      }\n    }\n    return value;\n  };\n  const [sliderValue, setSliderValue] = React.useState<NumberRange>([minValue, maxValue]);\n\n  React.useLayoutEffect(() => {\n    const res = sortNum(sliderValue);\n    if (value[0] !== res[0] || value[1] !== res[1]) {\n      setSliderValue(test());\n      correctSliderPosition(test(), 'both');\n    }\n  }, [value]);\n\n  React.useEffect(() => {\n    correctSliderPosition(sliderValue, 'both');\n  }, [sliderValue, minValue, maxValue]);\n\n  const [moveListener, freeResources] = throttle((e: any) => {\n    updateSlider(e);\n  }, 50);\n\n  React.useEffect(() => {\n    if ((isDraging || isDraging2) && !disabled) {\n      document.addEventListener('mousemove', moveListener);\n      document.addEventListener('mouseup', handleSliderMouseUp);\n      document.addEventListener('touchmove', moveListener);\n      document.addEventListener('touchend', handleSliderMouseUp);\n      document.addEventListener('touchcancel', handleSliderMouseUp);\n    }\n    return () => {\n      freeResources();\n      document.removeEventListener('mousemove', moveListener);\n      document.removeEventListener('mouseup', handleSliderMouseUp);\n      document.removeEventListener('touchmove', moveListener);\n      document.removeEventListener('touchend', handleSliderMouseUp);\n      document.removeEventListener('touchcancel', handleSliderMouseUp);\n    };\n  });\n  const getRangeWidth = () => trackRef.current?.offsetWidth || 0;\n  const getSliderPosition = (type: 'first' | 'second') => {\n    const rangeLeft = trackRef.current?.getBoundingClientRect().left || 0;\n    const sliderPosition =\n      rangeLeft && sliderRef.current\n        ? Math.round(sliderRef.current.getBoundingClientRect().left - rangeLeft + SLIDER_WIDTH / 2)\n        : 0;\n    const slider2Position =\n      rangeLeft && slider2Ref.current\n        ? Math.round(slider2Ref.current.getBoundingClientRect().left - rangeLeft + SLIDER_WIDTH / 2)\n        : 0;\n    return type === 'first' ? sliderPosition : slider2Position;\n  };\n\n  const slideValue = React.useCallback(\n    (trackWidth: number, e: any) => {\n      const first = calcValueByPos(trackWidth, getSliderPosition('first'), minValue, maxValue, step);\n      const second = calcValueByPos(trackWidth, getSliderPosition('second'), minValue, maxValue, step);\n      const calcValue = isDraging ? first : second;\n\n      const newValue: NumberRange = isDraging ? [calcValue, second] : [first, calcValue];\n\n      sortNum(newValue) !== value && onChange?.(e, sortNum(newValue));\n      setSliderValue(newValue);\n    },\n    [maxValue, minValue, onChange, step, isDraging],\n  );\n\n  const setFilled = () => {\n    if (slider2Ref.current && sliderRef.current && filledRef.current) {\n      if (sliderRef.current.offsetLeft <= slider2Ref.current.offsetLeft) {\n        filledRef.current.style.left = sliderRef.current.style.left;\n        filledRef.current.style.right = `${100 - parseInt(slider2Ref.current.style.left)}%`;\n      } else {\n        filledRef.current.style.left = slider2Ref.current.style.left;\n        filledRef.current.style.right = `${100 - parseInt(sliderRef.current.style.left)}%`;\n      }\n    }\n  };\n\n  const updateSlider = React.useCallback(\n    (e: any) => {\n      setAnimation(false);\n      const rangeWidth = getRangeWidth();\n      const rangeLeft = trackRef.current?.getBoundingClientRect().left || 0;\n\n      if ((isDraging || isDraging2) && rangeLeft) {\n        let cursorPosition = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n        if (cursorPosition <= rangeLeft) {\n          cursorPosition = rangeLeft;\n        }\n        if (cursorPosition >= rangeLeft + rangeWidth) {\n          cursorPosition = rangeLeft + rangeWidth;\n        }\n\n        const getStyle = (cursorPosition: number, rangeLeft: number, rangeWidth: number) =>\n          `${((cursorPosition - rangeLeft) / rangeWidth) * 100}%`;\n\n        if (sliderRef.current && filledRef.current && isDraging) {\n          sliderRef.current.style.left = getStyle(cursorPosition, rangeLeft, rangeWidth);\n          setFilled();\n        } else if (slider2Ref.current && filledRef.current && isDraging2) {\n          slider2Ref.current.style.left = getStyle(cursorPosition, rangeLeft, rangeWidth);\n          setFilled();\n        }\n      }\n      slideValue(rangeWidth, e);\n    },\n    [slideValue, isDraging, isDraging2],\n  );\n\n  const correctSliderPosition = React.useCallback(\n    (value: [number, number], slider: 'first' | 'second' | 'both') => {\n      const rangeWidth = getRangeWidth();\n\n      const onePxValue = rangeWidth ? rangeWidth / (maxValue - minValue) : 0;\n\n      if (slider === 'first' || slider === 'both') {\n        const correctValue1 = value[0] >= 0 ? value[0] - minValue : -minValue + value[0];\n\n        let calcPercents1: number = ((onePxValue * correctValue1) / rangeWidth) * 100;\n        calcPercents1 = calcPercents1 > 100 ? 100 : calcPercents1;\n        calcPercents1 = calcPercents1 < 0 ? 0 : calcPercents1;\n\n        const sliderCoords1 = String(value) ? calcPercents1 : 0;\n\n        if (sliderRef.current && filledRef.current) {\n          sliderRef.current.style.left = `${sliderCoords1}%`;\n        }\n      }\n\n      if (slider === 'second' || slider === 'both') {\n        const correctValue2 = value[1] >= 0 ? value[1] - minValue : -minValue + value[1];\n\n        let calcPercents2: number = ((onePxValue * correctValue2) / rangeWidth) * 100;\n        calcPercents2 = calcPercents2 > 100 ? 100 : calcPercents2;\n        calcPercents2 = calcPercents2 < 0 ? 0 : calcPercents2;\n\n        const sliderCoords2 = String(value) ? calcPercents2 : 0;\n\n        if (slider2Ref.current && filledRef.current) {\n          slider2Ref.current.style.left = `${sliderCoords2}%`;\n        }\n      }\n      setFilled();\n\n      return setSliderValue(value);\n    },\n    [maxValue, minValue],\n  );\n\n  const onSliderClick = React.useCallback(\n    (e: any, slider: 'first' | 'second') => {\n      if (e.type === 'mousedown') e.preventDefault();\n      e.stopPropagation();\n      slider === 'first' ? setDrag(true) : setDrag2(true);\n      setAnimation(true);\n    },\n    [updateSlider, setDrag, setDrag2],\n  );\n\n  const handleSliderMouseUp = React.useCallback(\n    (e: any) => {\n      if (e.type === 'mouseup') e.preventDefault();\n      e.stopPropagation();\n      setAnimation(true);\n      setDrag(false);\n      setDrag2(false);\n      onChange?.(e, sortNum(sliderValue));\n    },\n    [onChange, maxValue, minValue, sliderValue],\n  );\n\n  const onTrackClick = React.useCallback(\n    (e: any) => {\n      if (!disabled) {\n        setAnimation(true);\n\n        const rangeWidth = getRangeWidth();\n        const correctLeft = trackRef.current?.getBoundingClientRect().left || 0;\n        const cursorPosition = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n        const sliderPosition = cursorPosition - correctLeft;\n        const calcValue = calcValueByPos(rangeWidth, sliderPosition, minValue, maxValue, step);\n\n        // calc nearest slider\n        const first = calcValueByPos(rangeWidth, getSliderPosition('first'), minValue, maxValue, step);\n        const second = calcValueByPos(rangeWidth, getSliderPosition('second'), minValue, maxValue, step);\n\n        if (Math.abs(second - calcValue) <= Math.abs(calcValue - first)) {\n          correctSliderPosition([first, calcValue], 'second');\n          onSliderClick(e, 'second');\n        } else {\n          correctSliderPosition([calcValue, second], 'first');\n          onSliderClick(e, 'first');\n        }\n      }\n    },\n    [correctSliderPosition, disabled, onSliderClick, maxValue, minValue, step],\n  );\n\n  return (\n    <Wrapper data-dimension={dimension} data-disabled={disabled} {...props}>\n      <TrackWrapper onTouchStart={onTrackClick} onMouseDown={onTrackClick}>\n        <Track>\n          <FilledTrack ref={filledRef} animation={animation} />\n          <DefaultTrack ref={trackRef}>\n            <Thumb ref={sliderRef} animation={animation}>\n              <ThumbCircle\n                onTouchStart={(e) => onSliderClick(e, 'first')}\n                onMouseDown={(e) => onSliderClick(e, 'first')}\n              />\n            </Thumb>\n            <Thumb ref={slider2Ref} animation={animation}>\n              <ThumbCircle\n                onTouchStart={(e) => onSliderClick(e, 'second')}\n                onMouseDown={(e) => onSliderClick(e, 'second')}\n              />\n            </Thumb>\n          </DefaultTrack>\n        </Track>\n      </TrackWrapper>\n    </Wrapper>\n  );\n};\n\nRange.displayName = 'Range';\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { NumberInput } from '#ui-kit3/components/input/NumberInput';\nimport { Range } from '#ui-kit3/components/Range';\nimport { clearValue, fitToCurrency } from '#ui-kit3/components/input/NumberInput/utils';\nimport type { TextInputProps } from '#ui-kit3/components/input/TextInput';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst InputsWrapper = styled.div`\n  display: flex;\n  margin-bottom: 16px;\n  [data-dimension='s'] & {\n    margin-bottom: 12px;\n  }\n  & > div:first-child {\n    margin-right: 8px;\n  }\n  & > div {\n    width: 100%;\n  }\n`;\n\ntype Dimension = 'xl' | 'm' | 's';\n\nexport interface SliderRangeProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'placeholder' | 'prefix' | 'onChange'> {\n  /** Дефолтное значение компонента - массив из двух строк (значений первого и второго инпутов) */\n  defaultValue?: [string, string];\n  /** Колбек на изменение значений */\n  onChange?: (value: [{ str: string; num: number }, { str: string; num: number }]) => void;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Минимальное значение слайдера */\n  minValue?: number;\n  /** Максимальное значение слайдера */\n  maxValue?: number;\n  /** Шаг слайдера */\n  step?: number;\n  /** точность (количество знаков после точки). Если precision равно 0, то точку ввести нельзя, только целые числа */\n  precision?: number;\n  /** разделитель между тысячами */\n  thousand?: string;\n  /** префикс (строка, которая выводится перед числовым значением) */\n  prefix?: [string, string];\n  /** суффикс (строка, которая выводится после числового значения) */\n  suffix?: string;\n  /** плейсхолдеры инпутов */\n  placeholder?: [string, string];\n  /** Опции, которые можно передать в первый инпут */\n  input1?: Omit<TextInputProps, 'onChange'>;\n  /** Опции, которые можно передать во второй инпут */\n  input2?: Omit<TextInputProps, 'onChange'>;\n  /** Отключение компонента */\n  disabled?: boolean;\n}\n\nexport const SliderRange: React.FC<SliderRangeProps> = ({\n  dimension,\n  minValue = 0,\n  maxValue = 20,\n  step = 1,\n  precision = 0,\n  thousand = ' ',\n  prefix = ['От', 'До'],\n  suffix = '₽',\n  placeholder = [\n    fitToCurrency(String(minValue), precision, '.', thousand, prefix[0], suffix),\n    fitToCurrency(String(maxValue), precision, '.', thousand, prefix[1], suffix),\n  ],\n  defaultValue,\n  onChange,\n  input1: input1Props,\n  input2: input2Props,\n  disabled,\n  ...props\n}) => {\n  const rangeDimension = dimension === 's' ? dimension : 'm';\n\n  const input1Ref = React.useRef<HTMLInputElement>(null);\n  const input2Ref = React.useRef<HTMLInputElement>(null);\n\n  const [input1, setInput1] = React.useState('');\n  const [input2, setInput2] = React.useState('');\n  const [slider1, setSlider1] = React.useState(minValue);\n  const [slider2, setSlider2] = React.useState(maxValue);\n\n  const input1Value = input1;\n  const input2Value = input2;\n\n  const getFull = (str: string | number, prefixNum: number, fillEmptyDecimals?: boolean) =>\n    fitToCurrency(String(str), precision, '.', thousand, prefix[prefixNum], suffix, fillEmptyDecimals);\n\n  React.useEffect(() => {\n    if (defaultValue) {\n      const [defaultInput1, defaultInput2] = defaultValue;\n      const newInput1 = getFull(defaultInput1, 0, true);\n      const newInput2 = getFull(defaultInput2, 1, true);\n      const newSlider1 = Number(clearValue(newInput1, precision));\n      const newSlider2 = Number(clearValue(newInput2, precision));\n      const diff = newSlider2 - newSlider1;\n      if (defaultValue.indexOf('') > -1) {\n        // Если значения инпутов не переданы (value = ['',''] || ['', str] || [str, '']),\n        // то бегунки занимают крайние положения диапазона [minValue, maxValue]\n        setInput1(newInput1);\n        setInput2(newInput2);\n        setSlider1(newInput1 === '' ? minValue : newSlider1);\n        setSlider2(newInput2 === '' ? maxValue : newSlider2);\n      }\n      // проверяем, что соблюдено условие: минимальная разница между значениями равна одной единице (step)\n      else if (diff < step) {\n        // если условие не соблюдено, раздвигаем значения\n        const delta = step - diff;\n        if (newSlider1 - delta > minValue) {\n          const newInput1 = newSlider1 - delta;\n          setInput1(getFull(newInput1, 0, true));\n          setInput2(newInput2);\n          setSlider1(newInput1);\n          setSlider2(newSlider2);\n          onChange?.([\n            { str: getFull(newInput1, 0, true), num: newInput1 },\n            { str: getFull(newInput2, 1, true), num: newSlider2 },\n          ]);\n        } else {\n          const newInput2 = newSlider2 + delta;\n          setInput1(newInput1);\n          setInput2(getFull(newInput2, 1, true));\n          setSlider1(newSlider1);\n          setSlider2(newInput2);\n          onChange?.([\n            { str: getFull(newInput1, 0, true), num: newSlider1 },\n            { str: getFull(newInput2, 1, true), num: newInput2 },\n          ]);\n        }\n      } else {\n        setInput1(newInput1);\n        setInput2(newInput2);\n        setSlider1(newSlider1);\n        setSlider2(newSlider2);\n      }\n    }\n  }, [defaultValue]);\n\n  const handleRangeChange = (event: any, value: [number, number]) => {\n    const [newSlider1, newSlider2] = value;\n    const newInput1 = getFull(newSlider1, 0, true);\n    const newInput2 = getFull(newSlider2, 1, true);\n\n    const slider1Changed = newSlider1 !== slider1;\n    const slider2Changed = newSlider2 !== slider2;\n\n    const diff = newSlider2 - newSlider1;\n\n    if (event.type !== 'mousemove' && event.type !== 'touchmove') {\n      if (diff < step) {\n        const delta = step - diff;\n        if (newSlider1 - delta > minValue) {\n          setInput1(getFull(newSlider1 - delta, 0, true));\n          setSlider1(newSlider1 - delta);\n          slider2Changed && setInput2(newInput2);\n          slider2Changed && setSlider2(newSlider2);\n\n          onChange?.([\n            { str: getFull(newSlider1 - delta, 0, true), num: newSlider1 - delta },\n            { str: slider2Changed ? newInput2 : input2Value, num: slider2Changed ? newSlider2 : slider2 },\n          ]);\n        } else {\n          setInput2(getFull(newSlider2 + delta, 1, true));\n          setSlider2(newSlider2 + delta);\n          slider1Changed && setInput1(newInput1);\n          slider1Changed && setSlider1(newSlider1);\n\n          onChange?.([\n            { str: slider1Changed ? newInput1 : input1Value, num: slider1Changed ? newSlider1 : slider1 },\n            { str: getFull(newSlider2 + delta, 1, true), num: newSlider2 + delta },\n          ]);\n        }\n      } else {\n        slider1Changed && setInput1(newInput1);\n        slider2Changed && setInput2(newInput2);\n        slider1Changed && setSlider1(newSlider1);\n        slider2Changed && setSlider2(newSlider2);\n\n        onChange?.([\n          { str: slider1Changed ? newInput1 : input1Value, num: slider1Changed ? newSlider1 : slider1 },\n          { str: slider2Changed ? newInput2 : input2Value, num: slider2Changed ? newSlider2 : slider2 },\n        ]);\n      }\n    } else {\n      slider1Changed && setInput1(newInput1);\n      slider2Changed && setInput2(newInput2);\n      slider1Changed && setSlider1(newSlider1);\n      slider2Changed && setSlider2(newSlider2);\n    }\n  };\n\n  const handleInput1Blur = () => {\n    const value1Num = Number(clearValue(input1Value, precision) || minValue);\n    const value2Num = Number(clearValue(input2Value, precision) || maxValue);\n    if (value1Num < minValue) {\n      setInput1(getFull(minValue, 0, true));\n      setSlider1(minValue);\n      onChange?.([\n        { str: getFull(minValue, 0, true), num: minValue },\n        { str: input2Value, num: slider2 },\n      ]);\n    } else if (value1Num > value2Num - step) {\n      setInput1(getFull(value2Num - step, 0, true));\n      setSlider1(value2Num - step);\n      onChange?.([\n        { str: getFull(value2Num - step, 0, true), num: value2Num - step },\n        { str: input2Value, num: slider2 },\n      ]);\n    } else {\n      setSlider1(value1Num);\n      onChange?.([\n        { str: input1Value, num: value1Num },\n        { str: input2Value, num: slider2 },\n      ]);\n    }\n  };\n  const handleInput2Blur = () => {\n    const value1Num = Number(clearValue(input1Value, precision) || minValue);\n    const value2Num = Number(clearValue(input2Value, precision) || maxValue);\n    if (value2Num > maxValue) {\n      setInput2(getFull(maxValue, 1, true));\n      setSlider2(maxValue);\n      onChange?.([\n        { str: input1Value, num: slider1 },\n        { str: getFull(maxValue, 1, true), num: maxValue },\n      ]);\n    } else if (value2Num < value1Num + step) {\n      setInput2(getFull(value1Num + step, 1, true));\n      setSlider2(value1Num + step);\n      onChange?.([\n        { str: input1Value, num: slider1 },\n        { str: getFull(value1Num + step, 1, true), num: value1Num + step },\n      ]);\n    } else {\n      setSlider2(value2Num);\n      onChange?.([\n        { str: input1Value, num: slider1 },\n        { str: input2Value, num: value2Num },\n      ]);\n    }\n  };\n  const handleInput1Change = (fullStr: string) => setInput1(fullStr);\n  const handleInput2Change = (fullStr: string) => setInput2(fullStr);\n\n  const inputProps = {\n    dimension,\n    precision,\n    thousand,\n    suffix,\n    disabled,\n    displayPlusMinusIcons: false,\n    step,\n    minValue,\n    maxValue,\n  };\n\n  return (\n    <Wrapper data-dimension={dimension} {...props}>\n      <InputsWrapper>\n        <NumberInput\n          ref={input1Ref}\n          value={input1}\n          prefix={prefix[0]}\n          placeholder={placeholder[0]}\n          onChange={handleInput1Change}\n          onBlur={handleInput1Blur}\n          {...input1Props}\n          {...inputProps}\n        />\n        <NumberInput\n          ref={input2Ref}\n          value={input2}\n          prefix={prefix[1]}\n          placeholder={placeholder[1]}\n          onChange={handleInput2Change}\n          onBlur={handleInput2Blur}\n          {...input2Props}\n          {...inputProps}\n        />\n      </InputsWrapper>\n      <Range\n        value={[slider1, slider2]}\n        onChange={handleRangeChange}\n        minValue={minValue}\n        maxValue={maxValue}\n        step={step}\n        dimension={rangeDimension}\n        disabled={disabled}\n      />\n    </Wrapper>\n  );\n};\n\nSliderRange.displayName = 'SliderRange';\n","import * as React from 'react';\nimport styled, { css, DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components';\nimport { Button } from '#ui-kit3/components/Button';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\n\nimport { ReactComponent as EditSolid } from '@openvtb/admiral-icons/build/system/EditSolid.svg';\nimport { ReactComponent as CheckClearOutline } from '@openvtb/admiral-icons/build/service/CheckClearOutline.svg';\nimport { ReactComponent as CloseOutline } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\n\nimport { TextInput, TextInputProps } from '../TextInput';\n\nconst EditInput = styled(TextInput)`\n  flex: 1 1 auto;\n  & input {\n    [data-dimension='s'] & {\n      ${typography['Body/Body 2 Long']}\n    }\n    [data-dimension='s-bold'] & {\n      ${typography['Subtitle/Subtitle 3']}\n    }\n    [data-dimension='m'] & {\n      ${typography['Body/Body 1 Long']}\n    }\n    [data-dimension='m-bold'] & {\n      ${typography['Subtitle/Subtitle 2']}\n    }\n    [data-dimension='xl'] & {\n      ${typography['Header/H5']}\n    }\n  }\n`;\n\nconst EditButton = styled(Button)`\n  margin-left: 4px;\n  flex-shrink: 0;\n`;\n\nconst iconStyle = css`\n  display: flex;\n  flex-shrink: 0;\n  cursor: pointer;\n`;\n\nconst EditIcon = styled(EditSolid)`\n  ${iconStyle}\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n\n  [data-disabled='true'] & {\n    cursor: default;\n    pointer-events: none;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.disable};\n    }\n  }\n  [data-disabled='false'] & {\n    &:hover {\n      & *[fill^='#'] {\n        fill: ${({ theme }) => theme.color.basic.hover};\n      }\n    }\n  }\n`;\n\nconst CheckIcon = styled(CheckClearOutline)`\n  ${iconStyle}\n`;\nconst ClearIcon = styled(CloseOutline)`\n  ${iconStyle}\n`;\n\nconst Wrapper = styled.div<{ cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>> }>`\n  display: flex;\n  align-items: center;\n  ${({ cssMixin }) => cssMixin || ''}\n`;\n\nconst Text = styled.div`\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-items: center;\n  cursor: text;\n  margin-right: 12px;\n  padding-left: 16px;\n  [data-dimension='s'] & {\n    ${typography['Body/Body 2 Long']}\n    height: 32px;\n    line-height: 32px;\n    padding-left: 12px;\n  }\n  [data-dimension='s-bold'] & {\n    ${typography['Subtitle/Subtitle 3']}\n    height: 32px;\n    line-height: 32px;\n    padding-left: 12px;\n  }\n  [data-dimension='m'] & {\n    ${typography['Body/Body 1 Long']}\n    height: 40px;\n    line-height: 40px;\n  }\n  [data-dimension='m-bold'] & {\n    ${typography['Subtitle/Subtitle 2']}\n    height: 40px;\n    line-height: 40px;\n  }\n  [data-dimension='xl'] & {\n    ${typography['Header/H5']}\n    height: 56px;\n    line-height: 56px;\n  }\n\n  [data-disabled='true'] & {\n    cursor: default;\n    pointer-events: none;\n  }\n  [data-disabled='false'] & {\n    &:hover {\n      & + ${EditIcon} *[fill^='#'] {\n        fill: ${({ theme }) => theme.color.basic.hover};\n      }\n    }\n  }\n`;\n\ntype Dimension = 's' | 'm' | 'xl';\n\nexport interface EditModeProps extends Omit<TextInputProps, 'dimension'> {\n  /** Значение компонента */\n  value: string | number;\n  /** Колбек на изменение значения компонента */\n  onChange: React.ChangeEventHandler<HTMLInputElement>;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Жирное начертание текста. В размере xl оно всегда такое */\n  bold?: boolean;\n  /** Позволяет добавлять миксин на контейнер компонента, созданный с помощью styled css. */\n  containerCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n  /** Колбек на переход в режим редактирования */\n  onEdit?: () => void;\n  /** Колбек на нажатие кнопки подтверждения введенного значения и выхода из режима редактирования */\n  onConfirm?: (value: string) => void;\n  /** Колбек на нажатие кнопки очистки инпута */\n  onClear?: () => void;\n}\n\nexport const EditMode = React.forwardRef<HTMLInputElement, EditModeProps>(\n  (\n    { dimension = 'm', bold = false, containerCssMixin, disabled = false, onEdit, onConfirm, onClear, value, ...props },\n    ref,\n  ) => {\n    const [edit, setEdit] = React.useState(false);\n    const [localVal, setLocalVal] = React.useState(value);\n    const iconSize = dimension === 's' ? 20 : 24;\n    const inputRef = React.useRef<HTMLInputElement>(null);\n\n    React.useEffect(() => {\n      if (!localVal && value) {\n        setLocalVal(value);\n      }\n    }, [value, localVal]);\n    const enableEdit = () => {\n      setEdit(true);\n      onEdit?.();\n    };\n    const disabledEdit = () => {\n      setEdit(false);\n      if (inputRef.current) {\n        onConfirm?.(inputRef.current.value);\n        setLocalVal(inputRef.current.value);\n      }\n    };\n    const handleClear = () => {\n      setEdit(false);\n      if (inputRef.current) {\n        changeInputData(inputRef.current, { value: localVal.toString() });\n        onClear?.();\n      }\n    };\n    return (\n      <Wrapper\n        data-dimension={`${dimension}${bold && dimension !== 'xl' ? '-bold' : ''}`}\n        data-disabled={disabled}\n        cssMixin={containerCssMixin}\n      >\n        {edit ? (\n          !disabled && (\n            <>\n              <EditInput\n                ref={refSetter(ref, inputRef)}\n                autoFocus\n                disabled={disabled}\n                dimension={dimension}\n                value={value}\n                {...props}\n              />\n              <EditButton\n                appearance=\"secondary\"\n                dimension={dimension}\n                displayAsSquare\n                disabled={props.status === 'error'}\n                onClick={disabledEdit}\n              >\n                <CheckIcon height={iconSize} width={iconSize} />\n              </EditButton>\n              <EditButton appearance=\"secondary\" dimension={dimension} displayAsSquare onClick={handleClear}>\n                <ClearIcon height={iconSize} width={iconSize} />\n              </EditButton>\n            </>\n          )\n        ) : (\n          <>\n            <Text onClick={enableEdit}>{value}</Text>\n            <EditIcon height={iconSize} width={iconSize} onClick={enableEdit} />\n          </>\n        )}\n      </Wrapper>\n    );\n  },\n);\n\nEditMode.displayName = 'EditMode';\n","export const COUNTRY_ISO3_CODES = [\n  'AFG',\n  'ALA',\n  'ALB',\n  'DZA',\n  'AND',\n  'AGO',\n  'AIA',\n  'ATG',\n  'ARE',\n  'ARG',\n  'ARM',\n  'ABW',\n  'AUS',\n  'AUT',\n  'AZE',\n  'BHS',\n  'BHR',\n  'BGD',\n  'BRB',\n  'BLR',\n  'BEL',\n  'BLZ',\n  'BEN',\n  'BMU',\n  'BTN',\n  'BOL',\n  'BIH',\n  'BWA',\n  'BRA',\n  'VGB',\n  'BRN',\n  'BGR',\n  'BFA',\n  'BDI',\n  'CPV',\n  'KHM',\n  'CMR',\n  'CAN',\n  'CYM',\n  'CAF',\n  'TCD',\n  'CHL',\n  'CHN',\n  'COL',\n  'COM',\n  'COD',\n  'COG',\n  'CRI',\n  'CIV',\n  'HRV',\n  'CUB',\n  'CYP',\n  'CZE',\n  'DNK',\n  'DJI',\n  'DMA',\n  'DOM',\n  'ECU',\n  'EGY',\n  'SLV',\n  'GNQ',\n  'ERI',\n  'EST',\n  'ETH',\n  'FLK',\n  'FJI',\n  'FIN',\n  'FRA',\n  'GAB',\n  'GMB',\n  'GEO',\n  'DEU',\n  'GHA',\n  'GIB',\n  'GBR',\n  'GRC',\n  'GRD',\n  'GTM',\n  'GGY',\n  'GIN',\n  'GNB',\n  'GUY',\n  'HTI',\n  'HND',\n  'HKG',\n  'HUN',\n  'ISL',\n  'IND',\n  'IDN',\n  'IRN',\n  'IRQ',\n  'IRL',\n  'IMN',\n  'ISR',\n  'ITA',\n  'JAM',\n  'JPN',\n  'JEY',\n  'JOR',\n  'KAZ',\n  'KEN',\n  'PRK',\n  'KOR',\n  'KWT',\n  'KGZ',\n  'LAO',\n  'LVA',\n  'LBN',\n  'LSO',\n  'LBR',\n  'LBY',\n  'LIE',\n  'LTU',\n  'LUX',\n  'MAC',\n  'MKD',\n  'MDG',\n  'MWI',\n  'MYS',\n  'MDV',\n  'MLI',\n  'MLT',\n  'MRT',\n  'MUS',\n  'MEX',\n  'FSM',\n  'MDA',\n  'MCO',\n  'MNG',\n  'MNE',\n  'MSR',\n  'MAR',\n  'MOZ',\n  'MMR',\n  'NAM',\n  'NPL',\n  'NLD',\n  'ANT',\n  'NZL',\n  'NIC',\n  'NER',\n  'NGA',\n  'NOR',\n  'OMN',\n  'PAK',\n  'PLW',\n  'PAN',\n  'PNG',\n  'PRY',\n  'PER',\n  'PHL',\n  'POL',\n  'PYF',\n  'PRT',\n  'PRI',\n  'QAT',\n  'ROU',\n  'RUS',\n  'RWA',\n  'SHN',\n  'KNA',\n  'LCA',\n  'VCT',\n  'WSM',\n  'SMR',\n  'STP',\n  'SAU',\n  'SEN',\n  'SRB',\n  'SYC',\n  'SLE',\n  'SGP',\n  'SVK',\n  'SVN',\n  'SLB',\n  'SOM',\n  'ZAF',\n  'ESP',\n  'LKA',\n  'SDN',\n  'SUR',\n  'SWZ',\n  'SWE',\n  'CHE',\n  'SYR',\n  'TWN',\n  'TJK',\n  'TZA',\n  'THA',\n  'TLS',\n  'TGO',\n  'TON',\n  'TTO',\n  'TUN',\n  'TUR',\n  'TKM',\n  'TCA',\n  'UGA',\n  'UKR',\n  'USA',\n  'URY',\n  'UZB',\n  'VUT',\n  'VEN',\n  'VNM',\n  'YEM',\n  'ZMB',\n  'ZWE',\n];\nconst COUNTRY_NAMES = [\n  'Afghanistan',\n  'AlandIslands',\n  'Albania',\n  'Algeria',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'AntiguaAndBarbuda',\n  'ArabEmirates',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'BosniaAndHerzegovina',\n  'Botswana',\n  'Brazil',\n  'BritishVirginIslands',\n  'Brunei',\n  'Bulgaria',\n  'BurkinaFaso',\n  'Burundi',\n  'CaboVerde',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'CaymanIslands',\n  'CentralAfricanRepublic',\n  'Chad',\n  'Chile',\n  'China',\n  'Colombia',\n  'Comoros',\n  'CongoDemocraticRepublic',\n  'CongoRepublic',\n  'CostaRica',\n  'CoteDIvoire',\n  'Croatia',\n  'Cuba',\n  'Cyprus',\n  'Czechia',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'DominicanRepublic',\n  'Ecuador',\n  'Egypt',\n  'ElSalvador',\n  'EquatorialGuinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'FalklandIslands',\n  'Fiji',\n  'Finland',\n  'France',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'GreatBritain',\n  'Greece',\n  'Grenada',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'GuineaBissau',\n  'Guyana',\n  'Haiti',\n  'Honduras',\n  'HongKong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran',\n  'Iraq',\n  'Ireland',\n  'IsleOfMan',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'KoreaNorth',\n  'KoreaSouth',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Laos',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Mauritania',\n  'Mauritius',\n  'Mexico',\n  'Micronesia',\n  'Moldova',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nepal',\n  'Netherlands',\n  'NetherlandsAntillesCountry',\n  'NewZealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Panama',\n  'PapuaNewGuinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Poland',\n  'PolynesiaFrench',\n  'Portugal',\n  'PuertoRico',\n  'Qatar',\n  'Romania',\n  'Russia',\n  'Rwanda',\n  'SaintHelena',\n  'SaintKittsAndNevis',\n  'SaintLucia',\n  'SaintVincentAndTheGrenadines',\n  'Samoa',\n  'SanMarino',\n  'SaoTomeAndPrincipe',\n  'SaudiArabia',\n  'Senegal',\n  'Serbia',\n  'Seychelles',\n  'SierraLeone',\n  'Singapore',\n  'Slovakia',\n  'Slovenia',\n  'SolomonIslands',\n  'Somalia',\n  'SouthAfrica',\n  'Spain',\n  'SriLanka',\n  'Sudan',\n  'Suriname',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syria',\n  'Taiwan',\n  'Tajikistan',\n  'Tanzania',\n  'Thailand',\n  'TimorLeste',\n  'Togo',\n  'Tonga',\n  'TrinidadAndTobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'TurksAndCaicosIslands',\n  'Uganda',\n  'Ukraine',\n  'UnitedStatesOfAmerica',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Vietnam',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n] as const;\n\nexport type CountryName = typeof COUNTRY_NAMES[number];\nexport type CountryIso3Code = typeof COUNTRY_ISO3_CODES[number];\n\nexport const CountryNames: { [key in CountryIso3Code]: CountryName } = {\n  AFG: 'Afghanistan',\n  ALA: 'AlandIslands',\n  ALB: 'Albania',\n  DZA: 'Algeria',\n  AND: 'Andorra',\n  AGO: 'Angola',\n  AIA: 'Anguilla',\n  ATG: 'AntiguaAndBarbuda',\n  ARE: 'ArabEmirates',\n  ARG: 'Argentina',\n  ARM: 'Armenia',\n  ABW: 'Aruba',\n  AUS: 'Australia',\n  AUT: 'Austria',\n  AZE: 'Azerbaijan',\n  BHS: 'Bahamas',\n  BHR: 'Bahrain',\n  BGD: 'Bangladesh',\n  BRB: 'Barbados',\n  BLR: 'Belarus',\n  BEL: 'Belgium',\n  BLZ: 'Belize',\n  BEN: 'Benin',\n  BMU: 'Bermuda',\n  BTN: 'Bhutan',\n  BOL: 'Bolivia',\n  BIH: 'BosniaAndHerzegovina',\n  BWA: 'Botswana',\n  BRA: 'Brazil',\n  VGB: 'BritishVirginIslands',\n  BRN: 'Brunei',\n  BGR: 'Bulgaria',\n  BFA: 'BurkinaFaso',\n  BDI: 'Burundi',\n  CPV: 'CaboVerde',\n  KHM: 'Cambodia',\n  CMR: 'Cameroon',\n  CAN: 'Canada',\n  CYM: 'CaymanIslands',\n  CAF: 'CentralAfricanRepublic',\n  TCD: 'Chad',\n  CHL: 'Chile',\n  CHN: 'China',\n  COL: 'Colombia',\n  COM: 'Comoros',\n  COD: 'CongoDemocraticRepublic',\n  COG: 'CongoRepublic',\n  CRI: 'CostaRica',\n  CIV: 'CoteDIvoire',\n  HRV: 'Croatia',\n  CUB: 'Cuba',\n  CYP: 'Cyprus',\n  CZE: 'Czechia',\n  DNK: 'Denmark',\n  DJI: 'Djibouti',\n  DMA: 'Dominica',\n  DOM: 'DominicanRepublic',\n  ECU: 'Ecuador',\n  EGY: 'Egypt',\n  SLV: 'ElSalvador',\n  GNQ: 'EquatorialGuinea',\n  ERI: 'Eritrea',\n  EST: 'Estonia',\n  ETH: 'Ethiopia',\n  FLK: 'FalklandIslands',\n  FJI: 'Fiji',\n  FIN: 'Finland',\n  FRA: 'France',\n  GAB: 'Gabon',\n  GMB: 'Gambia',\n  GEO: 'Georgia',\n  DEU: 'Germany',\n  GHA: 'Ghana',\n  GIB: 'Gibraltar',\n  GBR: 'GreatBritain',\n  GRC: 'Greece',\n  GRD: 'Grenada',\n  GTM: 'Guatemala',\n  GGY: 'Guernsey',\n  GIN: 'Guinea',\n  GNB: 'GuineaBissau',\n  GUY: 'Guyana',\n  HTI: 'Haiti',\n  HND: 'Honduras',\n  HKG: 'HongKong',\n  HUN: 'Hungary',\n  ISL: 'Iceland',\n  IND: 'India',\n  IDN: 'Indonesia',\n  IRN: 'Iran',\n  IRQ: 'Iraq',\n  IRL: 'Ireland',\n  IMN: 'IsleOfMan',\n  ISR: 'Israel',\n  ITA: 'Italy',\n  JAM: 'Jamaica',\n  JPN: 'Japan',\n  JEY: 'Jersey',\n  JOR: 'Jordan',\n  KAZ: 'Kazakhstan',\n  KEN: 'Kenya',\n  PRK: 'KoreaNorth',\n  KOR: 'KoreaSouth',\n  KWT: 'Kuwait',\n  KGZ: 'Kyrgyzstan',\n  LAO: 'Laos',\n  LVA: 'Latvia',\n  LBN: 'Lebanon',\n  LSO: 'Lesotho',\n  LBR: 'Liberia',\n  LBY: 'Libya',\n  LIE: 'Liechtenstein',\n  LTU: 'Lithuania',\n  LUX: 'Luxembourg',\n  MAC: 'Macao',\n  MKD: 'Macedonia',\n  MDG: 'Madagascar',\n  MWI: 'Malawi',\n  MYS: 'Malaysia',\n  MDV: 'Maldives',\n  MLI: 'Mali',\n  MLT: 'Malta',\n  MRT: 'Mauritania',\n  MUS: 'Mauritius',\n  MEX: 'Mexico',\n  FSM: 'Micronesia',\n  MDA: 'Moldova',\n  MCO: 'Monaco',\n  MNG: 'Mongolia',\n  MNE: 'Montenegro',\n  MSR: 'Montserrat',\n  MAR: 'Morocco',\n  MOZ: 'Mozambique',\n  MMR: 'Myanmar',\n  NAM: 'Namibia',\n  NPL: 'Nepal',\n  NLD: 'Netherlands',\n  ANT: 'NetherlandsAntillesCountry',\n  NZL: 'NewZealand',\n  NIC: 'Nicaragua',\n  NER: 'Niger',\n  NGA: 'Nigeria',\n  NOR: 'Norway',\n  OMN: 'Oman',\n  PAK: 'Pakistan',\n  PLW: 'Palau',\n  PAN: 'Panama',\n  PNG: 'PapuaNewGuinea',\n  PRY: 'Paraguay',\n  PER: 'Peru',\n  PHL: 'Philippines',\n  POL: 'Poland',\n  PYF: 'PolynesiaFrench',\n  PRT: 'Portugal',\n  PRI: 'PuertoRico',\n  QAT: 'Qatar',\n  ROU: 'Romania',\n  RUS: 'Russia',\n  RWA: 'Rwanda',\n  SHN: 'SaintHelena',\n  KNA: 'SaintKittsAndNevis',\n  LCA: 'SaintLucia',\n  VCT: 'SaintVincentAndTheGrenadines',\n  WSM: 'Samoa',\n  SMR: 'SanMarino',\n  STP: 'SaoTomeAndPrincipe',\n  SAU: 'SaudiArabia',\n  SEN: 'Senegal',\n  SRB: 'Serbia',\n  SYC: 'Seychelles',\n  SLE: 'SierraLeone',\n  SGP: 'Singapore',\n  SVK: 'Slovakia',\n  SVN: 'Slovenia',\n  SLB: 'SolomonIslands',\n  SOM: 'Somalia',\n  ZAF: 'SouthAfrica',\n  ESP: 'Spain',\n  LKA: 'SriLanka',\n  SDN: 'Sudan',\n  SUR: 'Suriname',\n  SWZ: 'Swaziland',\n  SWE: 'Sweden',\n  CHE: 'Switzerland',\n  SYR: 'Syria',\n  TWN: 'Taiwan',\n  TJK: 'Tajikistan',\n  TZA: 'Tanzania',\n  THA: 'Thailand',\n  TLS: 'TimorLeste',\n  TGO: 'Togo',\n  TON: 'Tonga',\n  TTO: 'TrinidadAndTobago',\n  TUN: 'Tunisia',\n  TUR: 'Turkey',\n  TKM: 'Turkmenistan',\n  TCA: 'TurksAndCaicosIslands',\n  UGA: 'Uganda',\n  UKR: 'Ukraine',\n  USA: 'UnitedStatesOfAmerica',\n  URY: 'Uruguay',\n  UZB: 'Uzbekistan',\n  VUT: 'Vanuatu',\n  VEN: 'Venezuela',\n  VNM: 'Vietnam',\n  YEM: 'Yemen',\n  ZMB: 'Zambia',\n  ZWE: 'Zimbabwe',\n};\n\nexport const CountryRusNames: { [key in CountryIso3Code]: string } = {\n  AFG: 'Афганистан',\n  ALA: 'Аландские острова',\n  ALB: 'Албания',\n  DZA: 'Алжир',\n  AND: 'Андорра',\n  AGO: 'Ангола',\n  AIA: 'Ангилья',\n  ATG: 'Антигуа и Барбуда',\n  ARE: 'Объединенные Арабские Эмираты',\n  ARG: 'Аргентина',\n  ARM: 'Армения',\n  ABW: 'Аруба',\n  AUS: 'Австралия',\n  AUT: 'Австрия',\n  AZE: 'Азербайджан',\n  BHS: 'Багамские острова',\n  BHR: 'Бахрейн',\n  BGD: 'Бангладеш',\n  BRB: 'Барбадос',\n  BLR: 'Белоруссия',\n  BEL: 'Бельгия',\n  BLZ: 'Белиз',\n  BEN: 'Бенин',\n  BMU: 'Бермудские острова',\n  BTN: 'Бутан',\n  BOL: 'Боливия',\n  BIH: 'Босния и Герцеговина',\n  BWA: 'Ботсвана',\n  BRA: 'Бразилия',\n  VGB: 'Британские Виргинские Острова',\n  BRN: 'Бруней',\n  BGR: 'Болгария',\n  BFA: 'Буркина-Фасо',\n  BDI: 'Бурунди',\n  CPV: 'Кабо-Верде',\n  KHM: 'Камбоджа',\n  CMR: 'Камерун',\n  CAN: 'Канада',\n  CYM: 'Каймановы острова',\n  CAF: 'Центральноафриканская Республика',\n  TCD: 'Чад',\n  CHL: 'Чили',\n  CHN: 'Китай',\n  COL: 'Колумбия',\n  COM: 'Коморы',\n  COD: 'Демократическая Республика Конго',\n  COG: 'Конго',\n  CRI: 'Коста-Рика',\n  CIV: \"Кот-д'Ивуар\",\n  HRV: 'Хорватия',\n  CUB: 'Куба',\n  CYP: 'Кипр',\n  CZE: 'Чехия',\n  DNK: 'Дания',\n  DJI: 'Джибути',\n  DMA: 'Доминика',\n  DOM: 'Доминиканская Республика',\n  ECU: 'Эквадор',\n  EGY: 'Египет',\n  SLV: 'Сальвадор',\n  GNQ: 'Экваториальная Гвинея',\n  ERI: 'Эритрея',\n  EST: 'Эстония',\n  ETH: 'Эфиопия',\n  FLK: 'Фолклендские острова',\n  FJI: 'Фиджи',\n  FIN: 'Финляндия',\n  FRA: 'Франция',\n  GAB: 'Габон',\n  GMB: 'Гамбия',\n  GEO: 'Грузия',\n  DEU: 'Германия',\n  GHA: 'Гана',\n  GIB: 'Гибралтар',\n  GBR: 'Великобритания',\n  GRC: 'Греция',\n  GRD: 'Гренада',\n  GTM: 'Гватемала',\n  GGY: 'Гернси',\n  GIN: 'Гвинея',\n  GNB: 'Гвинея-Бисау',\n  GUY: 'Гайана',\n  HTI: 'Гаити',\n  HND: 'Гондурас',\n  HKG: 'Гонконг',\n  HUN: 'Венгрия',\n  ISL: 'Исландия',\n  IND: 'Индия',\n  IDN: 'Индонезия',\n  IRN: 'Иран',\n  IRQ: 'Ирак',\n  IRL: 'Ирландия',\n  IMN: 'Остров Мэн',\n  ISR: 'Израиль',\n  ITA: 'Италия',\n  JAM: 'Ямайка',\n  JPN: 'Япония',\n  JEY: 'Джерси',\n  JOR: 'Иордания',\n  KAZ: 'Казахстан',\n  KEN: 'Кения',\n  PRK: 'Северная Корея',\n  KOR: 'Южная Корея',\n  KWT: 'Кувейт',\n  KGZ: 'Киргизия',\n  LAO: 'Лаос',\n  LVA: 'Латвия',\n  LBN: 'Ливан',\n  LSO: 'Лесото',\n  LBR: 'Либерия',\n  LBY: 'Ливия',\n  LIE: 'Лихтенштейн',\n  LTU: 'Литва',\n  LUX: 'Люксембург',\n  MAC: 'Макао',\n  MKD: 'Северная Македония',\n  MDG: 'Мадагаскар',\n  MWI: 'Малави',\n  MYS: 'Малайзия',\n  MDV: 'Мальдивы',\n  MLI: 'Мали',\n  MLT: 'Мальта',\n  MRT: 'Мавритания',\n  MUS: 'Маврикий',\n  MEX: 'Мексика',\n  FSM: 'Микронезия',\n  MDA: 'Молдавия',\n  MCO: 'Монако',\n  MNG: 'Монголия',\n  MNE: 'Черногория',\n  MSR: 'Монтсеррат',\n  MAR: 'Марокко',\n  MOZ: 'Мозамбик',\n  MMR: 'Мьянма',\n  NAM: 'Намибия',\n  NPL: 'Непал',\n  NLD: 'Нидерланды',\n  ANT: 'Нидерландские Антильские острова',\n  NZL: 'Новая Зеландия',\n  NIC: 'Никарагуа',\n  NER: 'Нигер',\n  NGA: 'Нигерия',\n  NOR: 'Норвегия',\n  OMN: 'Оман',\n  PAK: 'Пакистан',\n  PLW: 'Палау',\n  PAN: 'Панама',\n  PNG: 'Папуа-Новая Гвинея',\n  PRY: 'Парагвай',\n  PER: 'Перу',\n  PHL: 'Филиппины',\n  POL: 'Польша',\n  PYF: 'Французская Полинезия',\n  PRT: 'Португалия',\n  PRI: 'Пуэрто-Рико',\n  QAT: 'Катар',\n  ROU: 'Румыния',\n  RUS: 'Россия',\n  RWA: 'Руанда',\n  SHN: 'Остров Святой Елены',\n  KNA: 'Сент-Китс и Невис',\n  LCA: 'Сент-Люсия',\n  VCT: 'Сент-Винсент и Гренадины',\n  WSM: 'Самоа',\n  SMR: 'Сан-Марино',\n  STP: 'Сан-Томе и Принсипи',\n  SAU: 'Саудовская Аравия',\n  SEN: 'Сенегал',\n  SRB: 'Сербия',\n  SYC: 'Сейшелы',\n  SLE: 'Сьерра-Леоне',\n  SGP: 'Сингапур',\n  SVK: 'Словакия',\n  SVN: 'Словения',\n  SLB: 'Соломоновы острова',\n  SOM: 'Сомали',\n  ZAF: 'Южная Африка',\n  ESP: 'Испания',\n  LKA: 'Шри-Ланка',\n  SDN: 'Судан',\n  SUR: 'Суринам',\n  SWZ: 'Эсватини',\n  SWE: 'Швеция',\n  CHE: 'Швейцария',\n  SYR: 'Сирия',\n  TWN: 'Тайвань',\n  TJK: 'Таджикистан',\n  TZA: 'Танзания',\n  THA: 'Таиланд',\n  TLS: 'Восточный Тимор',\n  TGO: 'Того',\n  TON: 'Тонга',\n  TTO: 'Тринидад и Тобаго',\n  TUN: 'Тунис',\n  TUR: 'Турция',\n  TKM: 'Туркменистан',\n  TCA: 'Острова Теркс и Кайкос',\n  UGA: 'Уганда',\n  UKR: 'Украина',\n  USA: 'Соединенные Штаты Америки',\n  URY: 'Уругвай',\n  UZB: 'Узбекистан',\n  VUT: 'Вануату',\n  VEN: 'Венесуэла',\n  VNM: 'Вьетнам',\n  YEM: 'Йемен',\n  ZMB: 'Замбия',\n  ZWE: 'Зимбабве',\n};\n\nexport const CountryCodes: { [key in CountryIso3Code]: Array<string> } = {\n  AFG: ['+93'],\n  ALA: ['+358'],\n  ALB: ['+355'],\n  DZA: ['+213'],\n  AND: ['+376'],\n  AGO: ['+244'],\n  AIA: ['+1-264'],\n  ATG: ['+1-268'],\n  ARE: ['+971'],\n  ARG: ['+54'],\n  ARM: ['+374'],\n  ABW: ['+297'],\n  AUS: ['+61'],\n  AUT: ['+43'],\n  AZE: ['+994'],\n  BHS: ['+1-242'],\n  BHR: ['+973'],\n  BGD: ['+880'],\n  BRB: ['+1-246'],\n  BLR: ['+375'],\n  BEL: ['+32'],\n  BLZ: ['+501'],\n  BEN: ['+229'],\n  BMU: ['+1-441'],\n  BTN: ['+975'],\n  BOL: ['+591'],\n  BIH: ['+387'],\n  BWA: ['+267'],\n  BRA: ['+55'],\n  VGB: ['+1-284'],\n  BRN: ['+673'],\n  BGR: ['+359'],\n  BFA: ['+226'],\n  BDI: ['+257'],\n  CPV: ['+238'],\n  KHM: ['+855'],\n  CMR: ['+237'],\n  CAN: ['+1'],\n  CYM: ['+1-345'],\n  CAF: ['+236'],\n  TCD: ['+235'],\n  CHL: ['+56'],\n  CHN: ['+86'],\n  COL: ['+57'],\n  COM: ['+269'],\n  COD: ['+243'],\n  COG: ['+242'],\n  CRI: ['+506'],\n  CIV: ['+225'],\n  HRV: ['+385'],\n  CUB: ['+53'],\n  CYP: ['+357'],\n  CZE: ['+420'],\n  DNK: ['+45'],\n  DJI: ['+253'],\n  DMA: ['+1-767'],\n  DOM: ['+1-809', '+1-829', '+1-849'],\n  ECU: ['+593'],\n  EGY: ['+20'],\n  SLV: ['+503'],\n  GNQ: ['+240'],\n  ERI: ['+291'],\n  EST: ['+372'],\n  ETH: ['+251'],\n  FLK: ['+500'],\n  FJI: ['+679'],\n  FIN: ['+358'],\n  FRA: ['+33'],\n  GAB: ['+241'],\n  GMB: ['+220'],\n  GEO: ['+995'],\n  DEU: ['+49'],\n  GHA: ['+233'],\n  GIB: ['+350'],\n  GBR: ['+44'],\n  GRC: ['+30'],\n  GRD: ['+1-473'],\n  GTM: ['+502'],\n  GGY: ['+44-1481'],\n  GIN: ['+224'],\n  GNB: ['+245'],\n  GUY: ['+592'],\n  HTI: ['+509'],\n  HND: ['+504'],\n  HKG: ['+852'],\n  HUN: ['+36'],\n  ISL: ['+354'],\n  IND: ['+91'],\n  IDN: ['+62'],\n  IRN: ['+98'],\n  IRQ: ['+964'],\n  IRL: ['+353'],\n  IMN: ['+44-1624'],\n  ISR: ['+972'],\n  ITA: ['+39'],\n  JAM: ['+1-876'],\n  JPN: ['+81'],\n  JEY: ['+44-1534'],\n  JOR: ['+962'],\n  KAZ: ['+7'],\n  KEN: ['+254'],\n  PRK: ['+850'],\n  KOR: ['+82'],\n  KWT: ['+965'],\n  KGZ: ['+996'],\n  LAO: ['+856'],\n  LVA: ['+371'],\n  LBN: ['+961'],\n  LSO: ['+266'],\n  LBR: ['+231'],\n  LBY: ['+218'],\n  LIE: ['+423'],\n  LTU: ['+370'],\n  LUX: ['+352'],\n  MAC: ['+853'],\n  MKD: ['+389'],\n  MDG: ['+261'],\n  MWI: ['+265'],\n  MYS: ['+213'],\n  MDV: ['+960'],\n  MLI: ['+223'],\n  MLT: ['+356'],\n  MRT: ['+222'],\n  MUS: ['+230'],\n  MEX: ['+52'],\n  FSM: ['+691'],\n  MDA: ['+373'],\n  MCO: ['+377'],\n  MNG: ['+976'],\n  MNE: ['+382'],\n  MSR: ['+1-664'],\n  MAR: ['+212'],\n  MOZ: ['+258'],\n  MMR: ['+95'],\n  NAM: ['+264'],\n  NPL: ['+977'],\n  NLD: ['+31'],\n  ANT: ['+599'],\n  NZL: ['+64'],\n  NIC: ['+505'],\n  NER: ['+227'],\n  NGA: ['+234'],\n  NOR: ['+47'],\n  OMN: ['+968'],\n  PAK: ['+92'],\n  PLW: ['+680'],\n  PAN: ['+507'],\n  PNG: ['+675'],\n  PRY: ['+595'],\n  PER: ['+51'],\n  PHL: ['+63'],\n  POL: ['+48'],\n  PYF: ['+689'],\n  PRT: ['+351'],\n  PRI: ['+1-787', '+1-939'],\n  QAT: ['+974'],\n  ROU: ['+40'],\n  RUS: ['+7'],\n  RWA: ['+250'],\n  SHN: ['+290'],\n  KNA: ['+1-869'],\n  LCA: ['+1-758'],\n  VCT: ['+1-784'],\n  WSM: ['+685'],\n  SMR: ['+378'],\n  STP: ['+239'],\n  SAU: ['+966'],\n  SEN: ['+221'],\n  SRB: ['+381'],\n  SYC: ['+248'],\n  SLE: ['+232'],\n  SGP: ['+65'],\n  SVK: ['+421'],\n  SVN: ['+386'],\n  SLB: ['+677'],\n  SOM: ['+252'],\n  ZAF: ['+27'],\n  ESP: ['+34'],\n  LKA: ['+94'],\n  SDN: ['+249'],\n  SUR: ['+597'],\n  SWZ: ['+213'],\n  SWE: ['+46'],\n  CHE: ['+41'],\n  SYR: ['+963'],\n  TWN: ['+886'],\n  TJK: ['+992'],\n  TZA: ['+255'],\n  THA: ['+66'],\n  TLS: ['+670'],\n  TGO: ['+228'],\n  TON: ['+676'],\n  TTO: ['+1-868'],\n  TUN: ['+216'],\n  TUR: ['+90'],\n  TKM: ['+993'],\n  TCA: ['+1-649'],\n  UGA: ['+256'],\n  UKR: ['+380'],\n  USA: ['+1'],\n  URY: ['+598'],\n  UZB: ['+998'],\n  VUT: ['+678'],\n  VEN: ['+58'],\n  VNM: ['+84'],\n  YEM: ['+967'],\n  ZMB: ['+260'],\n  ZWE: ['+263'],\n};\n\nexport const PhoneCodes: { [key: string]: Array<CountryIso3Code> } = {\n  '1': ['CAN', 'USA'],\n  '7': ['KAZ', 'RUS'],\n  '20': ['EGY'],\n  '27': ['ZAF'],\n  '30': ['GRC'],\n  '31': ['NLD'],\n  '32': ['BEL'],\n  '33': ['FRA'],\n  '34': ['ESP'],\n  '36': ['HUN'],\n  '39': ['ITA'],\n  '40': ['ROU'],\n  '41': ['CHE'],\n  '43': ['AUT'],\n  '44': ['GBR'],\n  '45': ['DNK'],\n  '46': ['SWE'],\n  '47': ['NOR'],\n  '48': ['POL'],\n  '49': ['DEU'],\n  '51': ['PER'],\n  '52': ['MEX'],\n  '53': ['CUB'],\n  '54': ['ARG'],\n  '55': ['BRA'],\n  '56': ['CHL'],\n  '57': ['COL'],\n  '58': ['VEN'],\n  '60': ['MYS'],\n  '61': ['AUS'],\n  '62': ['IDN'],\n  '63': ['PHL'],\n  '64': ['NZL'],\n  '65': ['SGP'],\n  '66': ['THA'],\n  '81': ['JPN'],\n  '82': ['KOR'],\n  '84': ['VNM'],\n  '86': ['CHN'],\n  '90': ['TUR'],\n  '91': ['IND'],\n  '92': ['PAK'],\n  '93': ['AFG'],\n  '94': ['LKA'],\n  '95': ['MMR'],\n  '98': ['IRN'],\n  '212': ['MAR'],\n  '213': ['DZA'],\n  '216': ['TUN'],\n  '218': ['LBY'],\n  '220': ['GMB'],\n  '221': ['SEN'],\n  '222': ['MRT'],\n  '223': ['MLI'],\n  '224': ['GIN'],\n  '225': ['CIV'],\n  '226': ['BFA'],\n  '227': ['NER'],\n  '228': ['TGO'],\n  '229': ['BEN'],\n  '230': ['MUS'],\n  '231': ['LBR'],\n  '232': ['SLE'],\n  '233': ['GHA'],\n  '234': ['NGA'],\n  '235': ['TCD'],\n  '236': ['CAF'],\n  '237': ['CMR'],\n  '238': ['CPV'],\n  '239': ['STP'],\n  '240': ['GNQ'],\n  '241': ['GAB'],\n  '242': ['COG'],\n  '243': ['COD'],\n  '244': ['AGO'],\n  '245': ['GNB'],\n  '248': ['SYC'],\n  '249': ['SDN'],\n  '250': ['RWA'],\n  '251': ['ETH'],\n  '252': ['SOM'],\n  '253': ['DJI'],\n  '254': ['KEN'],\n  '255': ['TZA'],\n  '256': ['UGA'],\n  '257': ['BDI'],\n  '258': ['MOZ'],\n  '260': ['ZMB'],\n  '261': ['MDG'],\n  '263': ['ZWE'],\n  '264': ['NAM'],\n  '265': ['MWI'],\n  '266': ['LSO'],\n  '267': ['BWA'],\n  '268': ['SWZ'],\n  '269': ['COM'],\n  '290': ['SHN'],\n  '291': ['ERI'],\n  '297': ['ABW'],\n  '350': ['GIB'],\n  '351': ['PRT'],\n  '352': ['LUX'],\n  '353': ['IRL'],\n  '354': ['ISL'],\n  '355': ['ALB'],\n  '356': ['MLT'],\n  '357': ['CYP'],\n  '358': ['ALA', 'FIN'],\n  '359': ['BGR'],\n  '370': ['LTU'],\n  '371': ['LVA'],\n  '372': ['EST'],\n  '373': ['MDA'],\n  '374': ['ARM'],\n  '375': ['BLR'],\n  '376': ['AND'],\n  '377': ['MCO'],\n  '378': ['SMR'],\n  '380': ['UKR'],\n  '381': ['SRB'],\n  '382': ['MNE'],\n  '385': ['HRV'],\n  '386': ['SVN'],\n  '387': ['BIH'],\n  '389': ['MKD'],\n  '420': ['CZE'],\n  '421': ['SVK'],\n  '423': ['LIE'],\n  '500': ['FLK'],\n  '501': ['BLZ'],\n  '502': ['GTM'],\n  '503': ['SLV'],\n  '504': ['HND'],\n  '505': ['NIC'],\n  '506': ['CRI'],\n  '507': ['PAN'],\n  '509': ['HTI'],\n  '591': ['BOL'],\n  '592': ['GUY'],\n  '593': ['ECU'],\n  '595': ['PRY'],\n  '597': ['SUR'],\n  '598': ['URY'],\n  '599': ['ANT'],\n  '670': ['TLS'],\n  '673': ['BRN'],\n  '675': ['PNG'],\n  '676': ['TON'],\n  '677': ['SLB'],\n  '678': ['VUT'],\n  '679': ['FJI'],\n  '680': ['PLW'],\n  '685': ['WSM'],\n  '689': ['PYF'],\n  '691': ['FSM'],\n  '850': ['PRK'],\n  '852': ['HKG'],\n  '853': ['MAC'],\n  '855': ['KHM'],\n  '856': ['LAO'],\n  '880': ['BGD'],\n  '886': ['TWN'],\n  '960': ['MDV'],\n  '961': ['LBN'],\n  '962': ['JOR'],\n  '963': ['SYR'],\n  '964': ['IRQ'],\n  '965': ['KWT'],\n  '966': ['SAU'],\n  '967': ['YEM'],\n  '968': ['OMN'],\n  '971': ['ARE'],\n  '972': ['ISR'],\n  '973': ['BHR'],\n  '974': ['QAT'],\n  '975': ['BTN'],\n  '976': ['MNG'],\n  '977': ['NPL'],\n  '992': ['TJK'],\n  '993': ['TKM'],\n  '994': ['AZE'],\n  '995': ['GEO'],\n  '996': ['KGZ'],\n  '998': ['UZB'],\n  '1242': ['BHS'],\n  '1246': ['BRB'],\n  '1264': ['AIA'],\n  '1268': ['ATG'],\n  '1284': ['VGB'],\n  '1345': ['CYM'],\n  '1441': ['BMU'],\n  '1473': ['GRD'],\n  '1649': ['TCA'],\n  '1664': ['MSR'],\n  '1758': ['LCA'],\n  '1767': ['DMA'],\n  '1784': ['VCT'],\n  '1787': ['PRI'],\n  '1809': ['DOM'],\n  '1829': ['DOM'],\n  '1849': ['DOM'],\n  '1868': ['TTO'],\n  '1869': ['KNA'],\n  '1876': ['JAM'],\n  '1939': ['PRI'],\n  '441481': ['GGY'],\n  '441534': ['JEY'],\n  '441624': ['IMN'],\n};\n","import * as React from 'react';\nimport { HTMLAttributes } from 'react';\nimport { Dimension } from '#ui-kit3/components/input/PhoneNumberInput/utils';\n\nexport interface FlagProps extends HTMLAttributes<HTMLDivElement> {\n  Component: React.ElementType;\n  dimension?: Dimension;\n}\n\nexport const Flag = ({ Component, dimension, ...props }: FlagProps) => {\n  const width = dimension === 's' ? '18' : '22';\n\n  return <Component {...props} width={width} />;\n};\n","import { CustomInputHandler, InputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { CountryIso3Code } from '#ui-kit3/components/input/PhoneNumberInput/constants';\n\ntype ParsedData = {\n  mask: CountryIso3Code;\n  cityCode: string;\n  middleCode: string;\n  lastNum: string;\n};\n\nexport const defaultPhoneNumberInputHandler = clojureHandler(null);\n\nexport function clojureHandler(mask: CountryIso3Code | null): CustomInputHandler {\n  const countryCode = mask?.replace(/\\D/g, '');\n\n  function needFormat(value: string): boolean {\n    if (!value || !countryCode) return false;\n\n    const hasPlus = value.charAt(0) === '+';\n    const hasCountyWs = value.length > countryCode.length + 1 ? value.charAt(countryCode.length + 1) === ' ' : true;\n    const hasCityWs = value.length > countryCode.length + 5 ? value.charAt(countryCode.length + 5) === ' ' : true;\n    const hasMiddleWs = value.length > countryCode.length + 9 ? value.charAt(countryCode.length + 9) === ' ' : true;\n\n    return !hasPlus || !hasCountyWs || !hasCityWs || !hasMiddleWs;\n  }\n\n  const InitialInputData = {\n    selectionStart: 1,\n    value: '',\n  } as const;\n\n  return (inputData: InputData | null): InputData => {\n    let selectionStart = inputData?.selectionStart || 1;\n\n    if (!needFormat(inputData?.value || '')) {\n      return inputData || InitialInputData;\n    }\n\n    const hasNoPlus = inputData?.value?.charAt(0) !== '+';\n    if (hasNoPlus) selectionStart += 1;\n\n    const clearData = (inputData?.value || '').replace(/\\D/g, '');\n    const value = formatValue(countryCode, clearData);\n\n    const positionWithSpaceBefore = /\\d/.test(value.charAt(selectionStart)) && value.charAt(selectionStart - 1) === ' ';\n\n    const oldNextChar = inputData?.value\n      ? inputData.value.length >= selectionStart\n        ? inputData.value.charAt(selectionStart).trim()\n        : null\n      : null;\n\n    if (positionWithSpaceBefore && !oldNextChar) {\n      selectionStart += 1;\n    }\n\n    const noChanges = inputData?.value === value;\n\n    return !noChanges\n      ? {\n          ...inputData,\n          value,\n          selectionStart,\n          selectionEnd: selectionStart,\n        }\n      : inputData;\n  };\n}\n\nfunction formatValue(mask: string | undefined, value: string): string {\n  const parsedData: ParsedData | null = parseInputValue(mask, value);\n\n  if (!parsedData) return `+${value}`;\n\n  if (parsedData.lastNum) {\n    return `+${parsedData.mask} ${parsedData.cityCode} ${parsedData.middleCode} ${parsedData.lastNum}`;\n  } else if (parsedData.middleCode) {\n    return `+${parsedData.mask} ${parsedData.cityCode} ${parsedData.middleCode}`;\n  } else if (parsedData.cityCode) {\n    return `+${parsedData.mask} ${parsedData.cityCode}`;\n  } else {\n    return `+${value}`;\n  }\n}\n\nfunction parseInputValue(mask: string | undefined, value: string): ParsedData | null {\n  if (!mask) return null;\n\n  const matchMask = value.length >= mask.length && value.substring(0, mask.length) === mask;\n\n  if (!matchMask) return null;\n\n  let start = mask.length;\n  const cityCode = value.substring(start, start + 3);\n  start += 3;\n  const middleCode = value.substring(start, start + 3);\n  start += 3;\n  const lastNum = value.substring(start, start + 4);\n\n  return { mask, cityCode, middleCode, lastNum };\n}\n","import * as React from 'react';\nimport { HTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { Flag } from '#ui-kit3/components/input/PhoneNumberInput/Flag';\nimport { Dimension } from '#ui-kit3/components/input/PhoneNumberInput/utils';\n\nexport interface CountryBlockProps extends HTMLAttributes<HTMLLIElement> {\n  active?: boolean;\n  selected?: boolean;\n  disabled?: boolean;\n  dimension?: Dimension;\n  SvgFlag: React.ElementType | null;\n  code: string;\n  value: string;\n}\n\nconst activeCountry = css`\n  background-color: ${(p) => p.theme.color.background.secondary};\n`;\n\nconst CountryBlockStyle = styled.li<{ disabled?: boolean; selected?: boolean; active?: boolean; dimension?: string }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  user-select: none;\n  color: ${(p) => (p.disabled ? p.theme.color.text.tertiary : p.theme.color.text.primary)};\n  cursor: ${(p) => (p.disabled ? 'not-allowed' : 'pointer')};\n  padding: ${(p) => (p.dimension === 'xl' ? '12px 16px' : p.dimension === 'm' ? '8px 16px' : '6px 12px')};\n  ${(p) => (p.dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n\n  &:hover {\n    background: ${(p) => (p.disabled ? '' : p.theme.color.background.secondary)};\n  }\n\n  ${(p) => ((p.selected && !p.active && !p.disabled) || (p.active && !p.disabled) ? activeCountry : '')}\n`;\n\nconst StyledCountryName = styled.span`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0 9px;\n`;\n\nconst CountryCode = styled.span`\n  flex: 0 0 auto;\n  color: ${(p) => p.theme.color.text.secondary};\n`;\n\nexport const CountryBlock = React.forwardRef<HTMLLIElement, CountryBlockProps>((props, ref) => {\n  const { dimension, value, code, SvgFlag, ...otherProps }: CountryBlockProps = props;\n\n  return (\n    <CountryBlockStyle ref={ref} {...otherProps} dimension={dimension}>\n      {SvgFlag && <Flag dimension={dimension} Component={SvgFlag} />}\n      <StyledCountryName>{value}</StyledCountryName>\n      <CountryCode>{code}</CountryCode>\n    </CountryBlockStyle>\n  );\n});\n","import styled from 'styled-components';\nimport { Dimension } from '#ui-kit3/components/input/PhoneNumberInput/utils';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { CountryBlock, CountryBlockProps } from '#ui-kit3/components/input/PhoneNumberInput/CountryBlock';\nimport React, { HTMLAttributes, useEffect, useRef } from 'react';\nimport { CountryIso3Code } from '#ui-kit3/components/input/PhoneNumberInput/constants';\nimport { CustomInputHandler } from '#ui-kit3/components/common/dom/changeInputData';\n\nexport type CountryInfo = {\n  uid: string;\n  code: string;\n  iso3: CountryIso3Code;\n  rusName: string;\n  SvgFlag: React.ElementType | null;\n  handleInput: CustomInputHandler;\n};\n\nexport interface CountriesListProps extends HTMLAttributes<HTMLLIElement> {\n  countries: Array<CountryInfo>;\n  dimension: Dimension;\n  activeIndex: number;\n  onItemClick: (index: number) => void;\n  onActivateItem: (index: number) => void;\n}\n\nconst StyledCountriesList = styled.ul<{ dimension: Dimension }>`\n  pointer-events: initial;\n  padding: 8px 0;\n  margin: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: ${(p) => p.theme.color.background.primary};\n  border-radius: 4px;\n  ${(p) => p.theme.shadow.NonClickable}\n  flex: 0 0 auto;\n  max-height: ${(p) => (p.dimension === 'xl' ? '192px' : p.dimension === 'm' ? '160px' : '128px')};\n  ${(p) => (p.dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n`;\n\nexport const CountriesList = ({\n  countries,\n  dimension,\n  activeIndex,\n  onItemClick,\n  onActivateItem,\n}: CountriesListProps) => {\n  let currentItem: HTMLLIElement | null = null;\n  const currentActive = useRef<number>(-1);\n\n  useEffect(() => {\n    const disableSmooth = Math.abs(activeIndex - currentActive.current) > 5;\n    currentActive.current = activeIndex;\n\n    currentItem?.scrollIntoView({\n      behavior: disableSmooth ? 'auto' : 'smooth',\n      inline: 'center',\n      block: 'nearest',\n    });\n  }, [activeIndex]);\n\n  return (\n    <StyledCountriesList dimension={dimension}>\n      {countries.map((country, index) => {\n        const countryBlockProps: CountryBlockProps = {\n          dimension,\n          active: index === activeIndex,\n          value: country.rusName,\n          code: country.code,\n          SvgFlag: country.SvgFlag,\n          onClick: () => onItemClick(index),\n          onMouseEnter: () => onActivateItem(index),\n        };\n\n        return (\n          <CountryBlock\n            key={country.uid}\n            ref={(ref) => {\n              if (index === activeIndex) currentItem = ref;\n            }}\n            {...countryBlockProps}\n          />\n        );\n      })}\n    </StyledCountriesList>\n  );\n};\n","import metadata from '@openvtb/admiral-icons/metadata.json';\nimport * as FlagsIcons from '#ui-kit3/icons/IconComponents-flags';\nimport { ElementType } from 'react';\nimport { CountryName } from '#ui-kit3/components/input/PhoneNumberInput/constants';\n\ntype IconMeta = {\n  name: string;\n  path: string;\n  svg: string;\n  type: string;\n};\n\ntype IconComponents = {\n  name: string;\n  SvgComponent: ElementType;\n};\n\ntype Metadata = Record<string, Array<IconMeta>>;\n\nconst iconsPack: Array<IconComponents> = (metadata as Metadata)['flags'].map((iconMetaInfo: IconMeta) => {\n  return {\n    name: iconMetaInfo.name,\n    SvgComponent: (FlagsIcons as { [key: string]: ElementType })[iconMetaInfo.name],\n  };\n});\n\nexport const getIcon = (name: CountryName): ElementType | null => {\n  const item = iconsPack.find((flag: IconComponents) => flag.name === name);\n\n  return item ? item.SvgComponent : null;\n};\n","import { CountryIso3Code } from '#ui-kit3/components/input/PhoneNumberInput/constants';\n\nexport interface CountryPhoneCode {\n  code: string;\n  iso3: CountryIso3Code;\n}\n\nexport type findCountryFunction = (inputValue: string) => CountryPhoneCode | null;\n\nexport default function getFindCountryFunction(countries: Array<CountryPhoneCode>): findCountryFunction {\n  const lengths = countries.map((country: CountryPhoneCode) => country.code.replace(/\\D/g, '').length);\n  const maxLength = Math.max(...lengths);\n\n  function findCountry(value: string): CountryPhoneCode | undefined {\n    let country: CountryPhoneCode | undefined;\n    const length = maxLength > value.length ? value.length : maxLength;\n\n    for (let i = 1; i <= length; i++) {\n      const code = value.slice(0, i);\n\n      const foundCountry: CountryPhoneCode | undefined = countries.find((country) => {\n        const clearCountryCode = country.code.replace(/\\D/g, '');\n        return clearCountryCode === code;\n      });\n\n      if (foundCountry) {\n        country = foundCountry;\n      }\n    }\n\n    return country;\n  }\n\n  function getPriorityCountry(country: CountryPhoneCode): CountryPhoneCode {\n    switch (country.code) {\n      case '+7':\n        return countries.find((country) => country.iso3 === 'RUS') || country;\n      case '+1':\n        return countries.find((country) => country.iso3 === 'USA') || country;\n      default:\n        return country;\n    }\n  }\n\n  return function (inputValue: string): CountryPhoneCode | null {\n    const value = inputValue.replace(/\\D/g, '');\n\n    if (!value) return null;\n\n    const country = findCountry(value);\n\n    return country ? getPriorityCountry(country) : null;\n  };\n}\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { changeInputData } from '#ui-kit3/components/common/dom/changeInputData';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { TextInput, TextInputProps } from '#ui-kit3/components/input/TextInput';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { ReactComponent as ChevronRightOutline } from '@openvtb/admiral-icons/build/system/ChevronRightOutline.svg';\nimport {\n  COUNTRY_ISO3_CODES,\n  CountryCodes,\n  CountryIso3Code,\n  CountryNames,\n  CountryRusNames,\n} from '#ui-kit3/components/input/PhoneNumberInput/constants';\nimport { Flag } from '#ui-kit3/components/input/PhoneNumberInput/Flag';\nimport { Dimension } from '#ui-kit3/components/input/PhoneNumberInput/utils';\nimport {\n  defaultPhoneNumberInputHandler,\n  clojureHandler,\n} from '#ui-kit3/components/input/PhoneNumberInput/defaultPhoneNumberInputHandle';\nimport { CountriesList, CountryInfo } from '#ui-kit3/components/input/PhoneNumberInput/CountriesList';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { getIcon } from '#ui-kit3/components/input/PhoneNumberInput/iconsPack';\nimport getFindCountryFunction, {\n  findCountryFunction,\n  CountryPhoneCode,\n} from '#ui-kit3/components/input/PhoneNumberInput/findCoutryWithPriority';\n\nconst Chevron = styled(ChevronRightOutline)`\n  transition: all 0.3s;\n  flex-shrink: 0;\n  margin-left: 5px;\n\n  & path {\n    fill: ${(p) => p.theme.color.text.secondary};\n  }\n`;\n\nconst disabledStyles = css`\n  & svg {\n    & *[fill^='#'] {\n      stroke: ${(p) => p.theme.color.text.tertiary};\n      fill: ${(p) => p.theme.color.text.tertiary};\n    }\n  }\n`;\n\nconst PhoneContainer = styled.div<{ dimension: Dimension; disabled?: boolean }>`\n  position: relative;\n\n  & ${Chevron} {\n    width: ${(p) => (p.dimension === 's' ? '20px' : '24px')};\n    height: ${(p) => (p.dimension === 's' ? '20px' : '24px')};\n  }\n\n  & input {\n    padding-left: ${(p) => (p.dimension === 's' ? '64px' : '76px')};\n  }\n`;\n\nconst CountryContainer = styled.div<{ dimension: Dimension; isOpened?: boolean; disabled?: boolean }>`\n  position: absolute;\n  top: 50%;\n  left: 16px;\n  transform: translateY(-50%);\n  display: flex;\n\n  & ${Chevron} {\n    & *[fill^='#'] {\n      stroke: none;\n    }\n\n    transform: ${(p) => (p.isOpened || p.disabled ? 'rotate(90deg)' : 'rotate(0deg)')};\n  }\n\n  ${(p) => p.disabled && disabledStyles};\n`;\n\nexport interface PhoneNumberInputProps extends Omit<TextInputProps, 'value'> {\n  value?: string;\n  /** Код ISO A3 страны для определния префикса номера по умолчанию */\n  defaultCountry?: CountryIso3Code;\n  /** Список стран для выпадающего списка. Отмечается кодом ISO A3 страны */\n  onlyCountries?: Array<CountryIso3Code>;\n}\n\nexport const PhoneNumberInput = React.forwardRef<HTMLInputElement, PhoneNumberInputProps>(\n  (\n    {\n      value = '',\n      disabled = false,\n      dimension = 'xl',\n      defaultCountry = 'RUS',\n      onlyCountries = COUNTRY_ISO3_CODES,\n      handleInput,\n      ...props\n    },\n    ref,\n  ) => {\n    const [activeIndex, setActiveIndex] = React.useState<number>(-1);\n    const [selectedIndex, setSelectedIndex] = React.useState<number>(-1);\n    const inputContainerRef = React.useRef<HTMLDivElement>(null);\n    const inputRef = React.useRef<HTMLInputElement>(null);\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const [isOpened, setIsOpened] = React.useState<boolean>(false);\n\n    const countryList = React.useMemo<CountryInfo[]>(() => {\n      return onlyCountries\n        .reduce((acc: CountryPhoneCode[], iso3) => {\n          const codes = CountryCodes[iso3];\n          if (codes) {\n            codes.forEach((code) => acc.push({ iso3, code }));\n          }\n          return acc;\n        }, [])\n        .map((item) => {\n          const { iso3, code } = item,\n            name = CountryNames[iso3];\n          return {\n            ...item,\n            rusName: CountryRusNames[iso3],\n            SvgFlag: getIcon(name),\n            uid: uid(),\n            handleInput: handleInput ? handleInput : clojureHandler(code),\n          };\n        })\n        .sort((a, b) => a.rusName.localeCompare(b.rusName, 'ru'));\n    }, [onlyCountries]);\n\n    const findCountry = React.useMemo<findCountryFunction>(() => getFindCountryFunction(countryList), [countryList]);\n\n    const currentCountry = React.useMemo<CountryPhoneCode | null>(() => findCountry(value), [value]);\n    const currentCountryIndex = currentCountry\n      ? countryList.findIndex((item) => item.iso3 === currentCountry.iso3 && item.code === currentCountry.code)\n      : -1;\n    const selectedCountryCode = selectedIndex > -1 ? countryList[selectedIndex].code : null;\n    const sameCountryCode = currentCountry?.code === selectedCountryCode;\n\n    if (currentCountryIndex !== selectedIndex && !sameCountryCode) setSelectedIndex(currentCountryIndex);\n\n    const handleInputRef =\n      currentCountryIndex > -1 ? countryList[currentCountryIndex].handleInput : defaultPhoneNumberInputHandler;\n\n    React.useEffect(() => {\n      if (defaultCountry && selectedIndex === -1) {\n        const index = countryList.findIndex((country) => country.iso3 === defaultCountry);\n        if (index > -1) {\n          selectCountry(index);\n        }\n      }\n    }, [defaultCountry]);\n\n    const handleButtonClick = () => {\n      setIsOpened((prev) => !prev);\n    };\n\n    const selectCountry = (indexNumber: number) => {\n      if (!inputRef.current || indexNumber === selectedIndex) return;\n\n      const hasOldSelected = selectedIndex > -1;\n\n      const oldCode = hasOldSelected ? countryList[selectedIndex].code.replace(/[^0-9+]/g, '') : '';\n      const newCode = countryList[indexNumber].code.replace(/[^0-9+]/g, '');\n\n      changeInputData(inputRef.current, {\n        value: hasOldSelected\n          ? value.replace(/\\s+/g, '').replace(oldCode, newCode)\n          : newCode + value.replace(/\\s+/g, ''),\n        selectionStart: 1,\n        selectionEnd: newCode.length,\n      });\n\n      setSelectedIndex(indexNumber);\n      setIsOpened(false);\n    };\n\n    const handleKeyUp = (e: React.KeyboardEvent) => {\n      switch (e.key) {\n        case 'Enter':\n          if (isOpened && activeIndex > -1) {\n            selectCountry(activeIndex);\n            e.preventDefault();\n          }\n          break;\n        case 'ArrowUp':\n          if (!isOpened) {\n            setIsOpened(true);\n            break;\n          }\n\n          if (activeIndex <= 0) {\n            setActiveIndex(countryList.length - 1);\n          } else {\n            setActiveIndex(activeIndex - 1);\n          }\n          break;\n        case 'ArrowDown':\n          if (!isOpened) {\n            setIsOpened(true);\n            break;\n          }\n          if (activeIndex >= countryList.length - 1) {\n            setActiveIndex(0);\n          } else {\n            setActiveIndex(activeIndex + 1);\n          }\n          break;\n        case 'Escape': {\n          if (isOpened) {\n            setIsOpened(false);\n          }\n          break;\n        }\n      }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      if (isOpened && ['Enter', 'ArrowUp', 'ArrowDown'].includes(e.key)) {\n        e.preventDefault();\n      }\n    };\n\n    const clickOutside = (e: Event) => {\n      if (e.target && containerRef.current?.contains(e.target as Node)) {\n        return;\n      }\n      setIsOpened(false);\n    };\n\n    const IconComponent = React.useMemo<JSX.Element | null>(() => {\n      if (selectedIndex > -1) {\n        const SvgComponent = countryList[selectedIndex].SvgFlag;\n        return SvgComponent ? <Flag dimension={dimension} Component={SvgComponent} /> : null;\n      }\n      return null;\n    }, [selectedIndex]);\n\n    React.useEffect(() => {\n      setActiveIndex(isOpened ? selectedIndex : -1);\n    }, [isOpened]);\n\n    React.useEffect(() => {\n      if (isOpened) {\n        setActiveIndex(selectedIndex);\n      }\n    }, [selectedIndex]);\n\n    return (\n      <PhoneContainer ref={containerRef} dimension={dimension} disabled={disabled}>\n        <TextInput\n          {...props}\n          type=\"tel\"\n          ref={refSetter(ref, inputRef)}\n          handleInput={handleInputRef}\n          containerRef={inputContainerRef}\n          value={value}\n          disabled={disabled}\n          dimension={dimension}\n          onKeyUp={(...p) => {\n            props.onKeyUp?.(...p);\n            handleKeyUp(...p);\n          }}\n          onKeyDown={(...p) => {\n            props.onKeyDown?.(...p);\n            handleKeyDown(...p);\n          }}\n        >\n          {isOpened && !disabled && (\n            <Dropdown targetRef={inputRef} onClickOutside={clickOutside}>\n              <CountriesList\n                countries={countryList}\n                activeIndex={activeIndex}\n                dimension={dimension}\n                onItemClick={selectCountry}\n                onActivateItem={(index: number) => setActiveIndex(index)}\n              />\n            </Dropdown>\n          )}\n        </TextInput>\n        <CountryContainer dimension={dimension} isOpened={isOpened} disabled={disabled}>\n          {IconComponent}\n          <Chevron onClick={handleButtonClick} />\n        </CountryContainer>\n      </PhoneContainer>\n    );\n  },\n);\n\nPhoneNumberInput.displayName = 'PhoneNumberInput';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { TextInput as Input, TextInputProps } from '#ui-kit3/components/input';\nimport * as React from 'react';\n\nexport interface InputFieldProps extends TextInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const InputField = React.forwardRef<HTMLInputElement, InputFieldProps>((props, ref) => {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const {\n    className,\n    maxLength,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    maxLength,\n    inputRef,\n    displayCharacterCounter,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n\n  const inputProps = {\n    ref: refSetter(ref, inputRef),\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    maxLength,\n    ...restProps,\n  };\n\n  return (\n    <Field {...fieldContainerProps}>\n      <Input {...inputProps} />\n    </Field>\n  );\n});\n\nInputField.displayName = 'InputField';\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport type { CheckBoxProps } from '#ui-kit3/components/Checkbox';\nimport { Checkbox } from '#ui-kit3/components/Checkbox';\nimport type { CheckboxDimension } from '#ui-kit3/components/Checkbox/CheckboxDimension';\n\nexport interface CheckboxFieldProps extends Omit<CheckBoxProps, 'children'> {\n  /** Текст будет виден ниже компонента */\n  extraText?: React.ReactNode;\n\n  /** Текст или компонент для рендеринга лейбла */\n  children?: React.ReactNode;\n}\n\nexport const width = css<{ dimension: CheckboxDimension }>`\n  width: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '20px';\n    }\n  }};\n\n  fieldset[data-dimension='s'] & {\n    width: 16px;\n  }\n`;\n\nexport const height = css<{ dimension: CheckboxDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '20px';\n    }\n  }};\n\n  fieldset[data-dimension='s'] & {\n    height: 16px;\n  }\n`;\n\nconst PositionedCheckbox = styled(Checkbox)`\n  position: absolute;\n  top: 2px;\n  left: 2px;\n`;\n\nconst Label = styled.label<{\n  dimension: CheckboxDimension;\n  disabled?: boolean;\n}>`\n  display: inline-block;\n  position: relative;\n  padding-top: 2px;\n  padding-bottom: 2px;\n\n  padding-left: ${(props) => (props.dimension === 's' ? 28 : 32)}px;\n\n  ${(props) => (props.dimension === 's' ? typography['Body/Body 2 Short'] : typography['Body/Body 1 Short'])}\n  fieldset[data-dimension='s'] & {\n    padding-left: 28px;\n    ${typography['Body/Body 2 Short']}\n  }\n\n  color: ${(props) => (props.disabled ? props.theme.color.text.tertiary : props.theme.color.text.primary)};\n  cursor: ${(props) => (props.disabled ? 'default' : 'pointer')};\n\n  fieldset:disabled & {\n    color: ${(props) => props.theme.color.text.tertiary};\n    cursor: default;\n  }\n`;\n\nconst ExtrasContainer = styled.div<{\n  dimension: CheckboxDimension;\n}>`\n  padding-top: 4px;\n\n  ${(props) => (props.dimension === 's' ? typography['Caption/Caption 1'] : typography['Body/Body 2 Short'])}\n  fieldset[data-dimension='s'] & {\n    ${typography['Caption/Caption 1']}\n  }\n\n  color: ${(props) => props.theme.color.text.secondary};\n\n  [disabled] & {\n    color: ${(props) => props.theme.color.text.tertiary};\n  }\n`;\n\nexport const CheckboxField = React.forwardRef<HTMLInputElement, CheckboxFieldProps>(\n  ({ extraText, className, children, dimension = 'm', ...props }, ref) => {\n    return (\n      <Label\n        className={className}\n        dimension={dimension}\n        disabled={props.disabled}\n        data-field-id={props.id}\n        data-field-name={props.name}\n      >\n        <PositionedCheckbox dimension={dimension} ref={ref} {...props} />\n        {children}\n        {extraText && <ExtrasContainer dimension={dimension} children={extraText} />}\n      </Label>\n    );\n  },\n);\n\nCheckboxField.displayName = 'CheckboxField';\n","import { Field } from '#ui-kit3/components/Field';\nimport type { FieldOwnProps } from '#ui-kit3/components/Field';\nimport type { DateInputProps } from '#ui-kit3/components/input/DateInput';\nimport { DateInput } from '#ui-kit3/components/input/DateInput';\nimport * as React from 'react';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nexport interface DateFieldProps extends DateInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const DateField = React.forwardRef<HTMLInputElement, DateFieldProps>((props, ref) => {\n  const {\n    className,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    name,\n    disabled,\n    ...restProps\n  } = props;\n\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    'data-field-id': id,\n    'data-field-name': name,\n    displayInline,\n    disabled,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n\n  const inputProps = { ref, id, name, 'aria-required': required, status, disabled, ...restProps };\n  return (\n    <Field {...fieldContainerProps}>\n      <DateInput {...inputProps} />\n    </Field>\n  );\n});\n\nDateField.displayName = 'DateField';\n","import { ComponentDimension } from '#ui-kit3/components/input';\nimport type { InputStatus } from '#ui-kit3/components/input';\nimport { StatusIcon } from '#ui-kit3/components/input/StatusIcon';\nimport { OpenStatusButton } from '#ui-kit3/components/OpenStatusButton';\nimport type { HTMLAttributes, KeyboardEvent, ReactElement, ReactNode } from 'react';\nimport * as React from 'react';\nimport styled, { css, DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { TYPOGRAPHY } from '#ui-kit3/components/Typography';\n\nexport const SELECT_DIMENSIONS = ['xl', 'm', 's'] as const;\nexport type SelectDimension = typeof SELECT_DIMENSIONS[number];\n\nconst heights = css<{ dimension: SelectDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'xl':\n        return '56px';\n      case 'm':\n        return '40px';\n      case 's':\n        return '32px';\n      default:\n        return '56px';\n    }\n  }};\n`;\n\nconst styleText = css<{ dimension: SelectDimension }>`\n  font-size: ${({ dimension }) => (dimension === 's' ? 14 : 16)}px;\n  line-height: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  font-family: ${TYPOGRAPHY.fontFamily};\n`;\n\nconst SelectComponent = styled.div<{ dimension: SelectDimension; disabled?: boolean }>`\n  position: relative;\n  padding: 0 ${({ dimension }) => (dimension === 's' ? 12 : 16)}px;\n  color: ${({ theme, disabled }) => (disabled ? theme.color.text.tertiary : theme.color.text.primary)};\n  display: flex;\n  user-select: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border: 0;\n  align-items: center;\n  justify-content: space-between;\n  ${styleText};\n  box-sizing: border-box;\n  border-radius: 4px;\n  height: 100%;\n\n  [data-status='error'] & {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n\n  [data-read-only] & {\n    user-select: none;\n    background-color: ${(props) => props.theme.color.background.tertiary};\n    border-color: ${(props) => props.theme.color.background.tertiary};\n  }\n`;\n\nconst Placeholder = styled.div<{ dimension: SelectDimension; focused: boolean; disabled?: boolean }>`\n  color: ${({ theme, focused, disabled }) => {\n    if (focused) return theme.color.basic.disable;\n    if (disabled) return theme.color.text.tertiary;\n    return theme.color.text.secondary;\n  }};\n  pointer-events: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  ${styleText}\n`;\n\nconst StyledDropDown = styled(Dropdown)<{\n  alignDropdown?: string;\n  dropMaxHeight: string | number;\n  cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}>`\n  padding: 8px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  ${(p) => (p.alignDropdown ? `align-self: ${p.alignDropdown}` : '')};\n  max-height: ${(p) => p.dropMaxHeight};\n  min-width: 100%;\n  ${(p) => p.cssMixin || ''}\n`;\n\nconst IconPanel = styled.div<{ disabled?: boolean; dimension?: ComponentDimension }>`\n  flex: 0 0 auto;\n\n  display: flex;\n  align-items: center;\n\n  margin-left: 10px;\n\n  & > * {\n    display: block;\n    width: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n    height: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  }\n\n  & > *:not(:first-child) {\n    margin-left: 8px;\n  }\n`;\n\nconst SelectWrapper = styled.div<{\n  disabled?: boolean;\n  dimension: SelectDimension;\n  focused: boolean;\n}>`\n  box-sizing: border-box;\n\n  cursor: pointer;\n\n  &&[disabled],\n  &&[data-read-only] {\n    cursor: default;\n  }\n\n  background: ${({ theme, disabled }) => (disabled ? theme.color.background.tertiary : theme.color.background.primary)};\n  position: relative;\n  border-radius: 4px;\n  ${heights};\n\n  border-color: ${({ theme, disabled, focused }) => {\n    if (disabled) return 'transparent';\n    if (focused) return theme.color.basic.press;\n    return theme.color.basic.tertiary;\n  }};\n\n  [data-focus-within] &,\n  &:focus {\n    border-color: ${(p) => p.theme.color.basic.press};\n  }\n\n  border-width: 1px;\n  border-style: solid;\n\n  &:hover {\n    border-color: ${({ theme, disabled }) => (disabled ? 'transparent' : theme.color.basic.hover)};\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:active {\n    outline: none;\n  }\n\n  &[data-status='error'] {\n    border-color: ${(p) => p.theme.color.status.danger};\n  }\n\n  &[data-status='success'] {\n    border-color: ${(props) => props.theme.color.status.success};\n  }\n`;\n\nconst WrapperChild = styled.div`\n  flex: 1 1 auto;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport interface SelectProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Отключение селекта */\n  disabled?: boolean;\n  /** Размер Меню */\n  dimension?: SelectDimension;\n  /** Значение селекта */\n  value: number | string | null;\n  /** Функция, которая возвращает реакт-компонент с контентом для отображения в cелекте */\n  renderInputValue?: (value: number | string | null) => ReactNode;\n  /** Обработчик для изменения состояния селекта */\n  onChange: (value: number | string | null) => void;\n  /** Колбек на открытие селекта */\n  onOpen?: () => void;\n  /** Колбек на закрытие селекта */\n  onClose?: () => void;\n  /** Референс на контейнер для правильного позиционирования выпадающего списка */\n  portalTargetRef?: React.RefObject<HTMLElement>;\n\n  /**\n   * Позволяет выравнивать позицию дропдаун контейнера относительно селекта.\n   * Принимает стандартные значения css свойства align-self (auto | flex-start | flex-end | center | baseline | stretch)\n   */\n  alignDropdown?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n\n  /**\n   *  Задает максимальную высоту контейнера с опциями\n   */\n  dropMaxHeight?: string | number;\n\n  /** Установка статуса поля */\n  status?: InputStatus;\n\n  /** Отображать иконку статуса */\n  displayStatusIcon?: boolean;\n\n  /** Иконки для отображения в правом углу поля */\n  icons?: React.ReactNode;\n\n  /** Отображает значение без возможности изменения */\n  readOnly?: boolean | undefined;\n\n  /** Позволяет добавлять миксин на дроп контейнер созданный с помощью styled css  */\n  dropContainerCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}\n\nexport const Select = React.forwardRef<HTMLDivElement, SelectProps>(\n  (\n    {\n      portalTargetRef,\n      children,\n      renderInputValue = (value) => value,\n      className,\n      disabled,\n      dimension = 'm',\n      value,\n      onChange,\n      onOpen,\n      onClose,\n      alignDropdown,\n      dropMaxHeight = '300px',\n      icons,\n      status,\n      displayStatusIcon,\n      readOnly,\n      dropContainerCssMixin,\n      ...props\n    },\n    ref,\n  ) => {\n    const [open, setOpen] = React.useState(false);\n    const [hovered, setHovered] = React.useState('');\n    const refWrapper = React.useRef<HTMLInputElement>(null);\n    const childrenArray = React.Children.toArray(children);\n    const findOptionValue = (option: (React.ReactChild | React.ReactFragment | React.ReactPortal)[]) => {\n      if (React.isValidElement(option[0]) && 'props' in option[0]) {\n        return option[0].props.value;\n      }\n    };\n\n    const hoverIndex = React.useMemo(\n      () =>\n        childrenArray?.findIndex((child) => {\n          if (React.isValidElement(child) && 'props' in child) {\n            return child.props.value === +hovered;\n          }\n          return -1;\n        }),\n      [childrenArray, hovered],\n    );\n\n    const findNextHoverValue = React.useCallback(() => {\n      const nextAbledOptionValue = findOptionValue(childrenArray.slice(hoverIndex + 1));\n      if (nextAbledOptionValue) return nextAbledOptionValue;\n      return findOptionValue(childrenArray);\n    }, [hoverIndex, childrenArray]);\n\n    const findPrevHoverValue = React.useCallback(() => {\n      const sliceInd = hoverIndex === -1 ? undefined : hoverIndex;\n      const prevAbledOptionValue = findOptionValue(childrenArray.slice(0, sliceInd).reverse());\n      if (prevAbledOptionValue) return prevAbledOptionValue;\n      return findOptionValue(childrenArray.slice().reverse());\n    }, [hoverIndex, childrenArray]);\n\n    const handleKeyDownItem = (e: KeyboardEvent) => {\n      const code = keyboardKey.getCode(e);\n      e.preventDefault();\n      switch (code) {\n        case keyboardKey[' ']:\n        case keyboardKey.Enter: {\n          setOpen(false);\n          onClose?.();\n          onChange && onChange(hovered);\n          setHovered(hovered);\n          (refWrapper.current as HTMLElement).focus();\n          break;\n        }\n        case keyboardKey.ArrowUp: {\n          const prevValue = findPrevHoverValue();\n          if (!prevValue) break;\n          setHovered(prevValue);\n          break;\n        }\n        case keyboardKey.ArrowDown: {\n          const nextValue = findNextHoverValue();\n          if (!nextValue) break;\n          setHovered(nextValue);\n          break;\n        }\n        case keyboardKey.Tab:\n        case keyboardKey.Escape: {\n          onClose?.();\n          setOpen(false);\n          (refWrapper.current as HTMLElement).focus();\n          break;\n        }\n      }\n    };\n\n    const handleClickItem = (e: React.MouseEvent<HTMLElement>, disabled: boolean) => {\n      const value = e?.currentTarget.getAttribute('value') ?? '';\n      !disabled && onChange && onChange(value);\n      refWrapper.current?.focus();\n    };\n\n    const renderChildrenDropDown = () => {\n      return React.Children.map(children, (child: React.ReactNode) => {\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        const detectedSubGroup = child.props.children?.some?.((element: ReactElement) => Array.isArray(element));\n\n        if (detectedSubGroup) {\n          return child.props.children.flat().map((child: ReactElement) => {\n            return React.cloneElement(child, {\n              disabled: disabled || child?.props?.disabled,\n              onClick: (e: React.MouseEvent<HTMLElement>) => handleClickItem(e, child.props.disabled),\n              onKeyDown: handleKeyDownItem,\n              dimension: dimension === 'xl' ? 'l' : dimension,\n              selected: value?.toString() === child.props.value?.toString(),\n              hovered: hovered === child.props.value,\n              ...child.props,\n            });\n          });\n        }\n\n        return React.cloneElement(child, {\n          disabled: disabled || child.props.disabled,\n          onClick: (e: React.MouseEvent<HTMLElement>) => handleClickItem(e, child.props.disabled),\n          onKeyDown: handleKeyDownItem,\n          dimension: dimension === 'xl' ? 'l' : dimension,\n          selected: value?.toString() === child.props.value?.toString(),\n          hovered: hovered === child.props.value,\n          ...child.props,\n        });\n      });\n    };\n\n    const clickOutside = (e: Event) => {\n      if (e.target && refWrapper.current?.contains(e.target as Node)) {\n        return;\n      }\n      setOpen(false);\n      open && onClose?.();\n    };\n\n    const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey[' '] && !disabled && !open) {\n        setOpen(true);\n        e.preventDefault();\n        !open ? onOpen?.() : onClose?.();\n      }\n      props.onKeyDown?.(e);\n    };\n\n    const onClick = (e: React.MouseEvent<HTMLDivElement>) => {\n      if (!disabled) {\n        setOpen((open) => !open);\n        !open ? onOpen?.() : onClose?.();\n      }\n      props.onClick?.(e);\n    };\n\n    const renderSelectValue = () =>\n      props.placeholder && !value ? (\n        <Placeholder disabled={disabled} focused={open} dimension={dimension}>\n          {props.placeholder}\n        </Placeholder>\n      ) : (\n        <WrapperChild>{renderInputValue(value)}</WrapperChild>\n      );\n\n    const iconArray = React.Children.toArray(icons);\n\n    if (displayStatusIcon) {\n      iconArray.push(<StatusIcon key=\"status-icon\" status={status} aria-hidden />);\n    }\n\n    if (!readOnly) {\n      iconArray.push(\n        <OpenStatusButton\n          key=\"open-status-icon\"\n          $isOpen={open}\n          data-disabled={disabled ? true : undefined}\n          aria-hidden\n        />,\n      );\n    }\n\n    return (\n      <SelectWrapper\n        ref={refSetter(ref, refWrapper)}\n        className={className}\n        disabled={disabled}\n        data-disabled={disabled ? true : undefined}\n        dimension={dimension}\n        role={readOnly ? undefined : 'button'}\n        {...props}\n        onKeyDown={handleKeyDown}\n        tabIndex={disabled ? undefined : 0}\n        onClick={readOnly ? () => null : onClick}\n        data-status={status}\n        data-read-only={readOnly ? true : undefined}\n        aria-readonly={readOnly ? true : undefined}\n        focused={open}\n      >\n        <SelectComponent dimension={dimension} disabled={disabled}>\n          {renderSelectValue()}\n          <IconPanel disabled={disabled} dimension={dimension}>\n            {iconArray}\n          </IconPanel>\n        </SelectComponent>\n        {open && (\n          <StyledDropDown\n            targetRef={portalTargetRef || refWrapper}\n            data-dimension={dimension === 'xl' ? 'l' : dimension}\n            onClickOutside={clickOutside}\n            alignDropdown={alignDropdown}\n            dropMaxHeight={dropMaxHeight}\n            cssMixin={dropContainerCssMixin}\n          >\n            {renderChildrenDropDown()}\n          </StyledDropDown>\n        )}\n      </SelectWrapper>\n    );\n  },\n);\n\nSelect.displayName = 'Select';\n","import type { SelectProps } from '#ui-kit3/components/Select';\nimport { Select as BaseSelect } from '#ui-kit3/components/Select';\nimport * as React from 'react';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport styled from 'styled-components';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nconst Select = styled(BaseSelect)`\n  [data-status='error'] & {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n`;\n\nexport interface SelectFieldProps\n  extends SelectProps,\n    Omit<FieldOwnProps, 'inputRef' | 'onChange' | 'displayCharacterCounter' | 'maxLength'> {}\n\n/**\n * @deprecated Используйте SearchSelectField\n * @type {React.ForwardRefExoticComponent<React.PropsWithoutRef<SelectFieldProps> & React.RefAttributes<HTMLDivElement>>}\n */\nexport const SelectField = React.forwardRef<HTMLDivElement, SelectFieldProps>((props, ref) => {\n  const fieldRef = React.useRef(null);\n  const { className, displayInline, status, required, extraText, label, id = uid(), disabled, ...restProps } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    ref: fieldRef,\n  };\n  const selectProps = {\n    ref,\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    ...restProps,\n    portalTargetRef: fieldRef,\n  };\n  return (\n    <Field {...fieldContainerProps}>\n      <Select {...selectProps} />\n    </Field>\n  );\n});\n\nSelectField.displayName = 'SelectField';\n","import * as React from 'react';\nimport { ExtraTextContainer } from '#ui-kit3/components/Field';\nimport { InputStatus } from '#ui-kit3/components/input';\nimport styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nexport const ALL_FIELDSET_DIMENSIONS_VALUES = ['m', 's'] as const;\n\n/** Размеры компонента относительно начального */\nexport type FieldSetDimension = typeof ALL_FIELDSET_DIMENSIONS_VALUES[number];\n\nconst Legend = styled.legend<{ dimension?: FieldSetDimension }>`\n  ${(props) => (props.dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  color: ${(props) => props.theme.color.text.primary};\n  fieldset:disabled & {\n    color: ${(props) => props.theme.color.text.tertiary};\n    cursor: default;\n  }\n\n  [aria-required] &:before {\n    content: '* ';\n    color: ${(props) => props.theme.color.status.danger};\n  }\n`;\n\nconst FieldSetExtrasContainer = styled.div`\n  flex: 1 1 100%;\n  display: flex;\n  margin: 0;\n`;\n\nconst FieldSetContainer = styled.fieldset<{\n  dimension?: FieldSetDimension;\n  flexDirection?: 'column' | 'row';\n}>`\n  border: none;\n  padding: 0;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: ${({ flexDirection }) => flexDirection || 'column'};\n\n  && > *:not(${FieldSetExtrasContainer}) {\n    margin-top: ${(props) => (props.dimension === 's' ? 12 : 16)}px;\n    margin-right: 16px;\n  }\n\n  ${Legend} {\n    margin-top: 0;\n  }\n`;\n\nexport interface PropsType extends React.FieldsetHTMLAttributes<HTMLFieldSetElement> {\n  legend?: React.ReactNode;\n  dimension?: FieldSetDimension;\n\n  /** Текст будет виден ниже компонента */\n  extraText?: React.ReactNode;\n\n  /** Установка статуса поля */\n  status?: InputStatus;\n\n  /** Установка статуса поле обязательно для заполнения */\n  required?: boolean;\n\n  /** Установка статуса disabled */\n  disabled?: boolean;\n\n  /** Расположение контента по вертикали или горизонтали */\n  flexDirection?: 'column' | 'row';\n}\n\nexport const FieldSet: React.FC<PropsType> = (props) => {\n  const { legend, children, extraText, ...fieldsetProps } = props;\n  return (\n    <FieldSetContainer\n      {...fieldsetProps}\n      data-dimension={fieldsetProps.dimension}\n      aria-required={props.required}\n      data-status={props.status}\n      data-required-within={props.required ? '' : undefined}\n      data-disabled={props.disabled ? '' : undefined}\n    >\n      {legend && <Legend dimension={props.dimension} children={legend} />}\n      {children}\n      {extraText && (\n        <FieldSetExtrasContainer>\n          <ExtraTextContainer>{extraText}</ExtraTextContainer>\n        </FieldSetExtrasContainer>\n      )}\n    </FieldSetContainer>\n  );\n};\n\nFieldSet.displayName = 'FieldSet';\n","import * as React from 'react';\nimport { SuggestInput as Suggest, SuggestInputProps } from '#ui-kit3/components/input';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nexport interface SuggestFieldProps extends SuggestInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const SuggestField = React.forwardRef<HTMLInputElement, SuggestFieldProps>((props, ref) => {\n  const fieldRef = React.useRef(null);\n  const {\n    className,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    displayCharacterCounter,\n    ref: fieldRef,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n\n  const suggestProps = {\n    ref,\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    ...restProps,\n    portalTargetRef: fieldRef,\n  };\n\n  return (\n    <Field {...fieldContainerProps}>\n      <Suggest {...suggestProps} />\n    </Field>\n  );\n});\n\nSuggestField.displayName = 'SuggestField';\n","import { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport * as React from 'react';\nimport { TextArea as Input, TextAreaProps } from '#ui-kit3/components/input';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nexport interface TextFieldProps extends TextAreaProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const TextField = React.forwardRef<HTMLTextAreaElement, TextFieldProps>((props, ref) => {\n  const inputRef = React.useRef<HTMLTextAreaElement>(null);\n  const {\n    className,\n    maxLength,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    maxLength,\n    inputRef,\n    displayCharacterCounter,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n  const inputProps = {\n    ref: refSetter(ref, inputRef),\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    maxLength,\n    ...restProps,\n  };\n  return (\n    <Field {...fieldContainerProps}>\n      <Input {...inputProps} />\n    </Field>\n  );\n});\n\nTextField.displayName = 'TextField';\n","import { ComponentDimension } from '#ui-kit3/components/input';\nimport type { HTMLAttributes, KeyboardEvent, MouseEvent, ReactElement, ReactNode } from 'react';\nimport * as React from 'react';\nimport { Children, cloneElement, Fragment, isValidElement, useEffect, useRef, useState } from 'react';\nimport styled, { css, DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components';\nimport { OpenStatusButton } from '#ui-kit3/components/OpenStatusButton';\nimport { TYPOGRAPHY } from '#ui-kit3/components/Typography';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Chips } from '../Chips';\n\nexport type MultiSelectDimension = 'xl' | 'm' | 's';\n\nconst heights = css<{ dimension: MultiSelectDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'xl':\n        return '54px';\n      case 'm':\n        return '38px';\n      case 's':\n        return '30px';\n      default:\n        return '54px';\n    }\n  }};\n`;\n\nconst styleText = css<{ dimension: MultiSelectDimension; disabled?: boolean }>`\n  font-family: ${TYPOGRAPHY.fontFamily};\n`;\n\nconst SelectComponent = styled.div<{ dimension: MultiSelectDimension; disabled?: boolean; focused: boolean }>`\n  white-space: nowrap;\n  position: relative;\n  color: ${({ theme, disabled }) => (disabled ? theme.color.text.tertiary : theme.color.text.primary)};\n  display: flex;\n  user-select: none;\n  flex-flow: nowrap;\n  border: 0;\n  pointer-events: none;\n  align-items: center;\n  padding: 0 ${({ dimension }) => (dimension === 's' ? 12 : 16)}px;\n  justify-content: space-between;\n  ${styleText};\n  box-sizing: border-box;\n  border-radius: 4px;\n  height: inherit;\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n`;\n\nconst Placeholder = styled.div<{ dimension: MultiSelectDimension; focused: boolean; disabled?: boolean }>`\n  color: ${({ theme, focused, disabled }) => {\n    if (focused) return theme.color.basic.disable;\n    if (disabled) return theme.color.text.tertiary;\n    return theme.color.text.secondary;\n  }};\n  pointer-events: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst StyledDropDown = styled(Dropdown)<{\n  cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n  disabled: boolean;\n  dropMaxHeight: string | number;\n}>`\n  padding: 8px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  min-width: 100%;\n  max-height: ${(p) => p.dropMaxHeight};\n\n  // checkbox svgs should stay white colored.\n  &:not(input[type='checkbox']) & *[fill^='#'] {\n    fill: ${({ theme, disabled }) => {\n      if (disabled) return theme.color.text.tertiary;\n      return theme.color.basic.tertiary;\n    }};\n  }\n  ${(p) => p.cssMixin || ''};\n`;\n\nconst IconPanel = styled.div<{ disabled?: boolean; dimension?: ComponentDimension }>`\n  flex: 0 0 auto;\n\n  display: flex;\n  align-items: center;\n\n  margin-left: 10px;\n\n  & > * {\n    display: block;\n    width: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n    height: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  }\n\n  & > *:not(:first-child) {\n    margin-left: 8px;\n  }\n`;\n\nconst SelectWrapper = styled.div<{\n  disabled?: boolean;\n  focused: boolean;\n  dimension: MultiSelectDimension;\n}>`\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  background: ${({ theme, disabled }) => (disabled ? theme.color.background.tertiary : theme.color.background.primary)};\n  position: relative;\n  border-radius: 4px;\n  ${heights};\n  border-color: ${({ theme, disabled, focused }) => {\n    if (focused) return theme.color.basic.press;\n    if (disabled) return 'transparent';\n    return theme.color.basic.tertiary;\n  }};\n  border-width: 1px;\n  border-style: solid;\n\n  [data-focus-within] &,\n  &:focus {\n    border-color: ${(p) => p.theme.color.basic.press};\n  }\n\n  &:hover {\n    border-color: ${({ theme, disabled }) => (disabled ? 'transparent' : theme.color.basic.hover)};\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:active {\n    outline: none;\n  }\n  [data-status='success'] & {\n    border-color: ${(props) => props.theme.color.status.success};\n  }\n  [data-status='error'] & {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n`;\n\nconst WrapperChip = styled.div`\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  overflow: hidden;\n  position: relative;\n  height: 32px;\n  padding-right: 46px;\n  pointer-events: none;\n`;\n\nconst CounterChip = styled((props) => <Chips {...props} />)`\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  flex: 0 0 auto;\n  margin: ${(props) => (props.dimension === 's' ? `4px 8px 4px 0` : `2px 8px 4px 0`)};\n  margin-right: ${(props) => (props.dimension === 's' ? -34 : -45)}px;\n`;\n\nconst ChipItemWrapper = styled.div<{ dimension: MultiSelectDimension }>`\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  flex: 0 0 auto;\n  margin-right: 4px;\n`;\n\nexport interface MultiSelectProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Отключение селекта */\n  disabled?: boolean;\n  /** Размер Меню */\n  dimension?: MultiSelectDimension;\n  /** Значение селекта */\n  value: string[];\n  /** Функция, которая возвращает реакт-компонент с контентом для отображения в cелекте*/\n  renderInputValue?: () => ReactNode;\n  /** Обработчик для изменения состояния селекта */\n  onChange: (value: string[]) => void;\n  /** Ссылка на Дропдаун */\n  dropDownRef?: React.RefObject<HTMLElement>;\n  /** Колбек на открытие селекта */\n  onOpen?: () => void;\n  /** Колбек на закрытие селекта */\n  onClose?: () => void;\n  /**\n   * Позволяет выравнивать позицию дропдаун контейнера относительно селекта.\n   * Принимает стандартные значения css свойства align-self (auto | flex-start | flex-end | center | baseline | stretch)\n   */\n  alignDropdown?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n  /** Задает максимальную высоту контейнера с опциями */\n  dropMaxHeight?: string | number;\n  /** Позволяет добавлять миксин на дроп контейнер созданный с помощью styled css  */\n  dropContainerCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}\n\nexport const MultiSelect = React.forwardRef<HTMLDivElement, MultiSelectProps>(\n  (\n    {\n      children,\n      renderInputValue,\n      className,\n      disabled = false,\n      dimension = 'm',\n      value,\n      onChange,\n      dropDownRef,\n      onOpen,\n      onClose,\n      alignDropdown,\n      dropMaxHeight = '300px',\n      dropContainerCssMixin,\n      ...props\n    },\n    ref,\n  ) => {\n    const [open, setOpen] = useState(false);\n    const [focused, setFocused] = useState(false);\n    const [hovered, setHovered] = React.useState('');\n\n    const refWrapper = useRef<HTMLDivElement>(null);\n\n    const detectedDuplicate = (targetValue: string, array: string[]) => {\n      return array.indexOf(targetValue) === array.lastIndexOf(targetValue)\n        ? array\n        : array.filter((item: string) => item !== targetValue);\n    };\n\n    const handleKeyDownItem = (e: KeyboardEvent) => {\n      const code = keyboardKey.getCode(e);\n      const targetValue = (e?.currentTarget as HTMLElement).getAttribute('value') ?? '';\n      e.preventDefault();\n      switch (code) {\n        case keyboardKey[' ']:\n        case keyboardKey.Enter: {\n          targetValue && onChange && onChange(detectedDuplicate(hovered, [...value, hovered]));\n          setHovered('');\n          break;\n        }\n        case keyboardKey.Escape:\n        case keyboardKey.Tab: {\n          onClose?.();\n          setOpen(false);\n          (refWrapper.current as HTMLElement).focus();\n          break;\n        }\n        case keyboardKey.ArrowUp: {\n          setHovered(targetValue);\n          break;\n        }\n        case keyboardKey.ArrowDown: {\n          setHovered(targetValue);\n          break;\n        }\n      }\n    };\n\n    const handleClickItem = (e: MouseEvent, disabled: boolean) => {\n      const targetValue = (e?.currentTarget as HTMLElement).getAttribute?.('value') ?? '';\n      targetValue && !disabled && onChange && onChange(detectedDuplicate(targetValue, [...value, targetValue]));\n    };\n\n    let detectedSubGroup = false;\n\n    const renderChildrenDropDown = () => {\n      return Children.map(children, (child: React.ReactNode) => {\n        if (!isValidElement(child)) {\n          return null;\n        }\n\n        detectedSubGroup = child.props.children?.some?.((element: ReactElement) => Array.isArray(element));\n        if (detectedSubGroup) {\n          return child.props.children.flat().map((child: ReactElement) => {\n            return cloneElement(child, {\n              disabled: disabled || child?.props?.disabled,\n              onMouseDown: (e: MouseEvent) => handleClickItem(e, child.props.disabled),\n              onKeyDown: handleKeyDownItem,\n              hovered: hovered === child.props.value,\n              dimension: dimension === 'xl' ? 'l' : dimension,\n              selected: value.length === 0 ? false : value.includes(child?.props?.value?.toString?.()),\n              ...child.props,\n            });\n          });\n        }\n\n        return cloneElement(child, {\n          disabled: disabled || child.props.disabled,\n          onMouseDown: (e: MouseEvent) => handleClickItem(e, child.props.disabled),\n          onKeyDown: handleKeyDownItem,\n          hovered: hovered === child.props.value,\n          dimension: dimension === 'xl' ? 'l' : dimension,\n          selected: value.length === 0 ? false : value.includes(child?.props?.value?.toString?.()),\n          ...child.props,\n        });\n      });\n    };\n\n    const outsideClick = () => {\n      setOpen(false);\n      setFocused(false);\n      open && onClose?.();\n    };\n\n    useEffect(() => {\n      const listener = (event: any) => {\n        if (refWrapper?.current?.contains(event.target)) {\n          return;\n        }\n        outsideClick();\n      };\n      document.addEventListener('mousedown', listener);\n      document.addEventListener('touchstart', listener);\n      return () => {\n        document.removeEventListener('mousedown', listener);\n        document.removeEventListener('touchstart', listener);\n      };\n    }, [refWrapper?.current, outsideClick]);\n\n    const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey[' '] && !disabled && (e.target as HTMLElement) === e.currentTarget) {\n        setOpen(!open);\n        setFocused(true);\n        e.preventDefault();\n        !open ? onOpen?.() : onClose?.();\n      } else if (code === keyboardKey.Escape) {\n        setOpen(false);\n      } else if (code === keyboardKey.Tab) {\n        if (!open) {\n          setFocused(false);\n        }\n      }\n      props.onKeyDown?.(e);\n    };\n\n    const onClick = (e: MouseEvent<HTMLDivElement>) => {\n      if (e.currentTarget === e.target) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!disabled) {\n          !open ? onOpen?.() : onClose?.();\n          setOpen(!open);\n          setFocused(true);\n        }\n        props.onClick?.(e);\n      }\n    };\n\n    const defaultRender = () => {\n      const setCounterChip = (index: number) => ' + ' + index;\n      const iconClick = (id: number) => {\n        onChange(value.filter((d, index) => index !== id));\n      };\n      return (\n        <WrapperChip>\n          {value.map((d, index) => (\n            <Fragment key={index}>\n              <CounterChip tabIndex={-1} disabled={disabled} dimension=\"s\" appearance=\"filled\">\n                {setCounterChip(value.length - index)}\n              </CounterChip>\n              <ChipItemWrapper dimension={dimension}>\n                <Chips\n                  tabIndex={-1}\n                  disabled={disabled}\n                  dimension=\"s\"\n                  appearance=\"filled\"\n                  onClose={iconClick.bind(null, index)}\n                >\n                  {d}\n                </Chips>\n              </ChipItemWrapper>\n            </Fragment>\n          ))}\n        </WrapperChip>\n      );\n    };\n\n    const renderSelectValue = () =>\n      props.placeholder && value.length === 0 ? (\n        <Placeholder disabled={disabled} focused={open} dimension={dimension}>\n          {props.placeholder}\n        </Placeholder>\n      ) : (\n        renderInputValue?.() ?? defaultRender()\n      );\n\n    return (\n      <SelectWrapper\n        ref={refSetter(ref, refWrapper)}\n        className={className}\n        disabled={disabled}\n        dimension={dimension}\n        focused={focused}\n        {...props}\n        onKeyDown={handleKeyDown}\n        onClick={onClick}\n        tabIndex={disabled ? -1 : 0}\n      >\n        <SelectComponent focused={focused} dimension={dimension} disabled={disabled}>\n          {renderSelectValue()}\n          <IconPanel disabled={disabled} dimension={dimension}>\n            <OpenStatusButton\n              key=\"open-status-icon\"\n              $isOpen={open}\n              data-disabled={disabled ? true : undefined}\n              aria-hidden\n            />\n          </IconPanel>\n        </SelectComponent>\n        {open && (\n          <StyledDropDown\n            targetRef={dropDownRef || refWrapper}\n            data-dimension={dimension === 'xl' ? 'l' : dimension}\n            alignSelf={alignDropdown}\n            cssMixin={dropContainerCssMixin}\n            dropMaxHeight={dropMaxHeight}\n            disabled={disabled}\n            role=\"listbox\"\n          >\n            {renderChildrenDropDown()}\n          </StyledDropDown>\n        )}\n      </SelectWrapper>\n    );\n  },\n);\n\nMultiSelect.displayName = 'MultiSelect';\n","import type { MultiSelectProps } from '#ui-kit3/components/MultiSelect';\nimport * as React from 'react';\nimport { Field } from '#ui-kit3/components/Field';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { MultiSelect } from '#ui-kit3/components/MultiSelect';\n\nexport interface MultiSelectFieldProps\n  extends MultiSelectProps,\n    Omit<React.ComponentPropsWithoutRef<typeof Field>, 'onChange'> {}\n\n/**\n * @deprecated Используйте SearchSelectField\n * @type {React.ForwardRefExoticComponent<React.PropsWithoutRef<MultiSelectFieldProps> & React.RefAttributes<HTMLDivElement>>}\n */\nexport const MultiSelectField = React.forwardRef<HTMLDivElement, MultiSelectFieldProps>((props, ref) => {\n  const { className, displayInline, status, required, extraText, label, id = uid(), disabled, ...restProps } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n  };\n  const selectProps = { ref, id, disabled, ...restProps };\n  return (\n    <Field {...fieldContainerProps}>\n      <MultiSelect {...selectProps} />\n    </Field>\n  );\n});\n\nMultiSelectField.displayName = 'MultiSelectField';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { SliderInput, SliderInputProps } from '#ui-kit3/components/input/SliderInput';\nimport * as React from 'react';\n\nexport interface SliderInputFieldProps extends SliderInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const SliderInputField = React.forwardRef<HTMLInputElement, SliderInputFieldProps>((props, ref) => {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const {\n    className,\n    maxLength,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    maxLength,\n    inputRef,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n  const inputProps = {\n    ref: refSetter(ref, inputRef),\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    maxLength,\n    ...restProps,\n  };\n\n  return (\n    <Field {...fieldContainerProps}>\n      <SliderInput {...inputProps} />\n    </Field>\n  );\n});\n\nSliderInputField.displayName = 'SliderInputField';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { SliderRange, SliderRangeProps } from '#ui-kit3/components/input/SliderRange';\nimport * as React from 'react';\n\nexport interface SliderRangeFieldProps extends SliderRangeProps, Omit<FieldOwnProps, 'inputRef'> {\n  name?: string;\n}\n\nexport const SliderRangeField: React.FC<SliderRangeFieldProps> = (props) => {\n  const {\n    className,\n    maxLength,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    ...restProps\n  } = props;\n\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    maxLength,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n\n  const componentProps = {\n    id,\n    disabled,\n    ...restProps,\n  };\n\n  return (\n    <Field {...fieldContainerProps}>\n      <SliderRange {...componentProps} />\n    </Field>\n  );\n};\n\nSliderRangeField.displayName = 'SliderRangeField';\n","import * as React from 'react';\nimport { TimeInput, TimeInputProps } from '#ui-kit3/components/input';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nexport interface TimeFieldProps extends TimeInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const TimeField = React.forwardRef<HTMLInputElement, TimeFieldProps>((props, ref) => {\n  const fieldRef = React.useRef(null);\n  const {\n    className,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    displayCharacterCounter,\n    ref: fieldRef,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n\n  const TimeProps = {\n    ref,\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    ...restProps,\n    portalTargetRef: fieldRef,\n  };\n  return (\n    <Field {...fieldContainerProps}>\n      <TimeInput {...TimeProps} />\n    </Field>\n  );\n});\n\nTimeField.displayName = 'TimeField';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { NumberInput, NumberInputProps } from '#ui-kit3/components/input/NumberInput';\nimport * as React from 'react';\n\nexport interface NumberInputFieldProps extends NumberInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const NumberInputField = React.forwardRef<HTMLInputElement, NumberInputFieldProps>((props, ref) => {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const {\n    className,\n    maxLength,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    maxLength,\n    inputRef,\n    displayCharacterCounter,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n  const inputProps = {\n    ref: refSetter(ref, inputRef),\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    maxLength,\n    ...restProps,\n  };\n\n  return (\n    <Field {...fieldContainerProps}>\n      <NumberInput {...inputProps} />\n    </Field>\n  );\n});\n\nNumberInputField.displayName = 'NumberInputField';\n","import type { SearchSelectProps } from '#ui-kit3/components/input/SearchSelect';\nimport { SearchSelect as BaseSelect } from '#ui-kit3/components/input/SearchSelect';\nimport * as React from 'react';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport styled from 'styled-components';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nconst Select = styled(BaseSelect)`\n  [data-status='error'] & {\n    border-color: ${(props) => props.theme.color.status.danger};\n  }\n`;\n\nexport interface SearchSelectFieldProps\n  extends SearchSelectProps,\n    Omit<FieldOwnProps, 'inputRef' | 'onChange' | 'displayCharacterCounter' | 'maxLength'> {}\n\nexport const SearchSelectField = React.forwardRef<HTMLSelectElement, SearchSelectFieldProps>((props, ref) => {\n  const fieldRef = React.useRef(null);\n  const { className, displayInline, status, required, extraText, label, id = uid(), disabled, ...restProps } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    ref: fieldRef,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n\n  const selectProps = {\n    ref,\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    ...restProps,\n    portalTargetRef: fieldRef,\n  };\n  return (\n    <Field {...fieldContainerProps}>\n      <Select {...selectProps} />\n    </Field>\n  );\n});\n\nSearchSelectField.displayName = 'SearchSelectField';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { EditMode, EditModeProps } from '#ui-kit3/components/input';\nimport * as React from 'react';\n\nexport interface EditModeFieldProps extends EditModeProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const EditModeField = React.forwardRef<HTMLInputElement, EditModeFieldProps>((props, ref) => {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const {\n    className,\n    maxLength,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    maxLength,\n    inputRef,\n    displayCharacterCounter,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n  const inputProps = {\n    ref: refSetter(ref, inputRef),\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    maxLength,\n    ...restProps,\n  };\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n  return (\n    <Field {...fieldContainerProps}>\n      <EditMode {...inputProps} />\n    </Field>\n  );\n});\n\nEditModeField.displayName = 'EditModeField';\n","import { uid } from '#ui-kit3/components/common/uid';\nimport { Field, FieldOwnProps } from '#ui-kit3/components/Field';\nimport { PhoneNumberInput, PhoneNumberInputProps } from '#ui-kit3/components/input/PhoneNumberInput';\nimport * as React from 'react';\n\nexport interface PhoneInputFieldProps extends PhoneNumberInputProps, Omit<FieldOwnProps, 'inputRef'> {}\n\nexport const PhoneInputField = React.forwardRef<HTMLInputElement, PhoneInputFieldProps>((props, ref) => {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const {\n    className,\n    displayInline,\n    status,\n    required,\n    extraText,\n    label,\n    id = uid(),\n    disabled,\n    displayCharacterCounter,\n    ...restProps\n  } = props;\n  const fieldContainerProps = {\n    className,\n    extraText,\n    status,\n    required,\n    label,\n    id,\n    displayInline,\n    disabled,\n    displayCharacterCounter,\n    ref: inputRef,\n    'data-field-id': id,\n    'data-field-name': restProps.name,\n  } as Record<string, any>;\n\n  (Object.keys(restProps) as Array<keyof typeof restProps>).forEach((key) => {\n    if (key.startsWith('data-field')) {\n      fieldContainerProps[key] = restProps[key];\n    }\n  });\n  const inputProps = {\n    ref,\n    id,\n    'aria-required': required,\n    status,\n    disabled,\n    ...restProps,\n    portalTargetRef: inputRef,\n  };\n\n  return (\n    <Field {...fieldContainerProps}>\n      <PhoneNumberInput {...inputProps} />\n    </Field>\n  );\n});\n\nPhoneInputField.displayName = 'NumberInputField';\n","import { css } from 'styled-components';\nimport { TYPOGRAPHY } from '#ui-kit3/components/Typography';\nimport { CheckboxDimension } from '#ui-kit3/components/Checkbox/CheckboxDimension';\n\nexport const width = css<{ dimension: CheckboxDimension }>`\n  width: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '20px';\n    }\n  }};\n`;\n\nexport const height = css<{ dimension: CheckboxDimension }>`\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 's':\n        return '16px';\n      default:\n        return '20px';\n    }\n  }};\n`;\n\nexport const styleTextMixin = css<{ dimension: CheckboxDimension; disabled?: boolean }>`\n  font-size: ${({ dimension }) => (dimension === 'm' ? 16 : 14)}px;\n  line-height: ${({ dimension }) => (dimension === 'm' ? 20 : 16)}px;\n  font-weight: normal;\n  font-family: ${TYPOGRAPHY.fontFamily};\n  color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.basic.secondary)};\n  user-select: none;\n`;\n\nexport const styleFocusBorder = css<{ dimension: CheckboxDimension }>`\n  &::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border: ${({ theme }) => `2px solid ${theme.color.basic.hover}`};\n    width: ${({ dimension }) => (dimension === 'm' ? 22 : 18)}px;\n    height: ${({ dimension }) => (dimension === 'm' ? 22 : 18)}px;\n    border-radius: 4px;\n  }\n`;\n\nexport const backGroundHover = css<{ checked?: boolean }>`\n  background: ${({ theme, checked }) => (checked ? theme.color.basic.hover : theme.color.background.secondary)};\n`;\n\nexport const borderHover = css<{ disabled?: boolean }>`\n  border: ${({ theme, disabled }) => `1px solid ${disabled ? theme.color.basic.disable : theme.color.basic.hover}`};\n`;\n\nexport const backGroundHoverChecked = css`\n  background: ${({ theme }) => theme.color.basic.hover};\n`;\n\nexport const background = css<{ checked?: boolean }>`\n  background-color: ${({ checked, theme }) => (checked ? theme.color.basic.primary : theme.color.background.primary)};\n`;\n\nexport const borderDefault = css<{ disabled?: boolean }>`\n  border: ${({ theme, disabled }) => `1px solid ${disabled ? theme.color.basic.disable : theme.color.basic.tertiary}`};\n`;\n\nexport const backGroundDisabled = css`\n  background: ${({ theme }) => theme.color.basic.disable};\n`;\n","import styled from 'styled-components';\nimport { styleTextMixin } from './mixins';\nimport type { CheckboxDimension } from '../Checkbox/CheckboxDimension';\n\nexport const CheckboxGroupWrapper = styled.div<{ disabled?: boolean; dimension: CheckboxDimension }>`\n  display: flex;\n  flex-direction: column;\n  display: inline-flex;\n  box-sizing: border-box;\n  ${styleTextMixin};\n\n  & > div {\n    margin-top: ${({ dimension }) => (dimension === 'm' ? 16 : 12)}px;\n  }\n`;\n","import type { FC } from 'react';\nimport React, { Children, cloneElement, HTMLAttributes, isValidElement } from 'react';\n\nimport { CheckboxGroupWrapper } from './CheckboxWrapper';\n\nimport type { CheckboxDimension } from '../Checkbox/CheckboxDimension';\n\nexport interface CheckboxGroupProps extends HTMLAttributes<HTMLDivElement> {\n  label?: string;\n  dimension?: CheckboxDimension;\n  disabled?: boolean;\n}\n\nexport const CheckboxGroup: FC<CheckboxGroupProps> = ({\n  children,\n  label,\n  disabled = false,\n  dimension = 'm',\n  ...props\n}) => {\n  const renderGroup = () => {\n    return Children.map(children, (child: React.ReactNode) => {\n      if (!isValidElement(child)) {\n        return null;\n      }\n      return cloneElement(child, {\n        disabled: disabled || child.props.disabled,\n        dimension: dimension,\n        ...child.props,\n      });\n    });\n  };\n  return (\n    <CheckboxGroupWrapper disabled={disabled} dimension={dimension} {...props}>\n      {label && label}\n      {renderGroup()}\n    </CheckboxGroupWrapper>\n  );\n};\n\nCheckboxGroup.displayName = 'CheckboxGroup';\n","import styled, { css } from 'styled-components';\n\nimport type { CheckboxDimension } from '../Checkbox/CheckboxDimension';\nimport { CheckboxGroupWrapper } from '../CheckboxGroup/CheckboxWrapper';\nimport { styleTextMixin } from '../CheckboxGroup/mixins';\n\nexport const CompositeWrapper = styled.div<{ dimension: CheckboxDimension; disabled?: boolean }>`\n  ${({ dimension }) => css`\n    position: relative;\n    width: fit-content;\n    display: flex;\n    flex-flow: column;\n    & > ${CheckboxGroupWrapper} {\n      padding-left: ${dimension === 'm' ? 30 : 25}px;\n    }\n    ${styleTextMixin}\n  `}\n`;\n","import React, { Children, cloneElement, FC, HTMLAttributes, isValidElement } from 'react';\n\nimport { CompositeWrapper } from './CompositeWrapper';\nimport type { CheckboxDimension } from '../Checkbox/CheckboxDimension';\n\nexport interface CheckboxCompositeGroupProps extends HTMLAttributes<HTMLDivElement> {\n  dimension?: CheckboxDimension;\n  disabled?: boolean;\n}\n\nexport const CheckboxCompositeGroup: FC<CheckboxCompositeGroupProps> = ({\n  children,\n  disabled = false,\n  dimension = 'm',\n  ...props\n}) => {\n  const renderCheckboxGroup = () => {\n    return Children.map(children, (child: React.ReactNode) => {\n      if (!isValidElement(child)) {\n        return null;\n      }\n      return cloneElement(child, {\n        disabled: disabled || child.props.disabled,\n        dimension: dimension,\n        ...child.props,\n      });\n    });\n  };\n  return (\n    <CompositeWrapper dimension={dimension} disabled={disabled} {...props}>\n      {renderCheckboxGroup()}\n    </CompositeWrapper>\n  );\n};\n\nCheckboxCompositeGroup.displayName = 'CheckboxCompositeGroup';\n","import type { HTMLAttributes, MutableRefObject, ReactNode } from 'react';\nimport * as React from 'react';\nimport { ReactElement, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport type { DropdownProps } from '#ui-kit3/components/Dropdown';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\n\nexport type DropDownDimensions = 'l' | 'm' | 's';\n\nexport const menuListHeights = css<{ dimension: DropDownDimensions }>`\n  max-height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'l':\n        return `${48 * 6}px`;\n      case 'm':\n        return `${40 * 6}px`;\n      case 's':\n        return `${32 * 6}px`;\n      default:\n        return `${48 * 6}px`;\n    }\n  }};\n`;\n\nconst UnstyledUL = styled.ul`\n  padding: unset;\n  margin: unset;\n`;\n\nconst StyledDropdown = styled(Dropdown)<{ dimension: DropDownDimensions }>`\n  padding: 8px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  ${menuListHeights};\n  cursor: pointer;\n  outline: none;\n  margin: 8px 0;\n`;\n\nexport interface DropDownMenuProps extends DropdownProps {\n  /** Размер Меню */\n  dimension?: DropDownDimensions;\n}\n\nexport const DropDownMenu = React.forwardRef<HTMLDivElement, DropDownMenuProps>(\n  ({ children, targetRef, dimension = 'l', alignSelf, onClickOutside, ...props }, ref) => {\n    const [hovered, setHovered] = React.useState<string | undefined>('');\n\n    const handleKeyUp = (e: React.KeyboardEvent) => {\n      const code = keyboardKey.getCode(e);\n      const activeOption = (e.target as HTMLElement).id;\n      switch (code) {\n        case keyboardKey[' ']: {\n          e.preventDefault();\n          break;\n        }\n        case keyboardKey.ArrowUp: {\n          setHovered(activeOption);\n          e.preventDefault();\n          break;\n        }\n        case keyboardKey.ArrowDown: {\n          setHovered(activeOption);\n          e.preventDefault();\n          break;\n        }\n      }\n    };\n\n    const renderChildrenDropDown = () => {\n      return React.Children.map(children, (child: React.ReactNode) => {\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        const detectedSubGroup = child.props.children?.some?.((element: ReactElement) => Array.isArray(element));\n\n        if (detectedSubGroup) {\n          return child.props.children.flat().map((child: ReactElement) => {\n            return React.cloneElement(child, {\n              hovered: hovered === child.props.id,\n              onKeyUp: handleKeyUp,\n              ...child.props,\n            });\n          });\n        }\n\n        return React.cloneElement(child, {\n          hovered: hovered === child.props.id,\n          onKeyUp: handleKeyUp,\n          ...child.props,\n        });\n      });\n    };\n\n    return (\n      <StyledDropdown\n        ref={ref}\n        dimension={dimension}\n        targetRef={targetRef}\n        alignSelf={alignSelf}\n        onClickOutside={onClickOutside}\n        {...props}\n      >\n        <UnstyledUL>{renderChildrenDropDown()}</UnstyledUL>\n      </StyledDropdown>\n    );\n  },\n);\n\nDropDownMenu.displayName = 'DropDownMenu';\n","import { css } from 'styled-components';\nimport { typography } from '../Typography';\n\nexport type DropDownItemDimension = 'l' | 'm' | 's';\n\nexport const styleTextMixin = css<{ dimension: DropDownItemDimension }>`\n  ${({ dimension }) => (dimension === 's' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  ul[data-dimension='s'] & {\n    ${typography['Body/Body 2 Long']}\n  }\n  text-overflow: ellipsis;\n`;\n\nexport const colorTextMixin = css<{ disabled?: boolean }>`\n  color: ${({ theme, disabled }) => (disabled ? theme.color.text.tertiary : theme.color.text.primary)};\n`;\n\nexport const backgroundColor = css<{ selected?: boolean; id?: string }>`\n  background: ${({ theme, selected }) => (selected ? theme.color.background.tertiary : theme.color.background.primary)};\n  ${({ id, theme }) => id && `ul[data-selectedid=\"${id}\"] && {background: ${theme.color.background.tertiary};}`}}\n`;\n\nexport const paddings = css<{ dimension?: DropDownItemDimension }>`\n  padding: ${({ dimension }) => {\n    switch (dimension) {\n      case 'l':\n        return '12px 16px';\n      case 'm':\n        return '8px 16px';\n      case 's':\n        return '6px 12px';\n      default:\n        return '12px 16px';\n    }\n  }};\n  ul[data-dimension='m'] && {\n    padding: 8px 16px;\n  }\n  ul[data-dimension='s'] && {\n    padding: 6px 12px;\n  }\n`;\n","import type { HTMLAttributes } from 'react';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { backgroundColor, colorTextMixin, DropDownItemDimension, paddings, styleTextMixin } from './mixins';\n\nexport interface DropDownItemProps extends HTMLAttributes<HTMLLIElement> {\n  /** Отключение секции */\n  disabled?: boolean;\n  /** Размер DropDownItems */\n  dimension?: DropDownItemDimension;\n  /** Активная секция DropDownItems */\n  selected?: boolean;\n  /** Акцентная секция DropDownItems */\n  hovered?: boolean;\n  /** Значение DropDownItems */\n  value?: string | number | undefined;\n}\n\nconst hoverStyle = css`\n  background-color: ${(p) => p.theme.color.background.secondary};\n  cursor: pointer;\n`;\n\nconst Item = styled.li<{\n  dimension: DropDownItemDimension;\n  selected?: boolean;\n  hovered?: boolean;\n  width?: number;\n  id?: string;\n}>`\n  display: flex;\n  align-items: center;\n  user-select: none;\n  flex-flow: wrap;\n  position: relative;\n  justify-content: space-between;\n  outline: none;\n  white-space: pre;\n  margin: 0;\n  ${paddings}\n  ${styleTextMixin}\n  ${colorTextMixin}\n  ${backgroundColor}\n  ${(p) => p.hovered && hoverStyle};\n\n  &:hover {\n    ${hoverStyle}\n  }\n\n  &&[data-disabled='true'] {\n    cursor: not-allowed;\n    background-color: ${(p) => p.theme.color.background.primary};\n    color: ${(p) => p.theme.color.text.tertiary};\n    && *[fill^='#'] {\n      fill: ${(p) => p.theme.color.text.tertiary};\n    }\n  }\n`;\n\nexport const DropDownItem = React.forwardRef<HTMLLIElement, DropDownItemProps>(\n  ({ children, disabled, hovered, dimension = 'l', selected = false, id, ...props }, ref) => {\n    return (\n      <Item\n        ref={ref}\n        dimension={dimension}\n        tabIndex={!disabled ? props.tabIndex || 0 : undefined}\n        selected={selected}\n        hovered={hovered}\n        id={id}\n        data-disabled={disabled}\n        {...props}\n      >\n        {children}\n      </Item>\n    );\n  },\n);\n\nDropDownItem.displayName = 'DropDownItem';\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Tooltip } from '#ui-kit3/components/Tooltip';\nimport { typography } from '#ui-kit3/components/Typography';\n\nconst circleBackground = css<{ background: TagKind | string }>`\n  background: ${({ background, theme }) => {\n    switch (background) {\n      case 'green':\n        return theme.color.status.success;\n      case 'blue':\n        return theme.color.basic.primary;\n      case 'red':\n        return theme.color.status.danger;\n      case 'orange':\n        return theme.color.status.warn;\n      default:\n        return background;\n    }\n  }};\n`;\n\nconst wrapperBackground = css<{ background: TagKind | string }>`\n  background: ${({ background, theme }) => {\n    switch (background) {\n      case 'green':\n        return theme.color.special.softGreen;\n      case 'blue':\n        return theme.color.special.softLightBlue;\n      case 'red':\n        return theme.color.special.softRed;\n      case 'orange':\n        return theme.color.special.softYellow;\n      case 'neutral':\n        return theme.color.background.tertiary;\n      default:\n        return background || theme.color.background.tertiary;\n    }\n  }};\n`;\n\nconst wrapperBorder = css<{ border: TagKind | string }>`\n  border: 1px solid\n    ${({ border, theme }) => {\n      switch (border) {\n        case 'green':\n          return theme.color.special.green;\n        case 'blue':\n          return theme.color.special.blue;\n        case 'red':\n          return theme.color.special.red;\n        case 'orange':\n          return theme.color.special.yellow;\n        case 'neutral':\n          return theme.color.basic.tertiary;\n        default:\n          return border || theme.color.basic.tertiary;\n      }\n    }};\n`;\n\nconst Wrapper = styled.button<{\n  width?: number | string;\n  clickable: boolean;\n  as?: React.ElementType;\n  statusViaBackground?: boolean;\n  border: TagKind | string;\n  background: TagKind | string;\n}>`\n  position: relative;\n  box-sizing: border-box;\n  height: 24px;\n  ${({ width }) => width && `width: ${typeof width === 'number' ? `${width}px` : width};`}\n  margin-top: 8px;\n  padding: 3px 7px;\n  border-radius: 4px;\n  ${({ statusViaBackground, theme }) =>\n    statusViaBackground ? wrapperBackground : `background: ${theme.color.background.tertiary};`}\n  ${({ statusViaBackground, theme }) =>\n    statusViaBackground ? wrapperBorder : `border: 1px solid ${theme.color.background.tertiary};`}\n\n  display: inline-flex;\n  align-items: center;\n  cursor: ${({ clickable }) => (clickable ? 'pointer' : 'default')};\n\n  ${({ clickable }) => !clickable && 'pointer-events: none;'}\n  &:hover,\n  &:active {\n    ${({ statusViaBackground, theme }) =>\n      statusViaBackground ? '' : `background: ${theme.color.background.tertiaryHover};`}\n  }\n\n  &:focus {\n    outline: none;\n\n    &:before {\n      content: '';\n      position: absolute;\n      top: -4px;\n      bottom: -4px;\n      left: -4px;\n      right: -4px;\n      border-radius: 6px;\n      border: 2px solid ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n`;\n\nconst Text = styled.span`\n  color: ${({ theme }) => theme.color.text.primary};\n  user-select: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  ${typography['Caption/Caption 1']}\n`;\n\nconst Circle = styled.div<{ background: TagKind | string }>`\n  display: flex;\n  flex-shrink: 0;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  margin-right: 6px;\n  ${circleBackground}\n`;\n\nconst Icon = styled.div`\n  display: flex;\n  flex-shrink: 0;\n  width: 16px;\n  height: 16px;\n  margin-right: 4px;\n\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n`;\n\nexport type TagKind = 'neutral' | 'green' | 'blue' | 'red' | 'orange';\n\nexport interface TagProps extends React.HTMLAttributes<HTMLButtonElement> {\n  /** Тип тэга. Можно выбрать из предложенных вариантов, либо задать свои цвета для тэга.\n   * В случае когда статус задается через статусную метку (кружок), свойство background отвечает за цвет статусной метки.\n   * В случае когда статус задается через цвет фона и обводки, свойство background отвечает за цвет фона,\n   * свойстов border отвечает за цвет обводки.\n   */\n  kind?: TagKind | { background: string; border?: string };\n  /** Отображение статуса через цвет обводки и фона. По умолчанию, при statusViaBackground = false, отображение статуса\n   * происходит через цветную статусную метку (цветной кружок рядом с текстом)\n   */\n  statusViaBackground?: boolean;\n  /** Отображение иконки. Иконка отображается только по левому краю и при условии, что статус отображается через цвет обводки и фона */\n  icon?: React.ReactNode;\n  /** Ширина тэга */\n  width?: number | string;\n  /** Обработчик клика */\n  onClick?: (event: React.MouseEvent<HTMLButtonElement> | React.KeyboardEvent<HTMLButtonElement>) => void;\n\n  /**\n   * Позволяет рендерить компонент используя другой тег HTML (https://styled-components.com/docs/api#as-polymorphic-prop).\n   * В storybook в качестве примера приведены несколько возможных вариантов этого параметра (кроме них можно использовать любой другой HTML тег).\n   */\n  as?: React.ElementType;\n}\n\nexport const Tag: React.FC<React.PropsWithChildren<TagProps>> = ({\n  children,\n  kind = 'neutral',\n  width,\n  statusViaBackground = false,\n  icon,\n  onClick,\n  ...props\n}) => {\n  const textRef = React.useRef<HTMLElement>(null);\n  const [overflow, setOverflow] = React.useState(false);\n  const background: TagKind | string =\n    typeof kind === 'object' ? (kind.background ? kind.background : 'neutral') : (kind as TagKind);\n  const border: TagKind | string =\n    typeof kind === 'object' ? (!!kind.background && !!kind.border ? kind.border : 'neutral') : (kind as TagKind);\n\n  const detectOverflow = (element: HTMLElement) => element.offsetWidth < element.scrollWidth;\n\n  React.useLayoutEffect(() => {\n    const element = textRef.current;\n    if (element && detectOverflow(element) !== overflow) {\n      setOverflow(detectOverflow(element));\n    }\n  }, [children, width]);\n\n  const renderTag = () => (\n    <Wrapper\n      width={width}\n      onClick={onClick}\n      clickable={!!onClick}\n      statusViaBackground={statusViaBackground}\n      border={border}\n      background={background}\n      {...props}\n    >\n      {background !== 'neutral' && !statusViaBackground && <Circle background={background} />}\n      {statusViaBackground && icon && <Icon>{icon}</Icon>}\n      {children && <Text ref={textRef}>{children}</Text>}\n    </Wrapper>\n  );\n\n  return overflow ? (\n    // не связываю тултип и тег через aria-describedby и id, чтобы содержимое тега не зачитывалось дважды\n    <Tooltip renderContent={() => children}>{renderTag()}</Tooltip>\n  ) : (\n    renderTag()\n  );\n};\n\nTag.displayName = 'Tag';\n","import type { FC, KeyboardEvent, MouseEvent, ReactNode } from 'react';\nimport React, { Children, cloneElement, HTMLAttributes, isValidElement } from 'react';\nimport styled from 'styled-components';\n\nconst TAG_MARGIN = '8px';\nconst TagsWrapper = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  & > * {\n    margin-right: ${TAG_MARGIN};\n  }\n\n  & > *:last-child {\n    margin-right: 0;\n  }\n`;\n\ntype Kind = 'neutral' | 'green' | 'blue' | 'red' | 'orange';\n\nexport interface TagsProps extends HTMLAttributes<HTMLDivElement> {\n  /** Ширина тэгов */\n  width?: number | string;\n  /** Тип тэгов */\n  kind?: Kind;\n  /** Обработчик клика по тэгам */\n  onClick?: (event: MouseEvent<HTMLElement> | KeyboardEvent<HTMLElement>) => void;\n}\n\nexport const Tags: FC<TagsProps> = ({ children, width, kind, onClick }) => {\n  return (\n    <TagsWrapper>\n      {Children.map(children, (child: ReactNode) => {\n        if (!isValidElement(child)) {\n          return null;\n        }\n        return cloneElement(child, {\n          onClick: child.props.onClick || onClick,\n          width: child.props.width || width,\n          kind: child.props.kind || kind,\n          ...child.props,\n        });\n      })}\n    </TagsWrapper>\n  );\n};\n\nTags.displayName = 'Tags';\n","import { css } from 'styled-components';\n\nexport type Dimension = 'm' | 's';\nexport type LabelPosition = 'left' | 'right';\n\nconst TOGGLE_WIDTH_M = '36px';\nconst TOGGLE_WIDTH_S = '28px';\nconst TOGGLE_HEIGHT_M = '20px';\nconst TOGGLE_HEIGHT_S = '16px';\n\nexport const SLIDER_SIZE_M = '16px';\nexport const SLIDER_SIZE_S = '12px';\n\nexport const sizes = css<{ dimension: Dimension }>`\n  width: ${({ dimension }) => (dimension === 's' ? TOGGLE_WIDTH_S : TOGGLE_WIDTH_M)};\n  height: ${({ dimension }) => (dimension === 's' ? TOGGLE_HEIGHT_S : TOGGLE_HEIGHT_M)};\n`;\n\nexport const sliderSizes = css<{ dimension: Dimension }>`\n  width: ${({ dimension }) => (dimension === 's' ? SLIDER_SIZE_S : SLIDER_SIZE_M)};\n  height: ${({ dimension }) => (dimension === 's' ? SLIDER_SIZE_S : SLIDER_SIZE_M)};\n  border-radius: ${({ dimension }) => (dimension === 's' ? SLIDER_SIZE_S : SLIDER_SIZE_M)};\n`;\n","import type { ChangeEventHandler, InputHTMLAttributes, ReactNode } from 'react';\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nimport { typography } from '../Typography';\n\nimport type { Dimension, LabelPosition } from './mixins';\nimport { sizes, SLIDER_SIZE_M, SLIDER_SIZE_S, sliderSizes } from './mixins';\n\nexport interface ToggleProps extends InputHTMLAttributes<HTMLInputElement> {\n  /** Состояние компонента */\n  checked?: boolean;\n  /** Колбек на изменение состояния компонента */\n  onChange?: ChangeEventHandler<HTMLInputElement>;\n  /** Расположение подписи */\n  labelPosition?: LabelPosition;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Ширина компонента. Применяется только в случае labelPosition == 'left'.\n   * Рекомендуется использовать в мобильной версии компонента, указываю ширину равную всему экрану */\n  width?: number | string;\n  /** Дополнительный текст (подсказка), выводится нижней строкой */\n  extraText?: ReactNode;\n}\n\nconst LABEL_MARGIN = '8px';\nconst BORDER_RADIUS = '10px';\nconst SLIDER_INDENT = '2px';\n\nconst Input = styled.input<{ dimension: Dimension }>`\n  position: absolute;\n  width: 0;\n  height: 0;\n  opacity: 0;\n\n  &:checked + span {\n    &:before {\n      ${({ dimension }) =>\n        `left: calc(100% - ${SLIDER_INDENT} - ${dimension === 'm' ? SLIDER_SIZE_M : SLIDER_SIZE_S});`}\n    }\n\n    background: ${({ theme }) => theme.color.basic.primary};\n  }\n\n  &:disabled + span {\n    background: ${({ theme }) => theme.color.text.tertiary};\n  }\n\n  &:checked:not(:disabled) {\n    &:hover + span,\n    &:focus + span {\n      background: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  &:not(:checked):not(:disabled) {\n    &:hover + span,\n    &:focus + span {\n      background: ${({ theme }) => theme.color.text.secondary};\n    }\n  }\n`;\nconst Label = styled.div<{\n  dimension: Dimension;\n  disabled: boolean;\n  position: LabelPosition;\n}>`\n  display: flex;\n  flex-direction: column;\n  ${({ position }) => (position === 'right' ? `margin-left: ${LABEL_MARGIN};` : `margin-right: ${LABEL_MARGIN};`)}\n  ${({ dimension }) => (dimension === 's' ? typography['Body/Body 2 Short'] : typography['Body/Body 1 Short'])}\n  color: ${({ disabled, theme }) => (disabled ? theme.color.text.tertiary : theme.color.text.primary)};\n`;\n\nconst Hint = styled.div<{\n  dimension: Dimension;\n  disabled: boolean;\n}>`\n  margin-top: 4px;\n  ${({ dimension }) => (dimension === 's' ? typography['Caption/Caption 1'] : typography['Body/Body 2 Short'])}\n  color: ${({ theme, disabled }) => (disabled ? theme.color.text.tertiary : theme.color.text.secondary)};\n`;\n\nconst Slider = styled.span<{\n  dimension: Dimension;\n  disabled: boolean;\n}>`\n  position: relative;\n  ${sizes}\n  border-radius: ${BORDER_RADIUS};\n  flex-shrink: 0;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: ${SLIDER_INDENT};\n    left: ${SLIDER_INDENT};\n    ${sliderSizes}\n    background: ${({ theme }) => theme.color.background.primary};\n    transition: all 0.3s;\n  }\n\n  background: ${({ theme }) => theme.color.basic.tertiary};\n`;\n\nconst Wrapper = styled.label<{ width?: number | string; disabled: boolean; labelPosition: LabelPosition }>`\n  display: flex;\n  flex-direction: ${({ labelPosition }) => (labelPosition === 'right' ? 'row' : 'row-reverse')};\n  align-items: flex-start;\n  justify-content: space-between;\n  position: relative;\n  width: ${({ width }) => (width ? (typeof width === 'number' ? `${width}px` : width) : 'fit-content')};\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n`;\n\nexport const Toggle = React.forwardRef<HTMLInputElement, ToggleProps>(\n  (\n    { dimension = 'm', labelPosition = 'right', disabled = false, width, extraText, className, children, ...props },\n    ref,\n  ) => {\n    return (\n      <Wrapper\n        className={className}\n        width={labelPosition === 'left' ? width : undefined}\n        labelPosition={labelPosition}\n        disabled={disabled}\n        role=\"switch\"\n        aria-checked={props.checked || props['aria-checked']}\n      >\n        <Input ref={ref} type=\"checkbox\" dimension={dimension} disabled={disabled} {...props} />\n        <Slider dimension={dimension} disabled={disabled} aria-hidden />\n        {children && (\n          <Label dimension={dimension} disabled={disabled} position={labelPosition}>\n            {children}\n            {extraText && (\n              <Hint dimension={dimension} disabled={disabled}>\n                {extraText}\n              </Hint>\n            )}\n          </Label>\n        )}\n      </Wrapper>\n    );\n  },\n);\n\nToggle.displayName = 'Toggle';\n","import styled, { css } from 'styled-components';\nimport type { Appearance, Dimension } from '#ui-kit3/components/Button/types';\n\nexport const backGroundColorMixin = css<{ appearance: Appearance }>`\n  background: ${({ theme, appearance }) =>\n    appearance === 'secondary' || appearance === 'ghost'\n      ? theme.color.background.tertiary\n      : appearance === 'white'\n      ? theme.color.basic.tertiary\n      : theme.color.background.secondary};\n`;\n\nexport const PseudoText = styled.div<{ dimension: Dimension; appearance: Appearance }>`\n  border-radius: 4px;\n  width: ${({ dimension }) => (dimension === 's' ? 65 : 74)}px;\n  height: ${({ dimension }) => (dimension === 's' ? 8 : 12)}px;\n  ${backGroundColorMixin}\n`;\n","import styled from 'styled-components';\nimport type { Appearance, Dimension } from '#ui-kit3/components/Button/types';\nimport { backGroundColorMixin } from '#ui-kit3/components/skeleton/PseudoText';\n\nexport const PseudoIcon = styled.div<{ dimension: Dimension; appearance: Appearance }>`\n  border-radius: 50%;\n  width: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  height: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  ${backGroundColorMixin}\n`;\n","import type { HTMLAttributes, KeyboardEvent, MouseEvent, ReactNode } from 'react';\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { OpenStatusButton } from '#ui-kit3/components/OpenStatusButton';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { Button } from '../Button';\n\nimport { PseudoText } from '#ui-kit3/components/skeleton/PseudoText';\nimport { PseudoIcon } from '#ui-kit3/components/skeleton/PseudoIcon';\nimport { DropDownItem } from '../DropDownItem';\nimport { Spinner } from '../Spinner';\n\nconst SkeletonText = styled(PseudoText)`\n  margin-right: 8px;\n`;\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\ntype Appearance = 'primary' | 'secondary' | 'ghost';\n\nexport interface MenuButtonItem extends HTMLAttributes<HTMLLIElement> {\n  /** Содержимое опции, предназначенное для отображения */\n  display: ReactNode;\n  /** Отключение опции */\n  disabled?: boolean;\n  /** Значение опции */\n  value?: string | number | undefined;\n}\n\nexport interface MenuButtonProps extends Omit<HTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  /** Массив опций */\n  options: Array<MenuButtonItem>;\n  /** Выбранная опция */\n  selected: string | null;\n  /** Колбек на изменение выбранной опции */\n  onChange: (id: string) => void;\n  /** Колбек на открытие меню */\n  onOpen?: () => void;\n  /** Колбек на закрытие меню */\n  onClose?: () => void;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Внешний вид компонента */\n  appearance?: Appearance;\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Состояние loading */\n  loading?: boolean;\n  /** Состояние skeleton */\n  skeleton?: boolean;\n  /** Выравнивание выпадающего меню относительно компонента https://developer.mozilla.org/en-US/docs/Web/CSS/align-self */\n  alignSelf?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n}\n\nconst OpenButton = styled(OpenStatusButton)<{ appearance?: Appearance }>`\n  &:not([data-disabled]):hover *[fill^='#'] {\n    fill: ${(props) => {\n      return props.appearance === 'primary' ? props.theme.color.text.staticWhite : props.theme.color.basic.hover;\n    }};\n  }\n`;\n\nexport const MenuButton = React.forwardRef<HTMLButtonElement, MenuButtonProps>(\n  (\n    {\n      children,\n      dimension = 'l',\n      appearance = 'primary',\n      disabled = false,\n      loading = false,\n      skeleton = false,\n      alignSelf = 'flex-end',\n      onClose,\n      onOpen,\n      options,\n      selected,\n      onChange,\n      ...props\n    },\n    ref,\n  ) => {\n    const [menuOpened, setMenuOpened] = React.useState<boolean>(false);\n    const btnRef = React.useRef<HTMLButtonElement>(null);\n    const [hovered, setHovered] = React.useState('');\n    const menuDimension = dimension === 'xl' ? 'l' : dimension;\n    const menuWidth = dimension === 's' ? '240px' : '280px';\n    const spinnerDimension = dimension === 's' ? 's' : 'm';\n\n    const findOptionValue = (options: MenuButtonItem[]) => options.find(({ disabled }) => !disabled)?.id;\n    const hoverIndex = React.useMemo(() => options.findIndex((option) => option.id === hovered), [options, hovered]);\n\n    const findNextHoverValue = React.useCallback(() => {\n      const nextAbledOptionValue = findOptionValue(options.slice(hoverIndex + 1));\n      if (nextAbledOptionValue) return nextAbledOptionValue;\n      return findOptionValue(options);\n    }, [hoverIndex, options]);\n\n    const findPrevHoverValue = React.useCallback(() => {\n      const sliceInd = hoverIndex === -1 ? undefined : hoverIndex;\n      const prevAbledOptionValue = findOptionValue(options.slice(0, sliceInd).reverse());\n      if (prevAbledOptionValue) return prevAbledOptionValue;\n      return findOptionValue(options.slice().reverse());\n    }, [hoverIndex, options]);\n\n    const reverseMenu = () => {\n      setMenuOpened((prevOpened) => {\n        prevOpened ? onClose?.() : onOpen?.();\n        return !prevOpened;\n      });\n    };\n    const closeMenu = () => {\n      setMenuOpened(false);\n      onClose?.();\n      btnRef.current?.focus();\n    };\n\n    const clickOutside = (e: Event) => {\n      if (e.target && btnRef.current?.contains(e.target as Node)) {\n        return;\n      }\n      setMenuOpened(false);\n    };\n\n    const handleBtnKeyDown = (e: KeyboardEvent<HTMLButtonElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey.ArrowDown || code === keyboardKey.Enter || code === keyboardKey[' ']) {\n        setMenuOpened(true);\n        onOpen?.();\n        e.preventDefault();\n      }\n    };\n    const renderContent = () => {\n      if (skeleton)\n        return (\n          <>\n            <SkeletonText dimension={dimension} appearance={appearance} />\n            <PseudoIcon dimension={dimension} appearance={appearance} />\n          </>\n        );\n      return (\n        <>\n          {React.Children.toArray(children).map((child) =>\n            typeof child === 'string' ? <span key={uid()}>{child}</span> : child,\n          )}\n          <OpenButton $isOpen={menuOpened} appearance={appearance} aria-hidden />\n        </>\n      );\n    };\n    const handleClick = (e: MouseEvent<HTMLLIElement>) => {\n      onChange(e.currentTarget.id);\n      closeMenu();\n    };\n    const handleKeyDown = (e: KeyboardEvent<HTMLLIElement>) => {\n      const code = keyboardKey.getCode(e);\n      switch (code) {\n        case keyboardKey[' ']:\n        case keyboardKey.Enter: {\n          onChange(hovered);\n          closeMenu();\n          e.preventDefault();\n          break;\n        }\n        case keyboardKey.ArrowUp: {\n          const prevValue = findPrevHoverValue();\n          if (!prevValue) break;\n          setHovered(prevValue);\n          break;\n        }\n        case keyboardKey.ArrowDown: {\n          const nextValue = findNextHoverValue();\n          if (!nextValue) break;\n          setHovered(nextValue);\n          break;\n        }\n      }\n    };\n\n    const handleMenuKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey.Escape || code === keyboardKey.Tab) {\n        closeMenu();\n      }\n    };\n\n    return (\n      <>\n        <Button\n          {...props}\n          ref={refSetter(ref, btnRef)}\n          dimension={dimension}\n          appearance={appearance}\n          loading={loading}\n          disabled={loading || skeleton ? true : disabled}\n          onKeyDown={handleBtnKeyDown}\n          onClick={reverseMenu}\n          aria-expanded={menuOpened}\n        >\n          {renderContent()}\n        </Button>\n        {menuOpened && !loading && !skeleton && (\n          <Dropdown\n            role=\"listbox\"\n            targetRef={btnRef}\n            onClickOutside={clickOutside}\n            style={{ width: menuWidth }}\n            alignSelf={alignSelf}\n            onKeyDown={handleMenuKeyDown}\n          >\n            {options.map(({ display, disabled: optionDisabled, id, ...props }) => (\n              <DropDownItem\n                {...props}\n                key={id}\n                id={id}\n                dimension={menuDimension}\n                hovered={hovered === id}\n                disabled={disabled || optionDisabled}\n                selected={selected === id}\n                aria-selected={selected === id}\n                role=\"option\"\n                onClick={\n                  disabled || optionDisabled\n                    ? (e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                      }\n                    : handleClick\n                }\n                onKeyDown={handleKeyDown}\n              >\n                {display}\n              </DropDownItem>\n            ))}\n          </Dropdown>\n        )}\n      </>\n    );\n  },\n);\n\nMenuButton.displayName = 'MenuButton';\n","import type { ButtonHTMLAttributes, ReactNode } from 'react';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { ReactComponent as MoreHorizontalOutline } from '@openvtb/admiral-icons/build/system/MoreHorizontalOutline.svg';\n\nexport type Dimension = 'l' | 'm' | 's';\n\nconst ICON_SIZE = {\n  l: 24,\n  m: 20,\n  s: 16,\n};\n\nconst focusStyle = css`\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: -4px;\n    left: -4px;\n    bottom: -4px;\n    right: -4px;\n    border: 2px solid ${({ theme }) => theme.color.basic.hover};\n    border-radius: 4px;\n  }\n`;\n\nconst ButtonComponent = styled.button<{ dimension: Dimension; menuOpened: boolean }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  position: relative;\n  cursor: pointer;\n  border: 0;\n  outline: none;\n  padding: 0;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  overflow: visible;\n\n  & svg {\n    flex-shrink: 0;\n  }\n\n  &:hover:not(:disabled) *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n\n  ${({ menuOpened }) => menuOpened && focusStyle}\n  &:focus {\n    ${focusStyle}\n  }\n\n  &:active *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.press};\n  }\n\n  &:disabled {\n    cursor: default;\n\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n\nexport const ButtonContent = styled.span<{ $isVertical?: boolean; dimension: Dimension }>`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  height: 100%;\n\n  & > svg {\n    transform: rotate(${(p) => (p.$isVertical ? 90 : 0)}deg);\n    height: ${({ dimension }) => ICON_SIZE[dimension]}px;\n    width: ${({ dimension }) => ICON_SIZE[dimension]}px;\n\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.secondary};\n    }\n  }\n`;\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Элементы содержимого */\n  children?: ReactNode;\n  /** Размер кнопки */\n  dimension?: Dimension;\n  /** Состояние меню */\n  menuOpened: boolean;\n  /** Ориентация компонента */\n  isVertical?: boolean;\n}\n\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ dimension = 'l', menuOpened, type = 'button', isVertical = false, ...props }, ref) => {\n    return (\n      <ButtonComponent ref={ref} dimension={dimension} menuOpened={menuOpened} type={type} {...props}>\n        <ButtonContent dimension={dimension} $isVertical={isVertical}>\n          <MoreHorizontalOutline aria-hidden />\n        </ButtonContent>\n      </ButtonComponent>\n    );\n  },\n);\n","import * as React from 'react';\nimport { KeyboardEvent } from 'react';\nimport styled from 'styled-components';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\n\nimport type { Dimension } from './Button';\nimport { Button } from './Button';\n\nconst StyledDropdown = styled(Dropdown)`\n  padding: 8px 0;\n`;\n\nexport interface OverflowMenuProps extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  /** Выбранная опция */\n  selected?: string | null;\n  /** Колбек на изменение выбранной опции */\n  onChange?: (id: string) => void;\n  /** Колбек на открытие меню */\n  onOpen?: () => void;\n  /** Колбек на закрытие меню */\n  onClose?: () => void;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Выравнивание выпадающего меню относительно компонента https://developer.mozilla.org/en-US/docs/Web/CSS/align-self */\n  alignSelf?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n  /** Ориентация компонента */\n  isVertical?: boolean;\n}\n\nexport const OverflowMenu = React.forwardRef<HTMLButtonElement, OverflowMenuProps>(\n  (\n    {\n      children,\n      dimension = 'l',\n      disabled = false,\n      alignSelf = 'flex-end',\n      isVertical = false,\n      onClose,\n      onOpen,\n      selected,\n      onChange,\n      onClick,\n      onKeyDown,\n      ...props\n    },\n    ref,\n  ) => {\n    const [menuOpened, setMenuOpened] = React.useState<boolean>(false);\n    const [hovered, setHovered] = React.useState('');\n    const btnRef = React.useRef<HTMLButtonElement>(null);\n    const childrenArray = React.Children.toArray(children);\n    const findOptionValue = (option: (React.ReactChild | React.ReactFragment | React.ReactPortal)[]) => {\n      if (React.isValidElement(option[0]) && 'props' in option[0]) {\n        return option[0].props.id;\n      }\n    };\n\n    const hoverIndex = React.useMemo(\n      () =>\n        childrenArray?.findIndex((child) => {\n          if (React.isValidElement(child) && 'props' in child) {\n            return child.props.id === hovered;\n          }\n          return -1;\n        }),\n      [childrenArray, hovered],\n    );\n\n    const findNextHoverValue = React.useCallback(() => {\n      const nextAbledOptionValue = findOptionValue(childrenArray.slice(hoverIndex + 1));\n      if (nextAbledOptionValue) return nextAbledOptionValue;\n      return findOptionValue(childrenArray);\n    }, [hoverIndex, childrenArray]);\n\n    const findPrevHoverValue = React.useCallback(() => {\n      const sliceInd = hoverIndex === -1 ? undefined : hoverIndex;\n      const prevAbledOptionValue = findOptionValue(childrenArray.slice(0, sliceInd).reverse());\n      if (prevAbledOptionValue) return prevAbledOptionValue;\n      return findOptionValue(childrenArray.slice().reverse());\n    }, [hoverIndex, childrenArray]);\n\n    const reverseMenu = (e: React.MouseEvent<HTMLButtonElement>) => {\n      setMenuOpened((prevOpened) => {\n        prevOpened ? onClose?.() : onOpen?.();\n        return !prevOpened;\n      });\n      onClick?.(e);\n    };\n    const closeMenu = () => {\n      setMenuOpened(false);\n      onClose?.();\n      btnRef.current?.focus();\n    };\n    const clickOutside = (e: Event) => {\n      if (e.target && btnRef.current?.contains(e.target as Node)) {\n        return;\n      }\n      setMenuOpened(false);\n      onClose?.();\n    };\n\n    const handleBtnKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n      const code = keyboardKey.getCode(e);\n      onKeyDown?.(e);\n      if (code === keyboardKey.ArrowDown || code === keyboardKey.Enter || code === keyboardKey[' ']) {\n        setMenuOpened(true);\n        onOpen?.();\n        e.preventDefault();\n      }\n    };\n\n    const handleMenuKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey.Escape || code === keyboardKey.Tab) {\n        closeMenu();\n      }\n    };\n    return (\n      <>\n        <Button\n          {...props}\n          ref={refSetter(ref, btnRef)}\n          dimension={dimension}\n          disabled={disabled}\n          menuOpened={menuOpened}\n          isVertical={isVertical}\n          onKeyDown={handleBtnKeyDown}\n          onClick={reverseMenu}\n          aria-expanded={menuOpened}\n          aria-haspopup={menuOpened}\n        />\n        {menuOpened && (\n          <StyledDropdown\n            role=\"listbox\"\n            targetRef={btnRef}\n            alignSelf={alignSelf}\n            onClickOutside={clickOutside}\n            onKeyDown={handleMenuKeyDown}\n          >\n            {React.Children.map(children, (child: React.ReactNode) => {\n              if (!React.isValidElement(child)) {\n                return null;\n              }\n              const { onClick, onKeyDown, disabled, id, ...props } = child.props;\n              const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n                if (!disabled) {\n                  onChange?.(e.currentTarget.id);\n                  closeMenu();\n                  onClick?.(e);\n                }\n              };\n              const handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n                const code = keyboardKey.getCode(e);\n                onKeyDown?.(e);\n                switch (code) {\n                  case keyboardKey[' ']:\n                  case keyboardKey.Enter: {\n                    if (!disabled) {\n                      onChange?.(hovered ?? '');\n                      closeMenu();\n                      e.preventDefault();\n                    }\n                    break;\n                  }\n                  case keyboardKey.ArrowUp: {\n                    const prevValue = findPrevHoverValue();\n                    if (!prevValue) break;\n                    setHovered(prevValue);\n                    break;\n                  }\n                  case keyboardKey.ArrowDown: {\n                    const nextValue = findNextHoverValue();\n                    if (!nextValue) break;\n                    setHovered(nextValue);\n                    break;\n                  }\n                }\n              };\n              return React.cloneElement(child, {\n                onClick: handleClick,\n                onKeyDown: handleKeyDown,\n                'aria-selected': selected === id,\n                selected: selected === id,\n                hovered: hovered === id,\n                ...props,\n              });\n            })}\n          </StyledDropdown>\n        )}\n      </>\n    );\n  },\n);\n\nOverflowMenu.displayName = 'OverflowMenu';\n","import type { FC, HTMLAttributes, ReactNode } from 'react';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { TYPOGRAPHY } from '#ui-kit3/components/Typography';\n\nexport type AppearanceProgressPage = 'primary' | 'error';\n\nexport interface ProgressPageProps extends HTMLAttributes<HTMLDivElement> {\n  /** Значение прогресса от 1 до 100 */\n  percent?: number;\n  /** Текст над прогрессбаром */\n  label?: string | ReactNode;\n  /** Вид компонента */\n  appearance?: AppearanceProgressPage;\n}\n\nconst Wrapper = styled.div<{ appearance?: AppearanceProgressPage }>`\n  background: ${({ theme }) => theme.color.background.tertiary};\n  border-radius: 2px;\n  min-width: 140px;\n  min-height: 4px;\n  display: flex;\n`;\nconst Progress = styled.div<{ percent: number; appearance?: AppearanceProgressPage }>`\n  background: ${({ theme, appearance }) =>\n    appearance === 'error' ? theme.color.status.danger : theme.color.basic.primary};\n  width: ${({ percent }) => percent}%;\n  border-radius: 2px;\n  transition: all 0.3s linear;\n`;\n\nconst Label = styled.div<{ appearance?: AppearanceProgressPage }>`\n  display: flex;\n  padding-bottom: 8px;\n  font-size: 12px;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  line-height: 16px;\n  font-style: normal;\n  font-weight: normal;\n  font-family: ${TYPOGRAPHY.fontFamily};\n  color: ${({ theme, appearance }) => (appearance === 'error' ? theme.color.status.danger : theme.color.text.primary)};\n`;\n\nconst Container = styled.div``;\n\nexport const ProgressPage: FC<ProgressPageProps> = ({\n  percent = 0,\n  children,\n  label,\n  appearance = 'primary',\n  ...props\n}) => {\n  return (\n    <Container {...props}>\n      <Label appearance={appearance}>{label}</Label>\n      <Wrapper appearance={appearance}>\n        <Progress appearance={appearance} percent={percent} />\n      </Wrapper>\n    </Container>\n  );\n};\n\nProgressPage.displayName = 'ProgressPage';\n","import type { FC, HTMLAttributes } from 'react';\nimport React from 'react';\nimport styled from 'styled-components';\n\nexport type AppearanceHeaderBar = 'primary' | 'error';\n\nexport interface ProgressHeaderProps extends HTMLAttributes<HTMLDivElement> {\n  /** Значение прогресса от 1 до 100 */\n  percent?: number;\n  /** Вид компонента */\n  appearance?: AppearanceHeaderBar;\n}\n\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n`;\n\nconst Wrapper = styled.div<{ appearance?: AppearanceHeaderBar }>`\n  background: ${({ theme }) => theme.color.background.tertiary};\n  min-width: 140px;\n  min-height: 4px;\n  display: flex;\n`;\nconst Progress = styled.div<{ percent: number; appearance?: AppearanceHeaderBar }>`\n  background: ${({ theme, appearance }) =>\n    appearance === 'error' ? theme.color.status.danger : theme.color.basic.primary};\n  width: ${({ percent }) => percent}%;\n  transition: all 0.3s linear;\n`;\n\nexport const ProgressHeader: FC<ProgressHeaderProps> = ({ percent = 0, appearance = 'primary', ...props }) => {\n  return (\n    <Container {...props}>\n      <Wrapper appearance={appearance}>\n        <Progress appearance={appearance} percent={percent} />\n      </Wrapper>\n    </Container>\n  );\n};\n\nProgressHeader.displayName = 'ProgressHeader';\n","/**\n * Функция возвращает существительное во множественном числе\n * param  number - Число на основе которого нужно сформировать окончание\n * param  words - Массив слов во множественном числе для чисел (1, 4, 5),\n * например ['яблоко', 'яблока', 'яблок']\n * return String\n */\nexport const getPlural = (words: string[]) => (number: number) => {\n  let value = Math.abs(number);\n  value %= 100;\n  if (value >= 5 && value <= 20) {\n    return words[2];\n  }\n  value %= 10;\n  if (value === 1) {\n    return words[0];\n  }\n  if (value >= 2 && value <= 4) {\n    return words[1];\n  }\n  return words[2];\n};\n\n/** Функция проверяет входит ли число в интервал чисел */\nexport const fitLimit = (min: number, max: number, num: number) => num >= min && num < max;\n\n/** Функция переводит первую буквы строки в нижний регистр */\nexport const setFirstLetterToLowerCase = (str = '') => str.slice(0, 1).toLowerCase() + str.slice(1);\n\n/** Функция переводит первую буквы строки в верхний регистр */\nexport const setFirstLetterToUpperCase = (str = '') => str.slice(0, 1).toUpperCase() + str.slice(1);\n\n/** Функция возвращает соотношение чисел друг к другу в процентах */\nexport const convertNumberToIntegerPercent = (num: number, max = 100) => Math.round((100 * num) / max);\n","import React, { HTMLAttributes } from 'react';\nimport type { FC } from 'react';\nimport styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nimport {\n  convertNumberToIntegerPercent,\n  fitLimit,\n  getPlural,\n  setFirstLetterToLowerCase,\n  setFirstLetterToUpperCase,\n} from './utils';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 388px;\n`;\n\nconst ProgressWrapper = styled.div`\n  display: flex;\n  overflow: hidden;\n  height: 4px;\n  border-radius: 2px;\n  background-color: ${({ theme }) => theme.color.background.tertiary};\n`;\n\nconst Progress = styled.div<{ percent: number }>`\n  width: ${({ percent }) => percent}%;\n  background-color: ${({ theme }) => theme.color.basic.primary};\n`;\n\nconst Header = styled.div<{ mobile?: boolean }>`\n  display: flex;\n  flex-direction: ${({ mobile }) => (mobile ? 'column' : 'row')};\n  ${({ mobile }) => !mobile && '  justify-content: space-between;'}\n  margin-bottom: 8px;\n`;\n\nconst ActiveStep = styled.div`\n  ${typography['Body/Body 2 Long']}\n  color: ${({ theme }) => theme.color.text.primary};\n`;\n\nconst ProgressText = styled.div`\n  white-space: nowrap;\n  flex-shrink: 0;\n  ${typography['Caption/Caption 1']}\n  color: ${({ theme }) => theme.color.text.secondary};\n`;\n\nconst NextStep = styled.div`\n  width: 100%;\n  align-text: left;\n  margin-top: 8px;\n  ${typography['Caption/Caption 1']}\n  color: ${({ theme }) => theme.color.text.secondary};\n`;\n\nexport interface ProgressStepperProps extends HTMLAttributes<HTMLDivElement> {\n  /** Массив шагов */\n  steps: string[];\n  /** Номер активного шага, соответствует индексу шага в массиве */\n  activeStep?: number;\n  /** Название шага: массив слов во множественном числе для чисел (1, 4, 5), например, ['яблоко', 'яблока', 'яблок'] */\n  stepName?: string[];\n  /** Функция, которая формирует подпись о следующем шаге, на основе nextStepName */\n  renderNextStepName?: (nextStepName: string) => void;\n  /** Отображение/скрытие подписи о следующем шаге */\n  displayNextStepName?: boolean;\n  /** Мобильная версия компонента */\n  mobile?: boolean;\n}\n\nexport const ProgressStepper: FC<ProgressStepperProps> = ({\n  steps,\n  activeStep: activeStepProp = -1,\n  stepName = ['шаг', 'шага', 'шагов'],\n  renderNextStepName,\n  displayNextStepName = true,\n  mobile = false,\n  ...props\n}) => {\n  const stepsAmount = steps.length;\n  const activeStep = fitLimit(0, stepsAmount, activeStepProp) ? activeStepProp : -1;\n  const activeStepNumber = activeStep + 1;\n  const nextStep = activeStep + 1;\n  const nextStepContent =\n    renderNextStepName?.(steps[nextStep]) || 'Далее - ' + setFirstLetterToLowerCase(steps[nextStep]);\n\n  const fixedStepName = getPlural(stepName)(1);\n  const fixedStepNamePlural = getPlural(stepName)(5);\n\n  return (\n    <Wrapper {...props}>\n      <Header mobile={mobile} aria-hidden>\n        <ActiveStep>{setFirstLetterToUpperCase(steps[activeStep])}</ActiveStep>\n        <ProgressText>\n          {activeStepNumber} из {stepsAmount} {fixedStepNamePlural?.toLowerCase()}\n        </ProgressText>\n      </Header>\n      <ProgressWrapper>\n        <Progress\n          tabIndex={0}\n          role=\"progressbar\"\n          aria-valuemin={0}\n          aria-valuemax={stepsAmount}\n          aria-valuenow={activeStepNumber}\n          aria-valuetext={`${fixedStepName} ${activeStepNumber}: ${steps[activeStep]}`}\n          percent={convertNumberToIntegerPercent(activeStepNumber, stepsAmount)}\n        />\n      </ProgressWrapper>\n      {displayNextStepName && steps[nextStep] && <NextStep aria-hidden>{nextStepContent}</NextStep>}\n    </Wrapper>\n  );\n};\n\nProgressStepper.displayName = 'ProgressStepper';\n","export const hexToRgba = (hex: string, opacity?: number) => {\n  const hexValue = hex.replace('#', '');\n  const hexValueDivided = hexValue.match(new RegExp(`(.{${hexValue.length / 3}})`, 'g'));\n  const rgbaValue = [];\n\n  if (!hexValueDivided) {\n    throw new Error('Incorrect color srting');\n  }\n\n  for (let i = 0; i < hexValueDivided.length; i++) {\n    rgbaValue[i] = parseInt(\n      hexValueDivided[i].length == 1 ? hexValueDivided[i] + hexValueDivided[i] : hexValueDivided[i],\n      16,\n    );\n  }\n\n  if (opacity !== undefined) {\n    rgbaValue.push(opacity);\n  }\n\n  return `rgba(${rgbaValue.join(',')})`;\n};\n","const getScrollbarSize = () => {\n  let scrollBarWidth = 0;\n  const scrollbox = document.createElement('div');\n  scrollbox.innerHTML = `Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem \n  nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat. \n  Ut wisis enim ad minim veniam, quis nostrud exerci tution ullamcorper suscipit \n  lobortis nisl ut aliquip ex ea commodo consequat.`;\n  scrollbox.style.overflow = 'scroll';\n  scrollbox.style.fontSize = '14px';\n  scrollbox.style.height = '50px';\n  scrollbox.style.maxHeight = '50px';\n  scrollbox.style.width = '100px';\n  scrollbox.style.position = 'absolute';\n  scrollbox.style.top = '-100000px';\n  scrollbox.style.left = '-100000px';\n  document.body.appendChild(scrollbox);\n  scrollBarWidth = scrollbox.offsetWidth - scrollbox.clientWidth;\n  document.body.removeChild(scrollbox);\n  return scrollBarWidth;\n};\n\nconst ownerDocument = (node: Node | null | undefined): Document => {\n  return (node && node.ownerDocument) || document;\n};\n\nconst ownerWindow = (node: Node | undefined): Window => {\n  const doc = ownerDocument(node);\n  return doc.defaultView || window;\n};\n\nconst getPaddingRight = (element: Element): number => {\n  return parseInt(ownerWindow(element).getComputedStyle(element).paddingRight, 10) || 0;\n};\n\n// Is a vertical scrollbar displayed\nconst isOverflow = (container: Element): boolean => {\n  const doc = ownerDocument(container);\n\n  if (doc.body === container) {\n    return ownerWindow(container).innerWidth > doc.documentElement.clientWidth;\n  }\n\n  return container.scrollHeight > container.clientHeight;\n};\n\n// the main idea is from https://github.com/mui-org/material-ui/blob/master/packages/mui-core/src/ModalUnstyled/ModalManager.ts\nexport const restoreContainer = (wrapper: Element) => {\n  const container = wrapper as HTMLElement;\n  const initialStyle: Array<{\n    /** CSS property name (hyphen separated) to be modified. */\n    property: string;\n    el: HTMLElement | SVGElement;\n    value: string;\n  }> = [];\n\n  if (isOverflow(container)) {\n    initialStyle.push({\n      value: container.style.paddingRight,\n      property: 'padding-right',\n      el: container,\n    });\n\n    container.style.paddingRight = `${getPaddingRight(container) + getScrollbarSize()}px`;\n\n    const fixedElements = ownerDocument(container).querySelectorAll('*[style=\"position:fixed\"]');\n    [].forEach.call(fixedElements, (element: HTMLElement | SVGElement) => {\n      initialStyle.push({\n        value: element.style.paddingRight,\n        property: 'padding-right',\n        el: element,\n      });\n      element.style.paddingRight = `${getPaddingRight(element) + getScrollbarSize()}px`;\n    });\n  }\n\n  const parent = container.parentElement;\n  const containerWindow = ownerWindow(container);\n  const scrollContainer =\n    parent?.nodeName === 'HTML' && containerWindow.getComputedStyle(parent).overflowY === 'scroll' ? parent : container;\n\n  initialStyle.push(\n    {\n      value: scrollContainer.style.overflow,\n      property: 'overflow',\n      el: scrollContainer,\n    },\n    {\n      value: scrollContainer.style.overflowX,\n      property: 'overflow-x',\n      el: scrollContainer,\n    },\n    {\n      value: scrollContainer.style.overflowY,\n      property: 'overflow-y',\n      el: scrollContainer,\n    },\n  );\n\n  scrollContainer.style.overflow = 'hidden';\n\n  const restoreInitialStyle = () => {\n    initialStyle.forEach(({ value, el, property }) => {\n      if (value) {\n        el.style.setProperty(property, value);\n      } else {\n        el.style.removeProperty(property);\n      }\n    });\n  };\n\n  return restoreInitialStyle;\n};\n\nexport function findIndexOf<T>(items: readonly T[], callback: (item: T) => boolean): number {\n  let idx = -1;\n  items.some((item, index) => {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n    return false;\n  });\n  return idx;\n}\n","import { restoreContainer, findIndexOf } from './utils';\n\ninterface Modal {\n  containerEl: Element;\n  modalEl: Element;\n}\n\ninterface Container {\n  container: Element;\n  modals: Modal[];\n  restore: null | (() => void);\n}\n\n/**\n * State management for containers and the modals in those containers.\n * Used to ensure proper styling of containers\n * (hide vertical scrollbars, when modals exist, and restore initial styles for containers, when modals are unmounted).\n * the main idea is from https://github.com/mui-org/material-ui/blob/master/packages/mui-core/src/ModalUnstyled/ModalManager.ts\n */\nexport default class ModalManager {\n  private containers: Container[];\n  private modals: Modal[];\n\n  constructor() {\n    this.modals = [];\n    this.containers = [];\n  }\n\n  add(modal: Modal, container: Element): number {\n    let modalIndex = this.modals.indexOf(modal);\n    if (modalIndex !== -1) {\n      return modalIndex;\n    }\n\n    modalIndex = this.modals.length;\n    this.modals.push(modal);\n\n    const containerIndex = findIndexOf(this.containers, (item) => item.container === container);\n    if (containerIndex !== -1) {\n      this.containers[containerIndex].modals.push(modal);\n      return modalIndex;\n    }\n\n    this.containers.push({\n      modals: [modal],\n      container,\n      restore: null,\n    });\n\n    return modalIndex;\n  }\n\n  mount(modal: Modal): void {\n    const containerIndex = findIndexOf(this.containers, (item) => item.modals.indexOf(modal) !== -1);\n    const containerInfo = this.containers[containerIndex];\n\n    if (!containerInfo.restore) {\n      containerInfo.restore = restoreContainer(containerInfo.container);\n    }\n  }\n\n  remove(modal: Modal): number {\n    const modalIndex = this.modals.indexOf(modal);\n\n    if (modalIndex === -1) {\n      return modalIndex;\n    }\n\n    const containerIndex = findIndexOf(this.containers, (item) => item.modals.indexOf(modal) !== -1);\n    const containerInfo = this.containers[containerIndex];\n\n    containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n    this.modals.splice(modalIndex, 1);\n\n    if (containerInfo.modals.length === 0) {\n      if (containerInfo.restore) {\n        containerInfo.restore();\n      }\n      this.containers.splice(containerIndex, 1);\n    }\n\n    return modalIndex;\n  }\n}\n","import { getKeyboardFocusableElements } from '#ui-kit3/components/common/utils/getKeyboardFocusableElements';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as CloseOutline } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled, { css, Interpolation } from 'styled-components';\nimport { hexToRgba } from '../common/utils/hexToRgba';\nimport ModalManager from './manager';\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\n\nconst Overlay = styled.div<{ overlayStyledCss: Interpolation<any> }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: ${({ theme }) => hexToRgba(theme.color.basic.secondary, 0.6)};\n  backdrop-filter: blur(8px);\n  transition: opacity 0.3s ease 0s;\n  z-index: ${({ theme }) => theme.zIndex.modal};\n  ${(p) => p.overlayStyledCss}\n  outline: none;\n`;\n\nconst width = css<{ dimension: Dimension; mobile?: boolean }>`\n  width: ${({ dimension, mobile }) => {\n    // 16px on left and right side\n    if (mobile) return 'calc(100% - 32px)';\n    switch (dimension) {\n      case 's':\n        return '384px';\n      case 'm':\n        return '488px';\n      case 'xl':\n        return '800px';\n      case 'l':\n      default:\n        return '592px';\n    }\n  }};\n`;\n\nconst Title = styled.h5<{ mobile?: boolean }>`\n  ${typography['Header/H5']}\n  margin: 0 32px 16px 0;\n`;\n\nconst Content = styled.div<{ $overflow?: boolean }>`\n  overflow-y: auto;\n  outline: none;\n  ${({ $overflow }) => $overflow && 'padding-right: 24px;'}\n`;\n\nconst ButtonPanel = styled.div<{ mobile?: boolean }>`\n  display: flex;\n  flex-direction: row-reverse;\n  margin-top: 24px;\n\n  & > button {\n    margin-right: 16px;\n  }\n\n  & > button:first-child {\n    margin-right: 0;\n  }\n`;\n\nconst ModalComponent = styled.div<{ dimension: Dimension; mobile?: boolean }>`\n  position: absolute;\n  box-sizing: border-box;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: ${({ mobile }) => (mobile ? '20px 16px 24px 16px' : '20px 24px 24px 24px')};\n  ${width};\n  max-height: ${({ mobile }) => (mobile ? '84vh' : '90vh')};\n  background-color: ${({ theme }) => theme.color.background.primary};\n  ${({ theme }) => theme.shadow.ClickableHover}\n  border-radius: 8px;\n  ${({ mobile }) => (mobile ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  color: ${({ theme }) => theme.color.text.primary};\n  outline: none;\n\n  ${({ mobile }) =>\n    mobile &&\n    `\n    & > ${Title} {\n      ${typography['Subtitle/Subtitle 1']}\n      margin: 0 30px 16px 0;\n    }\n    & > ${ButtonPanel} {\n      flex-direction: column-reverse;\n      & > button {\n        width: 100%;\n        margin-bottom: 16px;\n      }\n      & > button:first-child {\n          margin-bottom: 0;\n      }\n    }\n  `}\n`;\n\nconst CloseButton = styled.button<{ mobile?: boolean }>`\n  position: absolute;\n  top: 20px;\n  right: ${({ mobile }) => (mobile ? 16 : 24)}px;\n  flex-shrink: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  outline: none;\n  border: 0;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n\n  & *[fill^='#'] {\n    fill: ${(p) => p.theme.color.text.secondary};\n  }\n\n  &:hover,\n  &:focus {\n    & *[fill^='#'] {\n      fill: ${(p) => p.theme.color.basic.hover};\n    }\n  }\n\n  &:active {\n    & *[fill^='#'] {\n      fill: ${(p) => p.theme.color.basic.press};\n    }\n  }\n`;\n\nexport const emptyOverlayStyledCss = css``;\n\nexport const ModalTitle: React.FC<React.HTMLAttributes<HTMLHeadingElement>> = ({ children, ...props }) => {\n  return <Title {...props}>{children}</Title>;\n};\n\nexport const ModalContent: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({ children, ...props }) => {\n  const contentRef = React.useRef<HTMLDivElement | null>(null);\n  const [overflow, setOverflow] = React.useState(false);\n\n  const detectOverflow = (e: any) => {\n    return e.clientHeight < e.scrollHeight;\n  };\n\n  React.useLayoutEffect(() => {\n    if (contentRef.current && detectOverflow(contentRef.current) !== overflow) {\n      setOverflow(detectOverflow(contentRef.current));\n    }\n  }, [children]);\n\n  return (\n    <Content tabIndex={-1} ref={contentRef} $overflow={overflow} {...props}>\n      {children}\n    </Content>\n  );\n};\n\nexport const ModalButtonPanel: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({ children, ...props }) => {\n  return <ButtonPanel {...props}>{children}</ButtonPanel>;\n};\n\nexport interface ModalProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Контейнер, в котором происходит размещение модального окна (BODY по умолчанию) */\n  container?: Element;\n  /** Мобильная версия компонента */\n  mobile?: boolean;\n  /** Закрытие на нажатие клавиши Escape */\n  closeOnEscapeKeyDown?: boolean;\n  /** Закрытие на клик извне */\n  closeOnOutsideClick?: boolean;\n  /** Обработчик закрытия компонента */\n  onClose?: () => void;\n\n  /**\n   * Возможность изменять стили для подложки модального окна.\n   * Например цвет фона в зависимости от темы:\n   *  const overlayStyles = css\\`background-color: ${({ theme }) => hexToRgba(theme.color.background.secondary, 0.6)};\\`\n   * */\n  overlayStyledCss?: Interpolation<any>;\n}\n\nconst manager = new ModalManager();\n\nexport const Modal = React.forwardRef<HTMLDivElement, ModalProps>(\n  (\n    {\n      overlayStyledCss = emptyOverlayStyledCss,\n      dimension = 'l',\n      container,\n      mobile,\n      onClose,\n      closeOnEscapeKeyDown,\n      closeOnOutsideClick,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const modal = React.useRef<any>({});\n    const modalRef: any = React.useRef<HTMLDivElement>(null);\n    const overlayRef = React.useRef<HTMLDivElement>(null);\n    const previousFocusedElement: any = React.useRef(null);\n\n    const getModal = () => {\n      modal.current.modalEl = modalRef.current;\n      modal.current.containerEl = container || document.body;\n      return modal.current;\n    };\n\n    React.useLayoutEffect(() => {\n      previousFocusedElement.current = document.activeElement;\n      // set focus inside modalComponent\n      modalRef.current?.focus();\n\n      manager.add(getModal(), container || document.body);\n      if (modalRef.current) {\n        manager.mount(getModal());\n      }\n      return () => {\n        // return focus on close/unmount of modal\n        previousFocusedElement.current?.focus();\n\n        manager.remove(getModal());\n      };\n    }, []);\n\n    const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n      event.stopPropagation();\n      if (event.key === 'Escape' && closeOnEscapeKeyDown) {\n        event.preventDefault();\n        onClose?.();\n      } else if (event.key === 'Tab') {\n        // focus trap\n        const focusableEls: any = getKeyboardFocusableElements(modalRef.current);\n        if (event.shiftKey) {\n          /* shift + tab */\n          if (document.activeElement === focusableEls[0] || document.activeElement === modalRef.current) {\n            focusableEls[focusableEls.length - 1].focus();\n            event.preventDefault();\n          }\n        } /* tab */ else {\n          if (document.activeElement === focusableEls[focusableEls.length - 1]) {\n            focusableEls[0].focus();\n            event.preventDefault();\n          }\n        }\n      }\n    };\n\n    const handleMouseDown = (event: React.MouseEvent<HTMLDivElement>) => {\n      closeOnOutsideClick && event.target === overlayRef.current && onClose?.();\n    };\n\n    const handleCloseBtnClick = (\n      event: React.MouseEvent<HTMLButtonElement> | React.KeyboardEvent<HTMLButtonElement>,\n    ) => {\n      event.stopPropagation();\n      onClose?.();\n    };\n\n    return ReactDOM.createPortal(\n      <Overlay\n        ref={overlayRef}\n        tabIndex={-1}\n        onMouseDown={handleMouseDown}\n        onKeyDown={handleKeyDown}\n        overlayStyledCss={overlayStyledCss}\n      >\n        <ModalComponent\n          ref={refSetter(ref, modalRef)}\n          tabIndex={-1}\n          role=\"dialog\"\n          aria-modal\n          dimension={dimension}\n          mobile={mobile}\n          {...props}\n        >\n          {children}\n          {onClose && (\n            <CloseButton aria-label=\"Закрыть модальное окно\" mobile={mobile} onClick={handleCloseBtnClick}>\n              <CloseOutline width={24} height={24} aria-hidden />\n            </CloseButton>\n          )}\n        </ModalComponent>\n      </Overlay>,\n      container || document.body,\n    );\n  },\n);\n\nModal.displayName = 'Modal';\n","export type Dimension = 'l' | 'm';\n\nexport const OVERFLOW_SIZE_L = 48;\nexport const OVERFLOW_SIZE_M = 40;\nexport const OVERFLOW_MARGIN_LEFT = 4;\nexport const TAB_HEIGHT_L = 48;\nexport const TAB_HEIGHT_M = 40;\nexport const LINE_HEIGHT = '2px';\nexport const ICON_SIZE_M = 20;\nexport const ICON_SIZE_L = 24;\nexport const TAB_PADDING_M = '0 12px';\nexport const TAB_PADDING_L = '0 16px';\nexport const ICON_MARGIN = '8px';\nexport const BADGE_MARGIN = '8px';\n","import type { FC, ReactNode } from 'react';\nimport React, { HTMLAttributes, useContext, useLayoutEffect, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\n\nimport { DARK_THEME, LIGHT_THEME } from '../themes';\n\nimport { typography } from '../Typography';\nimport { Badge } from '../Badge';\nimport { Tooltip } from '../Tooltip';\nimport type { Dimension } from '../TabMenu/constants';\nimport {\n  BADGE_MARGIN,\n  ICON_MARGIN,\n  ICON_SIZE_L,\n  ICON_SIZE_M,\n  TAB_HEIGHT_L,\n  TAB_HEIGHT_M,\n  TAB_PADDING_L,\n  TAB_PADDING_M,\n} from '../TabMenu/constants';\n\nconst DropDownItem = styled.li<{ dimension: Dimension; disabled?: boolean; selected?: boolean }>`\n  position: relative;\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: ${({ dimension }) => (dimension === 'm' ? TAB_HEIGHT_M : TAB_HEIGHT_L)}px;\n  background: ${({ theme, selected }) => (selected ? theme.color.background.tertiary : theme.color.background.primary)};\n  color: ${({ theme }) => theme.color.text.primary};\n  ${typography['Body/Body 1 Long']}\n  user-select: none;\n  cursor: pointer;\n\n  & > div {\n    overflow: hidden;\n    display: flex;\n  }\n\n  & svg {\n    display: inline-block;\n    flex-shrink: 0;\n\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.tertiary};\n    }\n    width: ${({ dimension }) => (dimension === 'm' ? ICON_SIZE_M : ICON_SIZE_L)}px;\n    height: ${({ dimension }) => (dimension === 'm' ? ICON_SIZE_M : ICON_SIZE_L)}px;\n    margin-right: ${ICON_MARGIN};\n  }\n  & [data-badge] {\n    margin-left: ${BADGE_MARGIN};\n  }\n\n  &:hover,\n  &:focus {\n    outline: none;\n    ${({ disabled, theme }) => !disabled && `background: ${theme.color.background.secondary};`}\n  }\n\n  ${({ disabled, theme }) =>\n    disabled &&\n    `\n  color: ${theme.color.text.tertiary};\n  background: ${theme.color.background.primary};\n  cursor: default;\n  & *[fill^='#'] {\n    fill: ${theme.color.text.tertiary};\n  }\n  `}\n`;\n\nconst DropdownContentWrapper = styled.div<{ dimension: Dimension }>`\n  display: flex;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-items: center;\n  height: ${({ dimension }) => (dimension === 'm' ? TAB_HEIGHT_M : TAB_HEIGHT_L)}px;\n  padding: ${({ dimension }) => (dimension === 'm' ? TAB_PADDING_M : TAB_PADDING_L)};\n`;\n\nconst DropdownContent = styled.div`\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  & > div {\n    display: flex;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    align-items: center;\n  }\n`;\n\nconst InverseTooltip = (props: any) => {\n  const themeContext = useContext(ThemeContext);\n  return <Tooltip {...props} theme={themeContext.name == 'dark' ? LIGHT_THEME : DARK_THEME} />;\n};\n\ninterface ItemProps extends HTMLAttributes<HTMLLIElement> {\n  id: string;\n  dimension: Dimension;\n  content: ReactNode;\n  selected: string | null;\n  disabled?: boolean;\n  icon?: ReactNode;\n  badge?: number;\n}\n\nexport const Item: FC<ItemProps> = ({\n  id,\n  dimension,\n  disabled,\n  selected,\n  icon,\n  badge,\n  content,\n  onClick,\n  onKeyDown,\n  ...props\n}) => {\n  const itemRef = useRef(null);\n  const [overflow, setOverflow] = useState(false);\n\n  const detectOverflow = (e: any) => {\n    return e.offsetWidth < e.scrollWidth;\n  };\n\n  useLayoutEffect(() => {\n    if (itemRef.current && detectOverflow(itemRef.current) !== overflow) {\n      setOverflow(detectOverflow(itemRef.current));\n    }\n  }, [content, dimension]);\n\n  const renderContent = () => (\n    <DropdownContentWrapper dimension={dimension}>\n      {icon && icon}\n      <DropdownContent ref={itemRef}>{content}</DropdownContent>\n      {typeof badge !== 'undefined' && (\n        <Badge data-badge dimension=\"s\" appearance={id === selected ? 'info' : disabled ? 'lightDisable' : 'light'}>\n          {badge}\n        </Badge>\n      )}\n    </DropdownContentWrapper>\n  );\n  return (\n    <DropDownItem\n      {...props}\n      id={id}\n      dimension={dimension}\n      disabled={disabled}\n      selected={selected === id}\n      aria-selected={selected === id}\n      role=\"tab\"\n      tabIndex={selected === id ? 0 : -1}\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n    >\n      {overflow ? <InverseTooltip renderContent={() => content}>{renderContent()}</InverseTooltip> : renderContent()}\n    </DropDownItem>\n  );\n};\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { ReactComponent as MoreHorizontalOutline } from '@openvtb/admiral-icons/build/system/MoreHorizontalOutline.svg';\n\nexport type Dimension = 'l' | 'm';\n\nconst sizes = css<{ dimension: Dimension }>`\n  width: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 'l':\n      default:\n        return '24px';\n    }\n  }};\n  height: ${({ dimension }) => {\n    switch (dimension) {\n      case 'm':\n        return '20px';\n      case 'l':\n      default:\n        return '24px';\n    }\n  }};\n`;\n\nconst focusStyle = css`\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n  border: 2px solid ${({ theme }) => theme.color.basic.hover};\n`;\n\nconst ButtonComponent = styled.button<{ dimension: Dimension; menuOpened: boolean; isActive: boolean }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  position: relative;\n  cursor: pointer;\n  border: 0;\n  outline: none;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  margin-left: 4px;\n  padding: ${({ dimension }) => (dimension === 'l' ? '10px' : '8px')};\n  border: 2px solid transparent;\n\n  & svg {\n    ${sizes};\n    flex-shrink: 0;\n  }\n\n  & *[fill^='#'] {\n    fill: ${({ theme, isActive: isActive }) => (isActive ? theme.color.basic.press : theme.color.text.secondary)};\n  }\n\n  &:hover:not(:disabled) *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n\n  ${({ menuOpened }) => menuOpened && focusStyle}\n  &:focus {\n    ${focusStyle}\n  }\n\n  &:active *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.press};\n  }\n\n  &:disabled {\n    cursor: default;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  children?: React.ReactNode;\n  dimension?: Dimension;\n  menuOpened: boolean;\n  isActive: boolean;\n}\n\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ dimension = 'l', type = 'button', ...props }, ref) => {\n    return (\n      <ButtonComponent ref={ref} dimension={dimension} type={type} {...props}>\n        {dimension === 'l' ? <MoreHorizontalOutline width={24} /> : <MoreHorizontalOutline width={20} />}\n      </ButtonComponent>\n    );\n  },\n);\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\n\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { Item } from './Item';\nimport type { Dimension } from './Buton';\nimport { Button } from './Buton';\n\nconst HiddenTab = styled.div`\n  height: 0;\n  width: 0;\n  opacity: 0;\n  flex: 0 0 auto;\n  z-index: -10;\n`;\n\nconst StyledDropdown = styled(Dropdown)`\n  padding: 8px 0;\n`;\n\nexport interface ItemWithId {\n  id: string;\n  content: React.ReactNode;\n  disabled?: boolean;\n}\n\nexport interface OverflowMenuItem extends ItemWithId, React.HTMLAttributes<HTMLLIElement> {\n  id: string;\n  content: React.ReactNode;\n  disabled?: boolean;\n  icon?: React.ReactNode;\n  badge?: number;\n}\n\nexport interface OverflowMenuProps extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  options: Array<ItemWithId>;\n  selected: string | null;\n  onChange: (id: string) => void;\n  dimension?: Dimension;\n  disabled?: boolean;\n  onMenuReachTop: () => void;\n  onMenuReachBottom: () => void;\n  menuFocus: 'firstOption' | 'lastOption' | 'activeOption';\n  setMenuFocus: React.Dispatch<React.SetStateAction<'firstOption' | 'lastOption' | 'activeOption'>>;\n  alignSelf?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n}\n\nexport const TabOverflowMenu = React.forwardRef<HTMLButtonElement, OverflowMenuProps>(\n  (\n    {\n      dimension = 'l',\n      disabled = false,\n      options,\n      selected,\n      onMenuReachTop,\n      alignSelf,\n      menuFocus,\n      onChange,\n      onMenuReachBottom,\n      setMenuFocus,\n      ...props\n    },\n    ref,\n  ) => {\n    const [menuOpened, setMenuOpened] = React.useState<boolean>(false);\n    const btnRef = React.useRef<HTMLButtonElement | null>(null);\n    const containsActiveTab: boolean = React.useMemo(\n      () => options.findIndex((item) => item.id === selected) != -1,\n      [options, selected],\n    );\n\n    const reverseMenu = (e: any) => {\n      e.preventDefault();\n      setMenuOpened((prevOpened) => !prevOpened);\n    };\n\n    const closeMenu = () => {\n      /**\n       * В IE element.focus() вызывает обработчик onFocus, из-за этого ломается работа меню.\n       * В качестве временного фикса используется dataset\n       */\n      if (btnRef.current) btnRef.current.dataset.focusHandler = 'disabled';\n      /** Set focus so that SHIFT + TAB works correctly */\n      btnRef.current?.focus();\n      setMenuOpened(false);\n    };\n    const handleBtnFocus = (e: React.FocusEvent<HTMLButtonElement>) => {\n      if (btnRef.current && btnRef.current.dataset.focusHandler === 'disabled') {\n        btnRef.current.removeAttribute('data-focus-handler');\n      } else {\n        setMenuOpened(true);\n      }\n    };\n    const handleReachBottom = () => {\n      closeMenu();\n      onMenuReachBottom?.();\n    };\n    const handleReachTop = () => {\n      closeMenu();\n      onMenuReachTop?.();\n    };\n    return (\n      <>\n        {!menuOpened &&\n          options.map(({ id, content }) => {\n            // When menu is closed, render invisible tabs so that screen reader can count tabs amount correctly\n            return (\n              <HiddenTab role=\"tab\" tabIndex={-1} key={id} id={id}>\n                {content}\n              </HiddenTab>\n            );\n          })}\n        <Button\n          {...props}\n          ref={refSetter(ref, btnRef)}\n          dimension={dimension}\n          disabled={disabled}\n          menuOpened={menuOpened}\n          isActive={containsActiveTab}\n          onMouseDown={reverseMenu}\n          onFocus={handleBtnFocus}\n          role=\"none\"\n          aria-hidden\n        />\n        {menuOpened && (\n          <StyledDropdown\n            targetRef={btnRef}\n            alignSelf={alignSelf}\n            onMenuReachTop={handleReachTop}\n            onMenuReachBottom={handleReachBottom}\n            menuFocus={menuFocus}\n            setMenuFocus={setMenuFocus}\n            role=\"none\"\n            onClickOutside={closeMenu}\n          >\n            {options.map(({ disabled: optionDisabled, id, ...props }) => {\n              const isDisabled = disabled || optionDisabled;\n              const handleClick = (e: React.MouseEvent<HTMLLIElement>) => {\n                if (!isDisabled) {\n                  onChange(e.currentTarget.id);\n                  closeMenu();\n                }\n              };\n              const handleKeyDown = (e: React.KeyboardEvent<HTMLLIElement>) => {\n                const code = keyboardKey.getCode(e);\n                if ((code === keyboardKey.Enter || code === keyboardKey[' ']) && !isDisabled) {\n                  onChange(e.currentTarget.id);\n                  e.preventDefault();\n                  closeMenu();\n                }\n              };\n              return (\n                <Item\n                  key={id}\n                  id={id}\n                  disabled={isDisabled}\n                  dimension={dimension}\n                  selected={selected}\n                  onClick={handleClick}\n                  onKeyDown={handleKeyDown}\n                  {...props}\n                />\n              );\n            })}\n          </StyledDropdown>\n        )}\n      </>\n    );\n  },\n);\n\nTabOverflowMenu.displayName = 'TabOverflowMenu';\n","import styled from 'styled-components';\n\nimport { typography } from '../Typography';\n\nimport type { Dimension } from './constants';\nimport {\n  BADGE_MARGIN,\n  ICON_MARGIN,\n  ICON_SIZE_L,\n  ICON_SIZE_M,\n  LINE_HEIGHT,\n  TAB_HEIGHT_L,\n  TAB_HEIGHT_M,\n  TAB_PADDING_L,\n  TAB_PADDING_M,\n} from './constants';\n\nexport const Wrapper = styled.div<{ underline?: boolean; mobile?: boolean }>`\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  box-sizing: border-box;\n  box-shadow: inset 0 -${LINE_HEIGHT} 0 0 ${({ theme, underline }) => (underline ? theme.color.background.tertiary : 'transparent')};\n  overflow-x: ${({ mobile }) => (mobile ? 'scroll' : 'visible')};\n\n  &::-webkit-scrollbar {\n    width: 0 !important;\n    height: 0 !important;\n  }\n\n  overflow: -moz-scrollbars-none;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  scrollbar-height: none;\n`;\n\n/**\n * Для исправления бага в IE (скачет контент) вместо flex: 1 1 auto используем margin-right: auto\n * Это позволяет избежать скачков контента и при этом ширина TabsWrapper будет равна ровно ширине его контента и не более.\n * Это напрямую влияет на работу observer, повешенного на tabsWrapperRef.current в файле index.ts.\n */\nexport const TabsWrapper = styled.div`\n  display: flex;\n  margin-right: auto;\n`;\n\nexport const Underline = styled.div`\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  background-color: ${({ theme }) => theme.color.basic.primary};\n  height: ${LINE_HEIGHT};\n  transition: all 0.2s ease-out;\n`;\n\nexport const TabContent = styled.div`\n  height: 100%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  white-space: nowrap;\n`;\n\nexport const TabContentWrapper = styled.span<{ dimension: Dimension }>`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding: ${({ dimension }) => (dimension === 'l' ? TAB_PADDING_L : TAB_PADDING_M)};\n`;\n\nexport const Tab = styled.button<{ dimension: Dimension; selected: boolean }>`\n  position: relative;\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  height: ${({ dimension }) => (dimension === 'm' ? TAB_HEIGHT_M : TAB_HEIGHT_L)}px;\n  padding: 0;\n  background: transparent;\n  appearance: none;\n  border: none;\n  ${({ dimension }) => (dimension === 'm' ? typography['Body/Body 2 Long'] : typography['Body/Body 1 Long'])}\n  ${({ selected, theme }) => !selected && `color: ${theme.color.text.secondary};`}\n  user-select: none;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n\n  &:focus:not(:active) {\n    &:before {\n      position: absolute;\n      content: '';\n      border: ${LINE_HEIGHT} solid ${({ theme }) => theme.color.basic.hover};\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n  }\n  &:focus,\n  & > ${TabContentWrapper} {\n    outline: none;\n  }\n\n  & svg {\n    display: inline-block;\n    flex: 1 0 auto;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.secondary};\n    }\n    width: ${({ dimension }) => (dimension === 'm' ? ICON_SIZE_M : ICON_SIZE_L)}px;\n    height: ${({ dimension }) => (dimension === 'm' ? ICON_SIZE_M : ICON_SIZE_L)}px;\n    margin-right: ${ICON_MARGIN};\n  }\n  & [data-badge] {\n    margin-left: ${BADGE_MARGIN};\n  }\n\n  &:hover:not(:disabled) {\n    color: ${({ theme }) => theme.color.basic.hover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n    [data-badge] {\n      background: ${({ theme }) => theme.color.basic.hover};\n      color: ${({ theme }) => theme.color.text.staticWhite};\n    }\n  }\n  &:active:not(:disabled) {\n    color: ${({ theme }) => theme.color.basic.press};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n    [data-badge] {\n      background: ${({ theme }) => theme.color.basic.press};\n      color: ${({ theme }) => theme.color.text.staticWhite};\n    }\n  }\n  &:disabled {\n    color: ${({ theme }) => theme.color.text.tertiary};\n    cursor: default;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport { ThemeProvider } from 'styled-components';\n\nimport { Badge } from '../Badge';\nimport { LIGHT_THEME } from '../themes';\n\nimport { Tab, TabContent, TabContentWrapper } from './style';\nimport type { Dimension } from './constants';\n\nconst measureElement = ({ icon, badge, content }: any, dimension: Dimension, callback: (width: number) => void) => {\n  // Creates the hidden div appended to the document body\n  const container = document.createElement('div');\n  container.style.position = 'absolute';\n  container.style.visibility = 'hidden';\n  container.style.left = '-10000';\n  container.style.top = '-10000';\n  container.id = 'tab-wrapper';\n  document.body.appendChild(container);\n\n  const element = (\n    <ThemeProvider theme={LIGHT_THEME}>\n      <Tab dimension={dimension} selected>\n        <TabContentWrapper dimension={dimension} tabIndex={-1}>\n          {icon && icon}\n          <TabContent>{content}</TabContent>\n          {typeof badge !== 'undefined' && (\n            <Badge data-badge dimension=\"s\" appearance=\"lightDisable\">\n              {badge}\n            </Badge>\n          )}\n        </TabContentWrapper>\n      </Tab>\n    </ThemeProvider>\n  );\n\n  // Renders the React element into the hidden div\n  ReactDOM.render(element, container, () => {\n    // const width = container.clientWidth;\n    const width = container.getBoundingClientRect().width;\n    callback(width);\n    // remove hidden container from dom\n    ReactDOM.unmountComponentAtNode(container);\n    container.parentNode?.removeChild(container);\n  });\n};\n\nexport default measureElement;\n","import * as React from 'react';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport observeRect from '#ui-kit3/components/common/observeRect';\n\nimport { Badge } from '../Badge';\nimport { TabOverflowMenu } from '../TabOverflowMenu';\n\nimport measureTab from './measureTab';\nimport { Tab, TabContent, TabContentWrapper, TabsWrapper, Underline, Wrapper } from './style';\nimport type { Dimension } from './constants';\nimport { OVERFLOW_MARGIN_LEFT, OVERFLOW_SIZE_L, OVERFLOW_SIZE_M } from './constants';\n\nexport interface TabProps extends React.HTMLAttributes<HTMLButtonElement> {\n  /** Контент вкладки */\n  content: React.ReactNode;\n  /** Id вкладки */\n  id: string;\n  /** Иконка, располагается слева от content */\n  icon?: React.ReactNode;\n  /** Число, которое будет отображено в компоненте Badge справа от content */\n  badge?: number;\n  /** Отключение вкладки */\n  disabled?: boolean;\n}\n\ntype TabWithRefProps = TabProps & { ref: React.RefObject<HTMLButtonElement>; width?: number };\n\nexport interface TabMenuProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Список вкладок */\n  tabs: Array<TabProps>;\n  /** Id активной вкладки */\n  activeTab: string;\n  /** Колбек на изменение активной вкладки */\n  onChange: (id: string) => void;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Отображение серой полосы снизу */\n  underline?: boolean;\n  /** Мобильная версия компонента */\n  mobile?: boolean;\n  /** Выравнивание выпадающего меню относительно компонента https://developer.mozilla.org/en-US/docs/Web/CSS/align-self */\n  alignSelf?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n}\n\nexport const TabMenu: React.FC<TabMenuProps> = ({\n  tabs,\n  dimension = 'l',\n  underline = false,\n  mobile = false,\n  alignSelf = 'flex-end',\n  activeTab,\n  onChange,\n  ...props\n}) => {\n  // add refs to tabs\n  const tabsWithRef: Array<TabWithRefProps> = React.useMemo(() => {\n    return tabs.map((tab) => ({ ...tab, ref: React.createRef<HTMLButtonElement>() }));\n  }, [tabs]);\n\n  const tabsWrapperRef = React.useRef<HTMLDivElement | null>(null);\n  const tablistRef = React.useRef<HTMLDivElement | null>(null);\n  const overflowBtnRef = React.useRef<HTMLButtonElement | null>(null);\n  const underlineRef = React.useRef<HTMLDivElement | null>(null);\n  const tabsWrapperWidthRef = React.useRef(0);\n  const [update, setUpdate] = React.useState({});\n  const [visibleTabsAmount, setVisibleTabsAmount] = React.useState(tabsWithRef.length);\n  const [menuFocus, setMenuFocus] = React.useState<'firstOption' | 'lastOption' | 'activeOption'>('activeOption');\n\n  const visibleTabs = mobile ? tabsWithRef : tabsWithRef.slice(0, visibleTabsAmount);\n  const hiddenTabs = mobile ? [] : tabsWithRef.slice(visibleTabsAmount);\n\n  const getNextFocus = (target: HTMLElement) => {\n    let sibling: Element | null | undefined =\n      target.nextElementSibling || overflowBtnRef.current || tabsWrapperRef.current?.firstElementChild;\n    while (sibling?.hasAttribute('disabled')) {\n      sibling = sibling.nextElementSibling || overflowBtnRef.current || tabsWrapperRef.current?.firstElementChild;\n    }\n    return sibling;\n  };\n  const getPreviousFocus = (target: HTMLElement) => {\n    let sibling: Element | null | undefined =\n      target.previousElementSibling || overflowBtnRef.current || tabsWrapperRef.current?.lastElementChild;\n    while (sibling?.hasAttribute('disabled')) {\n      sibling = sibling.previousElementSibling || overflowBtnRef.current || tabsWrapperRef.current?.lastElementChild;\n    }\n    return sibling;\n  };\n\n  const focusFirstTab = () => {\n    let tab = tabsWrapperRef.current?.firstElementChild;\n    while (tab?.hasAttribute('disabled')) {\n      tab = tab.nextElementSibling;\n    }\n    tab ? (tab as HTMLElement).focus() : (overflowBtnRef.current as HTMLElement).focus();\n  };\n\n  const focusLastTab = () => {\n    let tab = tabsWrapperRef.current?.lastElementChild;\n    while (tab?.hasAttribute('disabled')) {\n      tab = tab.previousElementSibling;\n    }\n    tab ? (tab as HTMLElement).focus() : (overflowBtnRef.current as HTMLElement).focus();\n  };\n\n  const styleUnderline = (left: number, width: number) => {\n    if (underlineRef.current) {\n      underlineRef.current.style.left = left + 'px';\n      underlineRef.current.style.width = width + 'px';\n      if (width) {\n        underlineRef.current.style.display = 'flex';\n      } else {\n        underlineRef.current.style.display = 'none';\n      }\n    }\n  };\n\n  const setUnderline = () => {\n    const activeTabRef = tabsWithRef.filter((tab) => tab.id === activeTab)?.[0]?.ref.current;\n    const left = parseFloat(underlineRef.current?.style.left || '0');\n    const underlineWidth = parseFloat(underlineRef.current?.style.width || '0');\n\n    if (activeTabRef && tablistRef.current) {\n      // используем метод getBoundingClientRect, так как он дает точность до сотых пикселя\n      const activeTabWidth = activeTabRef.getBoundingClientRect().width;\n      const activeTabLeft = activeTabRef.getBoundingClientRect().left - tablistRef.current.getBoundingClientRect().left;\n\n      if (activeTabLeft !== left || activeTabWidth !== underlineWidth) {\n        styleUnderline(activeTabLeft, activeTabWidth);\n      }\n    }\n    if (!activeTabRef || hiddenTabs.filter((tab) => tab.id === activeTab).length) {\n      styleUnderline(0, 0);\n    }\n  };\n\n  const measureTabs = () => {\n    tabsWithRef.forEach((tab: any, index: number) => {\n      measureTab(tab, dimension, (width: number) => {\n        tab.width = width;\n        if (index === tabs.length - 1) {\n          /**\n           * В measureTab используется асинхронная функция ReactDOM.render.\n           * Поэтому после того, как будут вычислены размеры всех табов,\n           * необходимо обновить компонент, чтобы выполнился перерасчет видимых и скрытых в меню табов.\n           */\n          setUpdate({});\n        }\n      });\n    });\n  };\n\n  // measure tabs sizes\n  React.useLayoutEffect(() => {\n    measureTabs();\n  }, [tabsWithRef, dimension]);\n\n  React.useLayoutEffect(() => setUnderline(), [tabsWithRef, activeTab, visibleTabsAmount, update]);\n\n  // recalculation on Tabmenu resize\n  React.useLayoutEffect(() => {\n    if (tablistRef.current) {\n      const observer = observeRect(tablistRef.current, (rect) => {\n        const tablistWidth = rect?.width || 0;\n\n        const tabsTotalWidth = tabsWithRef.reduce((sum, item) => {\n          return sum + (item.width || 0);\n        }, 0);\n        // если все табы не помещаются в одну строку и нужно часть из них вынести в меню\n        if (tabsTotalWidth > tablistWidth) {\n          let visibleTabsCounter = 0;\n          let contentWidth =\n            dimension === 'l' ? OVERFLOW_SIZE_L + OVERFLOW_MARGIN_LEFT : OVERFLOW_SIZE_M + OVERFLOW_MARGIN_LEFT;\n          tabsWithRef.forEach((item: TabWithRefProps) => {\n            contentWidth += item.width || 0;\n            if (contentWidth <= tablistWidth) {\n              visibleTabsCounter++;\n            }\n            setVisibleTabsAmount(visibleTabsCounter);\n          });\n        } else {\n          setVisibleTabsAmount(tabs.length);\n        }\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [tablistRef.current, update]);\n\n  /**\n   * При срабатывании observer обязательно проверяем, что изменилось интересующее нас свойство (ширина).\n   * Это важно учитывать, так как observer срабатывает при изменении целого ряда свойств\n   * элемента (bottom, height, left, right, top, width), большая часть из которых для нас не важна.\n   */\n\n  // recalculation on Tabs Wrapper resize. For example, it happens after fonts loading\n  React.useLayoutEffect(() => {\n    if (tabsWrapperRef.current) {\n      const observer = observeRect(tabsWrapperRef.current, (rect) => {\n        const width = rect?.width || 0;\n        if (tabsWrapperWidthRef.current !== width) {\n          tabsWrapperWidthRef.current = width;\n          setUnderline();\n          measureTabs();\n        }\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [tabsWrapperRef.current, dimension]);\n\n  const handleTabClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    mobile && event.currentTarget.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });\n    onChange(event.currentTarget.id);\n    event.currentTarget.blur();\n  };\n\n  const handleTabKeyUp = (event: React.KeyboardEvent<HTMLButtonElement>) => {\n    const code = keyboardKey.getCode(event);\n    if (code === keyboardKey.Enter || code === keyboardKey[' ']) {\n      onChange(event.currentTarget.id);\n    }\n  };\n\n  const handleTabsWrapperKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    const { target } = event;\n    let newFocusTarget;\n\n    const code = keyboardKey.getCode(event);\n    switch (code) {\n      case keyboardKey.ArrowLeft:\n        newFocusTarget = getPreviousFocus(target as HTMLElement);\n        event.preventDefault();\n        break;\n      case keyboardKey.ArrowRight:\n        newFocusTarget = getNextFocus(target as HTMLElement);\n        event.preventDefault();\n        break;\n      case keyboardKey.Tab:\n        setMenuFocus('activeOption');\n        break;\n      default:\n        break;\n    }\n\n    if (newFocusTarget) {\n      (newFocusTarget as HTMLElement).focus();\n      if (code === keyboardKey.ArrowLeft) {\n        setMenuFocus('lastOption');\n      }\n      if (code === keyboardKey.ArrowRight) {\n        setMenuFocus('firstOption');\n      }\n    }\n  };\n  return (\n    <Wrapper role=\"tablist\" ref={tablistRef} underline={underline} mobile={mobile} {...props}>\n      <Underline ref={underlineRef} aria-hidden />\n      <TabsWrapper ref={tabsWrapperRef} onKeyDown={handleTabsWrapperKeyDown}>\n        {visibleTabs.map((item: TabWithRefProps) => {\n          const { disabled, content, id, icon, badge, ref, width, ...props } = item;\n          return (\n            <Tab\n              ref={ref}\n              key={id}\n              id={id}\n              role=\"tab\"\n              type=\"button\"\n              aria-selected={id === activeTab}\n              selected={id === activeTab}\n              tabIndex={id === activeTab ? 0 : -1}\n              dimension={dimension}\n              disabled={disabled}\n              onClick={handleTabClick}\n              onKeyUp={handleTabKeyUp}\n              {...props}\n            >\n              <TabContentWrapper dimension={dimension} tabIndex={-1}>\n                {icon && icon}\n                <TabContent>{content}</TabContent>\n                {typeof badge !== 'undefined' && (\n                  <Badge\n                    data-badge\n                    dimension=\"s\"\n                    appearance={id === activeTab ? 'info' : disabled ? 'lightDisable' : 'lightInactive'}\n                  >\n                    {badge}\n                  </Badge>\n                )}\n              </TabContentWrapper>\n            </Tab>\n          );\n        })}\n      </TabsWrapper>\n      {hiddenTabs.length && !mobile ? (\n        <TabOverflowMenu\n          ref={overflowBtnRef}\n          alignSelf={alignSelf}\n          options={hiddenTabs.map(({ ref, ...item }) => item)}\n          selected={activeTab}\n          dimension={dimension}\n          disabled={hiddenTabs.length === hiddenTabs.filter((tab) => tab.disabled).length}\n          onChange={(id: string) => {\n            onChange(id);\n            styleUnderline(0, 0);\n          }}\n          tabIndex={hiddenTabs?.filter((item) => item.id === activeTab).length ? 0 : -1}\n          onMenuReachTop={focusLastTab}\n          onMenuReachBottom={focusFirstTab}\n          menuFocus={menuFocus}\n          setMenuFocus={setMenuFocus}\n        />\n      ) : null}\n    </Wrapper>\n  );\n};\n\nTabMenu.displayName = 'TabMenu';\n","import React, { HTMLAttributes, useRef, useState } from 'react';\nimport type { FC, ReactNode, FocusEvent, MouseEvent, KeyboardEvent } from 'react';\nimport styled from 'styled-components';\nimport { ReactComponent as ChevronDownOutline } from '@openvtb/admiral-icons/build/system/ChevronDownOutline.svg';\nimport { Button } from '#ui-kit3/components/Button';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport { DropDownItem } from '#ui-kit3/components/DropDownItem';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\n\nconst MainButton = styled(Button)`\n  &[data-appearance~='primary'] {\n    border-radius: 4px 0 0 4px;\n  }\n  &[data-appearance~='secondary'] {\n    border-right: none;\n    border-radius: 4px 0 0 4px;\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst MenuButton = styled(Button)`\n  &[data-appearance~='primary'] {\n    border-radius: 0 4px 4px 0;\n  }\n  &[data-appearance~='secondary'] {\n    border-left: none;\n    border-radius: 0 4px 4px 0;\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Separator = styled.div<SeparatorProps>`\n  width: 2px;\n  &[data-appearance~='primary'] {\n    background-color: transparent;\n  }\n  &[data-appearance~='secondary'] {\n    background-color: ${({ theme }) => theme.color.basic.primary};\n  }\n  &[data-appearance~='secondary'] {\n    background-color: ${({ theme, disabled }) => (disabled ? theme.color.text.tertiary : theme.color.basic.primary)};\n  }\n`;\n\nconst Wrapper = styled.div`\n  display: inline-flex;\n\n  &[data-focused='true'],\n  &:hover {\n    & [data-appearance='secondary'] {\n      border-color: ${({ theme }) => theme.color.basic.hover};\n    }\n    & ${Separator}[data-appearance=\"secondary\"] {\n      background-color: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n  &:active {\n    & [data-appearance='secondary'] {\n      border-color: ${({ theme }) => theme.color.basic.press};\n    }\n    & ${Separator}[data-appearance=\"secondary\"] {\n      background-color: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n  &[data-appearance~='disabled'] + div {\n    background-color: ${({ theme }) => theme.color.text.tertiary};\n  }\n`;\n\nconst Icon = styled(ChevronDownOutline)<{ $menuOpened: boolean }>`\n  transition: all 0.3s;\n  ${({ $menuOpened }) => $menuOpened && 'transform: rotate(180deg);'}\n`;\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\ntype Appearance = 'primary' | 'secondary';\n\ninterface SeparatorProps {\n  disabled?: boolean;\n}\n\nexport interface MultiButtonItem extends HTMLAttributes<HTMLElement> {\n  /** Содержимое опции, предназначенное для отображения */\n  display: ReactNode;\n  /** Уникальный идентификатор опции */\n  id: string;\n  /** Отключение опции */\n  disabled?: boolean;\n}\n\nexport interface MultiButtonProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Массив опций */\n  options: Array<MultiButtonItem>;\n  /** Выбранная опция */\n  selected: string | null;\n  /** Колбек на изменение выбранной опции */\n  onChange: (id: string) => void;\n  /** Колбек на открытие меню */\n  onOpen?: () => void;\n  /** Колбек на закрытие меню */\n  onClose?: () => void;\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Внешний вид компонента */\n  appearance?: Appearance;\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Выравнивание выпадающего меню относительно компонента https://developer.mozilla.org/en-US/docs/Web/CSS/align-self */\n  alignSelf?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n}\n\nexport const MultiButton: FC<MultiButtonProps> = ({\n  dimension = 'l',\n  appearance = 'primary',\n  disabled,\n  options,\n  selected,\n  alignSelf = 'flex-end',\n  onChange,\n  onClose,\n  onOpen,\n  ...props\n}) => {\n  const [menuOpened, setMenuOpened] = useState<boolean>(false);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const btnRef = useRef<HTMLButtonElement>(null);\n  const menuDimension = dimension === 'xl' ? 'l' : dimension;\n  const menuWidth = dimension === 's' ? '240px' : '280px';\n  const { display: firstOption, disabled: firstOptionDisabled, ...firstOptionProps } = options[0];\n\n  const reverseMenu = () => {\n    setMenuOpened((prevOpened) => {\n      prevOpened ? onClose?.() : onOpen?.();\n      return !prevOpened;\n    });\n  };\n  const closeMenu = () => {\n    setMenuOpened(false);\n    onClose?.();\n    btnRef.current?.focus();\n  };\n\n  const clickOutside = (e: Event) => {\n    if (e.target && btnRef.current?.contains(e.target as Node)) {\n      return;\n    }\n    setMenuOpened(false);\n  };\n\n  const handleWrapperFocus = (e: FocusEvent<HTMLDivElement>) => {\n    wrapperRef.current?.setAttribute('data-focused', 'true');\n  };\n  const handleWrapperBlur = (e: FocusEvent<HTMLDivElement>) => {\n    wrapperRef.current?.setAttribute('data-focused', 'false');\n  };\n\n  const handleMainBtnClick = (e: MouseEvent<HTMLButtonElement>) => {\n    onChange(e.currentTarget.id);\n  };\n  const handleMenuBtnKeyDown = (e: KeyboardEvent<HTMLButtonElement>) => {\n    const code = keyboardKey.getCode(e);\n    if (code === keyboardKey.ArrowDown || code === keyboardKey.Enter || code === keyboardKey[' ']) {\n      setMenuOpened(true);\n      onOpen?.();\n      e.preventDefault();\n    }\n  };\n\n  const handleMenuKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n    const code = keyboardKey.getCode(e);\n    if (code === keyboardKey.Escape || code === keyboardKey.Tab) {\n      closeMenu();\n    }\n  };\n\n  return (\n    <Wrapper ref={wrapperRef} data-focused=\"false\" onFocus={handleWrapperFocus} onBlur={handleWrapperBlur} {...props}>\n      <MainButton\n        {...firstOptionProps}\n        dimension={dimension}\n        appearance={appearance}\n        disabled={disabled || firstOptionDisabled}\n        onClick={handleMainBtnClick}\n      >\n        {firstOption}\n      </MainButton>\n      <Separator disabled={disabled} data-appearance={appearance} aria-hidden />\n      <MenuButton\n        ref={btnRef}\n        dimension={dimension}\n        appearance={appearance}\n        disabled={disabled}\n        displayAsSquare\n        onKeyDown={handleMenuBtnKeyDown}\n        onClick={reverseMenu}\n        aria-expanded={menuOpened}\n      >\n        <Icon $menuOpened={menuOpened} />\n      </MenuButton>\n      {menuOpened && !disabled && (\n        <Dropdown\n          role=\"listbox\"\n          data-dimension={menuDimension}\n          targetRef={btnRef}\n          style={{ width: menuWidth }}\n          onClickOutside={clickOutside}\n          onKeyDown={handleMenuKeyDown}\n          alignSelf={alignSelf}\n        >\n          {options.slice(1, options.length).map(({ display, disabled: optionDisabled, id, ...props }) => {\n            const handleClick = (e: MouseEvent<HTMLLIElement>) => {\n              if (!optionDisabled) {\n                onChange(e.currentTarget.id);\n                closeMenu();\n              }\n            };\n            const handleKeyDown = (e: KeyboardEvent<HTMLLIElement>) => {\n              const code = keyboardKey.getCode(e);\n              if (code === keyboardKey.Enter || code === keyboardKey[' ']) {\n                if (!optionDisabled) {\n                  onChange(e.currentTarget.id);\n                  closeMenu();\n                  e.preventDefault();\n                }\n              }\n            };\n            return (\n              <DropDownItem\n                {...props}\n                key={id}\n                id={id}\n                dimension={menuDimension}\n                disabled={disabled || optionDisabled}\n                selected={selected === id}\n                aria-selected={selected === id}\n                role=\"option\"\n                onClick={handleClick}\n                onKeyDown={handleKeyDown}\n              >\n                {display}\n              </DropDownItem>\n            );\n          })}\n        </Dropdown>\n      )}\n    </Wrapper>\n  );\n};\n\nMultiButton.displayName = 'MultiButton';\n","import React, { HTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport { ReactComponent as CloseOutline } from '@openvtb/admiral-icons/build/service/CloseOutline.svg';\nimport { ReactComponent as InfoIcon } from '@openvtb/admiral-icons/build/service/InfoSolid.svg';\nimport { ReactComponent as WarningIcon } from '@openvtb/admiral-icons/build/service/ErrorSolid.svg';\nimport { ReactComponent as SuccessIcon } from '@openvtb/admiral-icons/build/service/CheckSolid.svg';\nimport { ReactComponent as ErrorIcon } from '@openvtb/admiral-icons/build/service/CloseSolid.svg';\n\nimport { DEFAULT_THEME } from '../common';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { Link } from '#ui-kit3/components/Link';\n\ntype Status = 'info' | 'error' | 'success' | 'warning';\n\nexport interface NotificationProps extends Omit<HTMLAttributes<HTMLDivElement>, 'title' | 'id'> {\n  /** Статус notification */\n  status?: Status;\n  /** Заголовок notification */\n  title?: React.ReactNode;\n  /** Название для ссылки */\n  linkText?: string;\n  /** Url ссылки */\n  href?: string;\n  /** Переключатель видимости иконки \"Close\" */\n  isClosable?: boolean;\n  /** Закрытие notification */\n  onClose?: () => void;\n  /** Переключатель видимоти статусных иконок */\n  displayStatusIcon?: boolean;\n}\n\nconst getIcon = (status: Status) => {\n  switch (status) {\n    case 'info':\n      return InfoIcon;\n    case 'error':\n      return ErrorIcon;\n    case 'success':\n      return SuccessIcon;\n    case 'warning':\n    default:\n      return WarningIcon;\n  }\n};\n\nconst backGroundColorMixin = css<{ status?: Status }>`\n  background-color: ${({ theme, status }) => {\n    if (status === 'warning') return theme.color.background.surfaceWarn;\n    if (status === 'error') return theme.color.background.surfaceDanger;\n    if (status === 'success') return theme.color.background.surfaceSuccess;\n    return theme.color.background.secondary;\n  }};\n`;\n\nconst borderColorMixin = css<{ status?: Status }>`\n  border-color: ${({ theme, status }) => {\n    if (status === 'warning') return theme.color.status.warn;\n    if (status === 'error') return theme.color.status.danger;\n    if (status === 'success') return theme.color.status.success;\n    return theme.color.basic.primary;\n  }};\n`;\n\nconst NotificationWrapper = styled.div<{ status?: Status; displayStatusIcon: boolean; isClosable: boolean }>`\n  overflow: hidden;\n  position: relative;\n  box-sizing: border-box;\n  border-radius: 4px;\n  padding: 12px 44px 12px 52px;\n  ${(p) => (p.displayStatusIcon ? '' : 'padding-left: 16px;')}\n  ${(p) => (p.isClosable ? '' : 'padding-right: 16px;')}\n  border-width: 1px;\n  border-style: solid;\n  ${borderColorMixin};\n  ${backGroundColorMixin};\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 2px 0px;\n`;\n\nconst Title = styled.div`\n  ${typography['Subtitle/Subtitle 3']}\n  color: ${({ theme }) => theme.color.text.primary};\n  margin-bottom: 4px;\n`;\n\nconst CustomBody = styled.div`\n  ${typography['Body/Body 2 Long']}\n  color: ${({ theme }) => theme.color.text.primary};\n`;\n\nconst Close = styled.div`\n  position: absolute;\n  top: 14px;\n  right: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 20px;\n  height: 20px;\n\n  & svg {\n    width: 20px;\n    height: 20px;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.secondary};\n    }\n  }\n  & svg:hover *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n`;\n\nconst IconWrapper = styled.div<{ status?: Status }>`\n  position: absolute;\n  top: 11px;\n  left: 15px;\n  width: 24px;\n  height: 24px;\n  & svg {\n    width: 24px;\n    height: 24px;\n    & *[fill^='#'] {\n      fill: ${({ theme, status }) => {\n        if (status === 'warning') return theme.color.status.warn;\n        if (status === 'error') return theme.color.status.danger;\n        if (status === 'success') return theme.color.status.success;\n        return theme.color.basic.primary;\n      }};\n    }\n  }\n`;\n\nconst LinkWrapper = styled(Link)`\n  margin-top: 4px;\n  ${typography['Button/Button 2']}\n  color: ${({ theme }) => theme.color.basic.primary};\n`;\n\nNotificationWrapper.defaultProps = {\n  theme: DEFAULT_THEME,\n};\n\nexport const Notification = ({\n  status = 'info',\n  title,\n  linkText = '',\n  href = '',\n  displayStatusIcon = false,\n  isClosable = false,\n  onClose,\n  children,\n  ...props\n}: React.PropsWithChildren<NotificationProps>) => {\n  const NotificationIcon = getIcon(status);\n\n  const isAlert = status !== 'info';\n\n  return (\n    <NotificationWrapper\n      role={isAlert ? 'alert' : 'status'}\n      aria-live={isAlert ? 'assertive' : 'polite'}\n      status={status}\n      displayStatusIcon={displayStatusIcon}\n      isClosable={isClosable}\n      {...props}\n    >\n      {displayStatusIcon && (\n        <IconWrapper status={status}>\n          <NotificationIcon />\n        </IconWrapper>\n      )}\n      <Content>\n        {title && <Title>{title}</Title>}\n        <CustomBody>{children}</CustomBody>\n        {linkText && <LinkWrapper href={href}>{linkText || href}</LinkWrapper>}\n      </Content>\n\n      {isClosable && (\n        <Close onClick={onClose} tabIndex={0}>\n          <CloseOutline />\n        </Close>\n      )}\n    </NotificationWrapper>\n  );\n};\n\nNotification.displayName = 'Notification';\n","import type { ReactNode } from 'react';\nimport * as React from 'react';\nimport type { IdentifyToast } from '#ui-kit3/components/Toast/type';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nexport type PositionToasts = 'top-right' | 'bottom-right' | 'bottom-left';\n\nexport interface ToastProps {\n  /**позиция всплывающей toast */\n  position?: PositionToasts;\n  /**ширина контейнера toast */\n  widthContainer?: number | string;\n  /**время через которое удаляются toast */\n  autoDeleteTime?: number;\n  /**время через которое удаляются toast */\n  children?: ReactNode;\n}\n\nexport interface IContextProps extends ToastProps {\n  addToast: (newToast: IdentifyToast) => void;\n  removeToast: (removeToast: IdentifyToast) => void;\n  clearToasts: () => void;\n  toasts: IdentifyToast[];\n  removeToastById: (removeId: string) => void;\n}\n\nexport const ToastContext = React.createContext({} as IContextProps);\n\nexport const ToastProvider = ({ autoDeleteTime, ...props }: ToastProps) => {\n  const [toasts, setToast] = React.useState<IdentifyToast[]>([]);\n\n  const removeToast = React.useCallback((removeToast: IdentifyToast) => {\n    setToast((prevToasts) => prevToasts.filter(({ id }) => id !== removeToast.id));\n  }, []);\n\n  const removeToastById = React.useCallback((removeId: string) => {\n    setToast((prevToasts) => prevToasts.filter(({ id }) => id !== removeId));\n  }, []);\n\n  const addToast = React.useCallback((toast: IdentifyToast) => {\n    const idToast = uid();\n    const newToast = { ...toast, id: toast?.id || idToast };\n    setToast((prevToasts) => {\n      const isNewToast = prevToasts.every((toast) => toast.id !== newToast.id);\n      if (isNewToast) {\n        return [newToast, ...prevToasts];\n      }\n      return prevToasts;\n    });\n  }, []);\n\n  const clearToasts = React.useCallback(() => {\n    setToast([]);\n  }, []);\n\n  React.useEffect(() => {\n    if (!autoDeleteTime) return setToast(toasts);\n    const interval = setInterval(() => {\n      if (toasts.length) {\n        removeToast(toasts[toasts?.length - 1]);\n      }\n    }, autoDeleteTime);\n    return () => clearInterval(interval);\n  }, [toasts]);\n\n  const providerValue = React.useMemo(\n    () => ({ addToast, removeToast, toasts, clearToasts, removeToastById }),\n    [addToast, removeToast, toasts],\n  );\n\n  return <ToastContext.Provider value={providerValue} children={props.children} />;\n};\n","import * as React from 'react';\nimport type { IContextProps } from './ToastProvider';\nimport { ToastContext } from './ToastProvider';\n\nexport function useToast(): IContextProps {\n  const context = React.useContext(ToastContext);\n\n  return {\n    addToast: context?.addToast,\n    removeToast: context?.removeToast,\n    toasts: context?.toasts,\n    clearToasts: context?.clearToasts,\n    removeToastById: context?.removeToastById,\n    autoDeleteTime: context?.autoDeleteTime,\n  };\n}\n","import type { FC } from 'react';\nimport * as React from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport { Notification } from '#ui-kit3/components/Notification';\nimport { useToast } from './useToast';\nimport type { PositionToasts } from '#ui-kit3/components/Toast/ToastProvider';\nimport type { IdentifyToast } from '#ui-kit3/components/Toast/type';\n\nconst fadeInRight = keyframes`\n  from {\n    transform: translateX(100%);\n\n  }\n  to {\n    transform: translateX(0);\n  }\n`;\n\nconst fadeInLeft = keyframes`\n  from {\n    transform: translateX(-100%);\n\n  }\n  to {\n    transform: translateX(0);\n  }\n`;\n\nconst fadeMixin = css<{ position?: PositionToasts }>`\n  animation-name: ${({ position }) => {\n    if (position === 'bottom-left') return fadeInLeft;\n    return fadeInRight;\n  }};\n`;\n\nexport interface ToastTransitionProps {\n  position: PositionToasts;\n  preventExitTransition: boolean;\n  nodeRef: React.RefObject<HTMLElement>;\n  children?: React.ReactNode;\n}\n\nconst Transition = styled.div<{ position?: PositionToasts }>`\n  margin-bottom: 16px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n  animation-duration: 1s;\n  animation-timing-function: ease-out;\n  ${fadeMixin}\n`;\n\ninterface AnimationToast {\n  position: PositionToasts;\n  item: IdentifyToast;\n}\n\nconst StyledNotification = styled(Notification)`\n  ${(props) => props.theme.shadow.ClickableDefault}\n`;\n\nexport const AnimationToast: FC<AnimationToast> = ({ position, item }) => {\n  const { removeToast } = useToast();\n\n  const handleOnClose = () => {\n    removeToast(item);\n  };\n\n  return (\n    <Transition key={item.id} position={position}>\n      <StyledNotification {...item} onClose={item.onClose || handleOnClose}>\n        {item.children}\n      </StyledNotification>\n    </Transition>\n  );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useToast } from './useToast';\nimport type { PositionToasts } from './ToastProvider';\nimport { AnimationToast } from '#ui-kit3/components/Toast/AnimationToast';\n\nconst Container = styled.div<{ position: PositionToasts }>`\n  position: fixed;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  width: 488px;\n  z-index: ${({ theme }) => theme.zIndex.notification};\n  ${(p) => p.position === 'top-right' && 'top: 16px'};\n  ${(p) => (p.position === 'bottom-right' || p.position === 'bottom-left') && 'bottom: 16px'};\n  ${(p) => (p.position === 'top-right' || p.position === 'bottom-right') && 'right: 16px'};\n  ${(p) => p.position === 'bottom-left' && 'left: 16px'};\n  pointer-events: none;\n  > * {\n    pointer-events: initial;\n  }\n`;\n\nexport interface ToastTransitionProps extends React.HTMLAttributes<HTMLDivElement> {\n  position?: PositionToasts;\n}\n\nexport const Toast = ({ position = 'top-right', ...props }: ToastTransitionProps) => {\n  const { toasts } = useToast();\n  return (\n    <Container position={position} {...props}>\n      {!!toasts?.length &&\n        toasts.map((item) => {\n          return <AnimationToast key={item.id} position={position} item={item} />;\n        })}\n    </Container>\n  );\n};\n\nexport * from './useToast';\nexport * from './ToastProvider';\n\nToast.displayName = 'Toast';\n","import * as React from 'react';\n\nconst StepperContext = React.createContext<{\n  orientation: 'horizontal' | 'vertical';\n  activeStep: number;\n  lineClamp: 1 | 2 | 3;\n  stepWidth?: number | string;\n}>({ orientation: 'horizontal', activeStep: -1, lineClamp: 3 });\n\nif (process.env.NODE_ENV !== 'production') {\n  StepperContext.displayName = 'StepperContext';\n}\n\nexport default StepperContext;\n","import styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nimport { ReactComponent as StepSvg } from './svg/Step.svg';\n\ntype Orientation = 'horizontal' | 'vertical';\n\nexport const StepTrack = styled.div`\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  align-self: stretch;\n  flex-direction: row;\n  width: 100%;\n  margin: 0 0 8px 0;\n  [data-orientation='vertical'] & {\n    flex-direction: column;\n    width: 20px;\n    margin: 0 8px 0 0;\n  }\n`;\n\nexport const StepIcon = styled(StepSvg)`\n  margin: 0 4px 0 0;\n  [data-orientation='vertical'] & {\n    margin: 0 0 4px 0;\n  }\n  [data-active='true'] & {\n    path {\n      fill: ${({ theme }) => theme.color.basic.primary};\n    }\n  }\n  [data-error='true'] & {\n    path {\n      fill: ${({ theme }) => theme.color.status.danger};\n    }\n  }\n  [data-warning='true'] & {\n    path {\n      fill: ${({ theme }) => theme.color.status.warn};\n    }\n  }\n  [data-disabled='true'] & {\n    path {\n      fill: ${({ theme }) => theme.color.basic.primaryLight};\n    }\n  }\n  flex-shrink: 0;\n`;\n\nexport const StepRail = styled.div`\n  height: 2px;\n  width: 100%;\n  [data-orientation='vertical'] & {\n    height: 100%;\n    width: 2px;\n  }\n  background-color: ${({ theme }) => theme.color.basic.disable};\n  [data-completed='true'] & {\n    background-color: ${({ theme }) => theme.color.basic.primary};\n  }\n  [data-error='true'] & {\n    background-color: ${({ theme }) => theme.color.status.danger};\n  }\n  [data-warning='true'] & {\n    background-color: ${({ theme }) => theme.color.status.warn};\n  }\n  [data-disabled='true'] & {\n    background-color: ${({ theme }) => theme.color.basic.primaryLight};\n  }\n  border-radius: 1px;\n`;\n\nexport const StepContentWrapper = styled.span`\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-shrink: 0;\n  flex-direction: column;\n  [data-orientation='vertical'] & {\n    flex-direction: row;\n  }\n`;\n\nconst clickableCss = css<{ error?: boolean; warning?: boolean }>`\n  &:hover svg {\n    path {\n      fill: ${({ error, warning, theme }) => {\n        if (error) return theme.color.status.hoverDanger;\n        if (warning) return theme.color.status.hoverWarn;\n        return theme.color.basic.hover;\n      }};\n    }\n  }\n`;\n\nconst clickableNotActiveCss = css<{ error?: boolean; warning?: boolean }>`\n  &:hover ${StepRail} {\n    background-color: ${({ error, warning, theme }) => {\n      if (error) return theme.color.status.hoverDanger;\n      if (warning) return theme.color.status.hoverWarn;\n      return theme.color.basic.hover;\n    }};\n  }\n`;\n\nexport const StepWrapper = styled.li<{\n  orientation: Orientation;\n  clickable: boolean;\n  error?: boolean;\n  warning?: boolean;\n  active?: boolean;\n  stepWidth?: number | string;\n}>`\n  display: flex;\n  position: relative;\n  box-sizing: border-box;\n  width: ${({ orientation, stepWidth }) => {\n    if (stepWidth) return `${typeof stepWidth === 'number' ? `${stepWidth}px` : stepWidth}`;\n    return orientation === 'horizontal' ? '188px' : '224px';\n  }};\n  flex-shrink: 0;\n  background: none;\n  padding: 0;\n  margin: 0;\n  text-align: left;\n  border: none;\n  text-decoration: none;\n  ${({ clickable }) => clickable && 'cursor: pointer;'}\n  ${({ clickable }) => clickable && clickableCss}\n  ${({ clickable, active }) => clickable && !active && clickableNotActiveCss}\n\n    &:focus {\n    outline: none;\n    &:before {\n      position: absolute;\n      content: '';\n      border: 2px solid ${({ theme }) => theme.color.basic.hover};\n      border-radius: 4px;\n      top: 0px;\n      left: 0px;\n      bottom: 0px;\n      right: 0px;\n    }\n  }\n  &:focus,\n  & > ${StepContentWrapper} {\n    outline: none;\n  }\n`;\n\nexport const ContentWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  [data-orientation='vertical'] & {\n    margin: 0 0 20px 0;\n  }\n`;\n\nexport const Content = styled.div<{ lineClamp: 1 | 2 | 3 }>`\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: ${({ lineClamp }) => {\n    if (lineClamp === 1) return 1;\n    if (lineClamp === 2) return 2;\n    return 3;\n  }};\n  overflow: hidden;\n  color: ${({ theme }) => theme.color.text.primary};\n  ${typography['Body/Body 2 Long']}\n  margin: 0 12px 0 0;\n`;\n\nexport const List = styled.ul<{ orientation?: Orientation }>`\n  position: relative;\n  display: flex;\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n  padding: 0;\n  ${({ orientation }) =>\n    orientation === 'horizontal'\n      ? `\nflex-direction: row;\noverflow-x: scroll;\n`\n      : `\nflex-direction: column;\n`}\n\n  & > * {\n    padding: 2px;\n  }\n\n  &::-webkit-scrollbar {\n    width: 0 !important;\n    height: 0 !important;\n  }\n\n  overflow: -moz-scrollbars-none;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  scrollbar-height: none;\n`;\n","import React from 'react';\nimport type { FC } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Tooltip } from '#ui-kit3/components/Tooltip';\nimport type { ITooltipProps } from '#ui-kit3/components/Tooltip';\nimport { DARK_THEME, LIGHT_THEME } from '#ui-kit3/components/themes';\n\nimport { Content, ContentWrapper } from './style';\nimport StepperContext from './StepperContext';\n\nconst InverseTooltip = (props: any) => {\n  const themeContext = React.useContext(ThemeContext);\n  return <Tooltip {...props} theme={themeContext.name == 'dark' ? LIGHT_THEME : DARK_THEME} />;\n};\n\nexport const StepContent: FC<{ children: string; tooltipProps?: Partial<ITooltipProps> }> = ({\n  children,\n  tooltipProps,\n}) => {\n  const { orientation, lineClamp, stepWidth } = React.useContext(StepperContext);\n  const contentRef = React.useRef<HTMLDivElement | null>(null);\n  const [overflow, setOverflow] = React.useState(false);\n\n  const detectOverflow = (e: any) => e.clientHeight < e.scrollHeight;\n\n  React.useLayoutEffect(() => {\n    if (contentRef.current && detectOverflow(contentRef.current) !== overflow) {\n      setOverflow(detectOverflow(contentRef.current));\n    }\n  }, [children, orientation, stepWidth, lineClamp]);\n\n  return overflow ? (\n    <InverseTooltip renderContent={() => children} {...tooltipProps}>\n      <ContentWrapper>\n        <Content ref={contentRef} lineClamp={lineClamp}>\n          {children}\n        </Content>\n      </ContentWrapper>\n    </InverseTooltip>\n  ) : (\n    <ContentWrapper>\n      <Content ref={contentRef} lineClamp={lineClamp}>\n        {children}\n      </Content>\n    </ContentWrapper>\n  );\n};\n","import React, { HTMLAttributes } from 'react';\nimport type { FC } from 'react';\n\nimport { ReactComponent as StepDefault } from './svg/Step.svg';\nimport { ReactComponent as StepCompleted } from './svg/StepCompleted.svg';\nimport { ReactComponent as StepError } from './svg/StepError.svg';\nimport { StepTrack, StepRail, StepIcon, StepWrapper, StepContentWrapper } from './style';\nimport StepperContext from './StepperContext';\n\nexport interface StepProps\n  extends Omit<HTMLAttributes<HTMLLIElement | HTMLButtonElement | HTMLAnchorElement>, 'onClick'> {\n  disabled?: boolean;\n  error?: boolean;\n  warning?: boolean;\n  active?: boolean;\n  completed?: boolean;\n  link?: string;\n  index?: number;\n  onClick?: (step: { index: number; active: boolean; completed: boolean; disabled?: boolean }) => void;\n}\n\nexport const Step: FC<StepProps> = ({\n  index = -1,\n  link,\n  error,\n  warning,\n  disabled: propDisabled,\n  completed: propCompleted,\n  active: propActive,\n  onClick,\n  children,\n  ...props\n}) => {\n  const { activeStep, orientation, stepWidth } = React.useContext(StepperContext);\n  const clickable = !propDisabled && (!!onClick || !!link) && !!propCompleted;\n  const active = propActive !== undefined ? propActive : activeStep === index;\n  const completed = !!propCompleted && !propDisabled;\n  const disabled = (!completed && !active) || !!propDisabled;\n  const icon = error || warning ? StepError : completed ? StepCompleted : StepDefault;\n  const stepRef = React.useRef<HTMLLIElement | null>(null);\n\n  const handleClick = () => {\n    if (!disabled) {\n      onClick?.({ index, active, completed, disabled });\n    }\n  };\n\n  const nonClickableProps = { clickable: false };\n  const linkProps = { clickable: true, as: 'a', href: link };\n  const buttonProps = { clickable: true, as: 'button', type: 'button', disabled };\n  const extraProps = !clickable ? nonClickableProps : link ? linkProps : buttonProps;\n\n  return (\n    <StepWrapper\n      ref={stepRef}\n      data-orientation={orientation}\n      orientation={orientation}\n      data-error={error}\n      error={error}\n      data-warning={warning}\n      warning={warning}\n      data-completed={completed}\n      data-active={active}\n      active={active}\n      data-disabled={propDisabled}\n      stepWidth={stepWidth}\n      onClick={handleClick}\n      {...extraProps}\n      {...props}\n    >\n      <StepContentWrapper tabIndex={-1}>\n        <StepTrack aria-hidden>\n          <StepIcon as={icon} width={20} height={20} />\n          <StepRail />\n        </StepTrack>\n        {children}\n      </StepContentWrapper>\n    </StepWrapper>\n  );\n};\n","import React, { HTMLAttributes } from 'react';\nimport type { FC } from 'react';\n\nimport StepperContext from './StepperContext';\nimport { List } from './style';\n\nexport * from './StepContent';\nexport * from './Step';\n\nexport type Orientation = 'horizontal' | 'vertical';\n\nexport interface StepperProps extends HTMLAttributes<HTMLUListElement> {\n  /** Ориентация компонента */\n  orientation?: Orientation;\n  /** Индекс активного шага, нумерация шагов начинается с 0.\n   * Этот параметр будет перезаписан, если какому-то шагу задан параметр active равный true\n   */\n  activeStep: number;\n  /** Количество строк в шаге, все шаги по высоте вмещают одинаковое количество строк */\n  lineClamp?: 1 | 2 | 3;\n  /** Ширина шага */\n  stepWidth?: number | string;\n}\n\nexport const Stepper: FC<StepperProps> = ({\n  orientation = 'horizontal',\n  activeStep = -1,\n  lineClamp = 3,\n  stepWidth,\n  children,\n  ...props\n}) => {\n  const listRef = React.useRef<any>();\n  const steps = React.Children.toArray(children).map((step, index) => {\n    if (!React.isValidElement(step)) {\n      return null;\n    }\n    return activeStep === index\n      ? React.cloneElement(step, {\n          index,\n          role: 'listitem',\n          'aria-current': 'step',\n          ...step.props,\n        })\n      : React.cloneElement(step, {\n          index,\n          role: 'listitem',\n          ...step.props,\n        });\n  });\n  const contextValue = React.useMemo(\n    () => ({ activeStep, orientation, lineClamp, stepWidth }),\n    [activeStep, orientation, lineClamp, stepWidth],\n  );\n\n  React.useEffect(() => {\n    if (listRef.current && orientation === 'horizontal') {\n      const activeNode = listRef.current.childNodes[activeStep] || listRef.current.firstChild;\n      listRef.current.scrollLeft = activeStep === 0 ? activeNode.offsetLeft : activeNode.offsetLeft - 16;\n    }\n  }, [activeStep, listRef.current, steps]);\n\n  return (\n    <StepperContext.Provider value={contextValue}>\n      <List ref={listRef} role=\"list\" orientation={orientation} {...props}>\n        {steps}\n      </List>\n    </StepperContext.Provider>\n  );\n};\n\nStepper.displayName = 'Stepper';\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst Button = styled.button`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: 4px;\n  appearance: none;\n  -webkit-tap-highlight-color: transparent;\n  overflow: visible;\n  background-color: ${({ theme }) => theme.color.background.tertiary};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n\n  &:hover {\n    cursor: pointer;\n    background-color: ${({ theme }) => theme.color.background.tertiaryHover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.color.background.tertiaryHover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n\n  &:focus {\n    outline: none;\n    &:before {\n      position: absolute;\n      content: '';\n      border: 2px solid ${({ theme }) => theme.color.basic.primary};\n      top: -4px;\n      bottom: -4px;\n      left: -4px;\n      right: -4px;\n      border-radius: 4px;\n    }\n    background-color: ${({ theme }) => theme.color.background.tertiaryHover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    background-color: ${({ theme }) => theme.color.background.tertiary};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.disable};\n    }\n  }\n`;\n\nexport const PaginationButton = (props: React.ButtonHTMLAttributes<HTMLButtonElement>) => {\n  return <Button {...props} type=\"button\" />;\n};\n","import * as React from 'react';\nimport { ReactComponent as ChevronDownOutline } from '@openvtb/admiral-icons/build/system/ChevronDownOutline.svg';\nimport styled, { FlattenInterpolation, DefaultTheme, ThemeProps } from 'styled-components';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { DropDownItem } from '#ui-kit3/components/DropDownItem';\nimport { useClickOutside } from '#ui-kit3/components/common/hooks/useClickOutside';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\n\nconst Button = styled.button<{ $menuOpened?: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 40px;\n  padding: 10px 12px;\n  border: 2px solid transparent;\n  border-radius: 4px;\n  appearance: none;\n  -webkit-tap-highlight-color: transparent;\n  background-color: transparent;\n  ${typography['Body/Body 2 Long']}\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n  & > span {\n    min-width: 20px;\n  }\n\n  &:hover {\n    cursor: pointer;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  &:active {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.color.basic.hover};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  ${({ $menuOpened, theme }) =>\n    $menuOpened &&\n    `\n      border-color: ${theme.color.basic.hover};\n      & *[fill^='#'] {\n        fill: ${theme.color.basic.hover};\n      }\n    `}\n\n  &:disabled {\n    cursor: not-allowed;\n    color: ${({ theme }) => theme.color.basic.disable};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.disable};\n    }\n  }\n`;\n\nconst Icon = styled(ChevronDownOutline)<{ $menuOpened: boolean }>`\n  transition: all 0.3s;\n  ${({ $menuOpened }) => $menuOpened && 'transform: rotate(180deg);'}\n`;\n\nconst StyledDropDown = styled(Dropdown)<{\n  dropMaxHeight: string | number;\n  cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}>`\n  padding: 8px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: ${(p) => p.dropMaxHeight};\n  min-width: 100%;\n`;\n\nexport interface MenuButtonProps extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  /** Массив опций */\n  options: Array<number>;\n  /** Выбранная опция */\n  selected: number | null;\n  /** Колбек на изменение выбранной опции */\n  onChange: (value: number) => void;\n  /** Колбек на открытие меню */\n  onOpen?: () => void;\n  /** Колбек на закрытие меню */\n  onClose?: () => void;\n  /** Отключение компонента */\n  disabled?: boolean;\n  /** Задает максимальную высоту контейнера с опциями */\n  dropMaxHeight: string | number;\n  /** Позволяет добавлять миксин на дроп контейнер созданный с помощью styled css  */\n  dropContainerCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}\n\nexport const MenuButton = React.forwardRef<HTMLButtonElement, MenuButtonProps>(\n  (\n    {\n      children,\n      disabled = false,\n      onClose,\n      onOpen,\n      options,\n      selected,\n      onChange,\n      dropMaxHeight,\n      dropContainerCssMixin,\n      ...props\n    },\n    ref,\n  ) => {\n    const [menuOpened, setMenuOpened] = React.useState<boolean>(false);\n    const btnRef = React.useRef<HTMLButtonElement>(null);\n    const menuRef = React.useRef<HTMLDivElement>(null);\n\n    const reverseMenu = () => {\n      setMenuOpened((prevOpened) => {\n        prevOpened ? onClose?.() : onOpen?.();\n        return !prevOpened;\n      });\n    };\n    const closeMenu = () => {\n      setMenuOpened(false);\n      onClose?.();\n      btnRef.current?.focus();\n    };\n\n    useClickOutside([menuRef, btnRef], closeMenu);\n\n    const handleBtnKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n      if (e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') {\n        setMenuOpened(true);\n        onOpen?.();\n        e.preventDefault();\n      }\n    };\n\n    const handleClick = (e: React.MouseEvent<HTMLLIElement>) => {\n      onChange(e.currentTarget.value);\n      closeMenu();\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLLIElement>) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        onChange(e.currentTarget.value);\n        closeMenu();\n        e.preventDefault();\n      }\n    };\n\n    const clickOutside = (e: Event) => {\n      if (e.target && btnRef.current?.contains(e.target as Node)) {\n        return;\n      }\n      setMenuOpened(false);\n    };\n\n    return (\n      <>\n        <Button\n          {...props}\n          ref={refSetter(ref, btnRef)}\n          disabled={disabled}\n          $menuOpened={menuOpened}\n          onKeyDown={handleBtnKeyDown}\n          onClick={reverseMenu}\n          aria-expanded={menuOpened}\n          type=\"button\"\n        >\n          <span>{children}</span>\n          <Icon $menuOpened={menuOpened} width={20} height={20} aria-hidden />\n        </Button>\n        {menuOpened && (\n          <StyledDropDown\n            ref={menuRef}\n            targetRef={btnRef}\n            onClickOutside={clickOutside}\n            dropMaxHeight={dropMaxHeight}\n            cssMixin={dropContainerCssMixin}\n          >\n            {options.map((option) => (\n              <DropDownItem\n                key={option}\n                value={option}\n                dimension=\"s\"\n                selected={selected === option}\n                aria-selected={selected === option}\n                role=\"option\"\n                onClick={handleClick}\n                onKeyDown={handleKeyDown}\n              >\n                {option}\n              </DropDownItem>\n            ))}\n          </StyledDropDown>\n        )}\n      </>\n    );\n  },\n);\n","import * as React from 'react';\nimport styled, { FlattenInterpolation, DefaultTheme, ThemeProps } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as ChevronLeft } from '@openvtb/admiral-icons/build/system/ChevronLeftOutline.svg';\nimport { ReactComponent as ChevronRight } from '@openvtb/admiral-icons/build/system/ChevronRightOutline.svg';\n\nimport { PaginationButton } from './PaginationButton';\nimport { MenuButton } from './Menu';\n\nconst ComplexWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  ${typography['Body/Body 2 Long']}\n  white-space: nowrap;\n  user-select: none;\n  min-width: 696px;\n  justify-content: space-between;\n`;\n\nconst SimpleWrapper = styled(ComplexWrapper)`\n  min-width: auto;\n`;\n\nconst Part = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Devider = styled.div`\n  width: 1px;\n  height: 24px;\n  background-color: ${({ theme }) => theme.color.background.tertiary};\n`;\n\nconst PageAdditional = styled.span`\n  margin: 0 4px;\n  min-width: 112px;\n`;\nconst PageSizeAdditional = styled.div`\n  min-width: 172px;\n  margin: 0 12px;\n  [data-simple='true'] & {\n    margin: 0;\n  }\n`;\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  & > button {\n    margin-left: 8px;\n  }\n  [data-simple='true'] & {\n    margin-left: 20px;\n  }\n`;\n\nexport interface PaginationOneProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Колбек, который срабатывает при изменении номера  страницы или размера страницы */\n  onChange: (result: { page: number; pageSize: number }) => void;\n  /** Номер текущей страницы */\n  page: number;\n  /** Размер текущей страницы (сколько записей умещается в одной странице) */\n  pageSize: number;\n  /** Общее количество записей */\n  totalItems: number;\n  /** Массив с вариантами размеров страницы */\n  pageSizes: Array<number>;\n  /** Блокировка выбора страницы */\n  pageSelectDisabled?: boolean;\n  /** Блокировка выбора количества записей на странице */\n  pageSizeSelectDisabled?: boolean;\n  /** Функция, возвращающая текст, описывающий селект с выбором номера страницы */\n  pageSelectLabel?: (props: any) => string;\n  /** Функция, возвращающая текст, описывающий селект с выбором размера страницы */\n  pageSizeSelectLabel?: (props: any) => string;\n  /** Текст, описывающий сколько записей размещено на одной странице */\n  itemsPerPageText?: string;\n  /** Функция, возвращающая текст, поясняющий, какой диапазон записей сейчас отображается */\n  itemRangeText?: (props: any) => string;\n  /** Функция, возвращающая текст, поясняющий, из какого количества страниц выбрана текущая */\n  pageRangeText?: (props: any) => string;\n  /** Текст, описывающий кнопку переключения назад */\n  backwardText?: string;\n  /** Текст, описывающий кнопку переключения вперед */\n  forwardText?: string;\n  /** Отображение компонента в упрощенном варианте, применяется в мобильных версиях */\n  simple?: boolean;\n  /** Задает максимальную высоту выпадающих меню */\n  dropMaxHeight?: string | number;\n  /** Позволяет добавлять миксин для выпадающих меню, созданный с помощью styled css  */\n  dropContainerCssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}\n\nexport const PaginationOne: React.FC<PaginationOneProps> = ({\n  page,\n  pageSize,\n  pageSizes,\n  totalItems,\n  pageSelectDisabled = false,\n  pageSizeSelectDisabled = false,\n  itemsPerPageText = 'Записей на странице:',\n  onChange,\n  itemRangeText = (min: number, max: number, total: number) => `${min}–${max} записей из ${total}`,\n  pageRangeText = (total: number) => `из ${total} ${total === 1 ? 'страницы' : 'страниц'}`,\n  pageSelectLabel = (page: number, totalPages: number) => `Страница ${page} из ${totalPages}`,\n  pageSizeSelectLabel = (pageSize: number, total: number) => `Записей ${pageSize} из ${total}`,\n  backwardText = 'Предыдущая страница, выбрать',\n  forwardText = 'Следующая страница, выбрать',\n  simple = false,\n  dropMaxHeight = '300px',\n  dropContainerCssMixin,\n  ...props\n}) => {\n  const totalPages = Math.max(Math.ceil(totalItems / pageSize), 1);\n  const pages = Array.from({ length: totalPages }, (v, k) => k + 1);\n  const backButtonDisabled = page === 1;\n  const forwardButtonDisabled = page === totalPages;\n\n  const handleSizeChange = (pageSize: number) => {\n    onChange({ page: 1, pageSize });\n  };\n\n  const handlePageInputChange = (page: number) => {\n    if (page > 0 && page <= totalPages) {\n      onChange({\n        page,\n        pageSize,\n      });\n    }\n  };\n\n  const pageIncrement = () => onChange({ page: page + 1, pageSize });\n  const pageDecrement = () => onChange({ page: page - 1, pageSize });\n\n  const renderComplex = () => {\n    return (\n      <ComplexWrapper data-simple={simple} {...props}>\n        <Part>\n          {itemsPerPageText}\n          <MenuButton\n            options={pageSizes}\n            selected={pageSize}\n            onChange={handleSizeChange}\n            disabled={pageSizeSelectDisabled}\n            aria-label={pageSizeSelectLabel(pageSize, totalItems)}\n            dropMaxHeight={dropMaxHeight}\n            dropContainerCssMixin={dropContainerCssMixin}\n          >\n            {pageSize}\n          </MenuButton>\n          <Devider />\n          <PageSizeAdditional>\n            {itemRangeText(\n              Math.min(pageSize * (page - 1) + 1, totalItems),\n              Math.min(page * pageSize, totalItems),\n              totalItems,\n            )}\n          </PageSizeAdditional>\n        </Part>\n        <Part>\n          <Devider />\n          <MenuButton\n            options={pages}\n            selected={page}\n            onChange={handlePageInputChange}\n            disabled={pageSelectDisabled}\n            aria-label={pageSelectLabel(page, totalPages)}\n            dropMaxHeight={dropMaxHeight}\n            dropContainerCssMixin={dropContainerCssMixin}\n          >\n            {page}\n          </MenuButton>\n          <PageAdditional>{pageRangeText(totalPages)}</PageAdditional>\n          <ButtonsWrapper>\n            <PaginationButton aria-label={backwardText} disabled={backButtonDisabled} onClick={pageDecrement}>\n              <ChevronLeft width={24} height={24} />\n            </PaginationButton>\n            <PaginationButton aria-label={forwardText} disabled={forwardButtonDisabled} onClick={pageIncrement}>\n              <ChevronRight width={24} height={24} />\n            </PaginationButton>\n          </ButtonsWrapper>\n        </Part>\n      </ComplexWrapper>\n    );\n  };\n\n  const renderSimple = () => {\n    return (\n      <SimpleWrapper data-simple={simple} {...props}>\n        <PageSizeAdditional>\n          {itemRangeText(\n            Math.min(pageSize * (page - 1) + 1, totalItems),\n            Math.min(page * pageSize, totalItems),\n            totalItems,\n          )}\n        </PageSizeAdditional>\n        <ButtonsWrapper>\n          <PaginationButton aria-label={backwardText} disabled={backButtonDisabled} onClick={pageDecrement}>\n            <ChevronLeft width={24} height={24} />\n          </PaginationButton>\n          <PaginationButton aria-label={forwardText} disabled={forwardButtonDisabled} onClick={pageIncrement}>\n            <ChevronRight width={24} height={24} />\n          </PaginationButton>\n        </ButtonsWrapper>\n      </SimpleWrapper>\n    );\n  };\n\n  return simple ? renderSimple() : renderComplex();\n};\n\nPaginationOne.displayName = 'PaginationOne';\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { uid } from '#ui-kit3/components/common/uid';\n\nconst Wrapper = styled.ul`\n  position: relative;\n  display: flex;\n  overflow-x: scroll;\n  list-style: none;\n\n  & > li {\n    margin-right: 8px;\n  }\n\n  & > li:last-child {\n    margin-right: 0;\n  }\n\n  &::-webkit-scrollbar {\n    width: 0 !important;\n    height: 0 !important;\n  }\n\n  overflow: -moz-scrollbars-none;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  scrollbar-height: none;\n`;\n\nconst ItemContentWrapper = styled.span`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding: 4px;\n`;\n\nconst ItemContent = styled.div`\n  display: inline-flex;\n  height: 4px;\n  width: 16px;\n  border-radius: 2px;\n  background-color: ${({ theme }) => theme.color.background.tertiary};\n\n  [aria-selected='true'] & {\n    background-color: ${({ theme }) => theme.color.basic.primary};\n  }\n`;\n\nconst Item = styled.button`\n  width: 24px;\n  height: 12px;\n  border-radius: 4px;\n\n  position: relative;\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  background: transparent;\n  appearance: none;\n  border: 2px solid transparent;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n\n  &:focus {\n    border-color: ${({ theme }) => theme.color.basic.primary};\n    & ${ItemContent} {\n      background-color: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n  &:focus,\n  & > ${ItemContentWrapper} {\n    outline: none;\n  }\n\n  &:hover ${ItemContent} {\n    background-color: ${({ theme }) => theme.color.basic.hover};\n  }\n  &:active ${ItemContent} {\n    background-color: ${({ theme }) => theme.color.basic.press};\n  }\n`;\n\nexport interface PaginationSimpleProps extends Omit<React.HTMLAttributes<HTMLUListElement>, 'onChange'> {\n  /**  Общее количество секций */\n  totalItems: number;\n  /** Номер выбранной секции (нумерация с 0) */\n  currentItem: number;\n  /** Колбек на изменение текущей секции */\n  onChange: (event: any, item: number) => void;\n}\n\nexport const PaginationSimple: React.FC<PaginationSimpleProps> = ({\n  totalItems,\n  currentItem,\n  onChange,\n  children,\n  ...props\n}) => {\n  return (\n    <Wrapper {...props}>\n      {children &&\n        React.Children.toArray(children).map((child, index) => {\n          const id = uid();\n          const handleChange = (event: React.MouseEvent<HTMLLIElement> | React.KeyboardEvent<HTMLLIElement>) =>\n            onChange(event, index);\n          return (\n            <li aria-selected={currentItem === index} key={id} onClick={handleChange}>\n              {child}\n            </li>\n          );\n        })}\n    </Wrapper>\n  );\n};\n\nexport const PaginationSimpleItem: React.FC<React.HTMLAttributes<HTMLButtonElement>> = (props) => {\n  return (\n    <Item {...props}>\n      <ItemContentWrapper tabIndex={-1}>\n        <ItemContent />\n      </ItemContentWrapper>\n    </Item>\n  );\n};\n\nPaginationSimple.displayName = 'PaginationSimple';\n","import styled, { DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nexport type FontName = keyof typeof typography;\n\nexport interface TProps {\n  /**  Имя шрифта из списка дизайн системы */\n  font: FontName;\n\n  /** Позволяет добавлять  миксин созданный с помощью styled css  */\n  cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}\n\nexport const T = styled.span<TProps>`\n  ${(p) => typography[p.font]};\n  ${(p) => (p.cssMixin ? p.cssMixin : '')}\n`;\n\nT.displayName = 'T';\n","import * as React from 'react';\nimport type { FC, ButtonHTMLAttributes } from 'react';\nimport styled from 'styled-components';\nimport { Spinner } from '#ui-kit3/components/Spinner';\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\n\nexport interface IconButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Размер кнопки */\n  dimension?: Dimension;\n  /** Отключение кнопки */\n  disabled?: boolean;\n  /** Состояние loading */\n  loading?: boolean;\n  /** Состояние skeleton */\n  skeleton?: boolean;\n}\n\nconst StyledButton = styled.button.attrs<IconButtonProps, { 'data-dimension'?: Dimension }>((props) => ({\n  'data-dimension': props.dimension,\n}))<IconButtonProps>`\n  box-sizing: border-box;\n  display: inline-block;\n  border: none;\n  border-radius: 4px;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  appearance: none;\n  vertical-align: center;\n\n  &[data-dimension='xl'] {\n    padding: 0;\n    height: 56px;\n    width: 56px;\n  }\n\n  &[data-dimension='l'] {\n    height: 48px;\n    width: 48px;\n  }\n\n  &[data-dimension='m'] {\n    height: 40px;\n    width: 40px;\n  }\n\n  &[data-dimension='s'] {\n    height: 32px;\n    width: 32px;\n  }\n\n  &:hover {\n    cursor: pointer;\n    background: ${({ theme }) => theme.color.background.secondary};\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n  &:active {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    background-color: transparent;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n\nconst IconButtonContent = styled.span<{ dimension?: Dimension }>`\n  vertical-align: top;\n  display: inline-flex;\n  flex-direction: row;\n  overflow: hidden;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  height: ${({ dimension }) => (dimension === 's' ? 16 : 20)}px;\n\n  > * {\n    display: inline-block;\n    flex: 0 1 auto;\n    white-space: nowrap;\n  }\n\n  > *:not(:first-child) {\n    margin-left: 8px;\n  }\n\n  & *[fill^='#'] {\n    fill: ${(p) => p.theme.color.text.secondary};\n  }\n\n  & > svg {\n    width: ${({ dimension }) => (dimension === 's' ? 16 : 20)}px;\n    height: ${({ dimension }) => (dimension === 's' ? 16 : 20)}px;\n  }\n`;\n\nconst PseudoIcon = styled.div<{ dimension?: Dimension }>`\n  border-radius: 50%;\n  width: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  height: ${({ dimension }) => (dimension === 's' ? 20 : 24)}px;\n  background: ${({ theme }) => theme.color.background.tertiary};\n`;\n\nexport const IconButton: FC<IconButtonProps> = ({\n  dimension = 'xl',\n  type = 'button',\n  loading = false,\n  skeleton = false,\n  disabled = false,\n  children,\n  ...props\n}) => {\n  const contentSize = dimension === 's' ? '20px' : '24px';\n  const disabledOptions = loading || skeleton || disabled;\n  const renderContent = () => {\n    if (loading) {\n      return (\n        <IconButtonContent style={{ height: contentSize }}>\n          <Spinner style={{ height: contentSize, width: contentSize }} />\n        </IconButtonContent>\n      );\n    }\n    if (skeleton) {\n      return (\n        <IconButtonContent style={{ height: contentSize }}>\n          <PseudoIcon dimension={dimension} />\n        </IconButtonContent>\n      );\n    }\n    return <IconButtonContent dimension={dimension}>{children}</IconButtonContent>;\n  };\n\n  return (\n    <StyledButton dimension={dimension} disabled={disabledOptions} type={type} {...props}>\n      {renderContent()}\n    </StyledButton>\n  );\n};\n\nIconButton.displayName = 'IconButton';\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { ReactComponent as ChevronLeftOutline } from '@openvtb/admiral-icons/build/system/ChevronLeftOutline.svg';\nimport { ReactComponent as ChevronRightOutline } from '@openvtb/admiral-icons/build/system/ChevronRightOutline.svg';\n\nconst selectedMixin = css`\n  background: ${({ theme }) => theme.color.basic.primary};\n  color: ${({ theme }) => theme.color.text.staticWhite};\n`;\n\nconst hoverMixin = css`\n  background: ${({ theme }) => theme.color.background.tertiary};\n  color: ${({ theme }) => theme.color.basic.hover};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n`;\n\nconst pressMixin = css`\n  background: ${({ theme }) => theme.color.background.tertiary};\n  color: ${({ theme }) => theme.color.basic.press};\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.press};\n  }\n`;\n\nconst ButtonContent = styled.span`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n`;\n\nconst Button = styled.button<{ selected: boolean }>`\n  display: flex;\n  flex: 1 1 auto;\n  position: relative;\n  width: 40px;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid transparent;\n  border-radius: 20px;\n  ${typography['Body/Body 1 Short']}\n  background: transparent;\n  border: none;\n  appearance: none;\n  outline: none;\n  padding: 0;\n  margin: 0;\n  user-select: none;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n\n  &:disabled {\n    cursor: default;\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n    ${({ selected, theme }) => !selected && `color: ${theme.color.text.tertiary};`}\n  }\n\n  ${({ selected }) => selected && selectedMixin}\n  &:hover:not(:disabled) {\n    ${({ selected }) => !selected && hoverMixin}\n  }\n  &:active:not(:disabled) {\n    ${({ selected }) => !selected && pressMixin}\n  }\n\n  &:focus:not(:active) {\n    border: 2px solid ${({ theme }) => theme.color.basic.hover};\n  }\n`;\n\nconst PreviousButton = styled(Button)`\n  margin-right: 8px;\n`;\n\nconst NextButton = styled(Button)`\n  margin-left: 8px;\n`;\n\ntype PageProps = {\n  onClick: (event: any) => void;\n  page: number | null;\n  selected: boolean;\n  disabled: boolean;\n  type: string;\n};\n\nexport const PaginationItem: React.FC<PageProps> = ({ onClick, page, selected, disabled, type }) => {\n  let label = '';\n  if (type === 'page') label = `Страница ${page}, выбрать`;\n  if (type === 'next') label = 'Следующая страница, выбрать';\n  if (type === 'previous') label = 'Предыдущая страница, выбрать';\n  const component = type === 'page' ? Button : type === 'previous' ? PreviousButton : NextButton;\n\n  return (\n    <Button\n      type=\"button\"\n      as={component}\n      aria-current={selected}\n      aria-label={label}\n      tabIndex={disabled ? -1 : 0}\n      disabled={disabled}\n      selected={selected}\n      onClick={onClick}\n    >\n      <ButtonContent tabIndex={-1}>\n        {type === 'page' && page}\n        {type === 'next' && <ChevronRightOutline width={24} height={24} />}\n        {type === 'previous' && <ChevronLeftOutline width={24} height={24} />}\n      </ButtonContent>\n    </Button>\n  );\n};\n\nconst EllipsisWrapper = styled.div`\n  display: flex;\n  width: 40px;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  ${typography['Body/Body 1 Short']}\n  background: transparent;\n`;\n\nexport const Ellipsis = () => {\n  return <EllipsisWrapper>...</EllipsisWrapper>;\n};\n","export const range = (start: number, end: number) => {\n  const length = end - start + 1;\n  return Array.from({ length }, (_, i) => start + i);\n};\n\nexport const getListOfPages = (page: number, count: number, hidePrevButton: boolean, hideNextButton: boolean) => {\n  // в начале и в конце должно отображаться по 1 (boundaryCount) странице\n  const boundaryCount = 1;\n  // по бокам от текущей страницы должно отображаться по 1 (siblingCount) странице\n  const siblingCount = 1;\n\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(Math.max(count - boundaryCount + 1, boundaryCount + 1), count);\n\n  const siblingsStart = Math.max(\n    Math.min(page - siblingCount, count - boundaryCount - siblingCount * 2 - 1),\n    boundaryCount + 2,\n  );\n\n  const siblingsEnd = Math.min(\n    Math.max(page + siblingCount, boundaryCount + siblingCount * 2 + 2),\n    endPages.length > 0 ? endPages[0] - 2 : count - 1,\n  );\n\n  return [\n    ...(hidePrevButton ? [] : ['previous']),\n    ...startPages,\n\n    ...(siblingsStart > boundaryCount + 2\n      ? ['ellipsis']\n      : boundaryCount + 1 < count - boundaryCount\n      ? [boundaryCount + 1]\n      : []),\n\n    ...range(siblingsStart, siblingsEnd),\n\n    ...(siblingsEnd < count - boundaryCount - 1\n      ? ['ellipsis']\n      : count - boundaryCount > boundaryCount\n      ? [count - boundaryCount]\n      : []),\n\n    ...endPages,\n    ...(hideNextButton ? [] : ['next']),\n  ];\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { TextInput } from '#ui-kit3/components/input/TextInput';\nimport { Button as SecondaryButton } from '#ui-kit3/components/Button';\n\nimport { Ellipsis, PaginationItem } from './Items';\nimport { getListOfPages, range } from './utils';\n\nconst Wrapper = styled.div<{ mobile?: boolean }>`\n  position: relative;\n  display: flex;\n  flex-direction: ${({ mobile }) => (mobile ? 'column' : 'row')};\n  flex: 1 1 auto;\n  list-style: none;\n\n  ${({ mobile }) =>\n    mobile &&\n    `\n  & > ul {\n    margin: 0 4px 0 4px;\n  }\n  `}\n`;\nconst PagesWrapper = styled.ul`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n\nconst Input = styled(TextInput)`\n  margin-left: 8px;\n  & > input {\n    max-width: 130px;\n  }\n`;\n\nconst Button = styled(SecondaryButton)`\n  margin-bottom: 20px;\n`;\n\nexport interface PaginationTwoProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Текущая страница */\n  page: number;\n  /** Колбек на изменение текущей страницы */\n  onChange: (event: any, page: number) => void;\n  /** Количество страниц*/\n  count?: number;\n  /** Массив с номерами задизейбленных страниц */\n  disabledPages?: Array<number>;\n  /** Включение мобильной версии компонента */\n  mobile?: boolean;\n  /** Отображение кнопки \"Дальше\" в мобильной версии */\n  showNextBtnMobile?: boolean;\n  /** Отображение инпута, если страниц больше 21й  */\n  showInput?: boolean;\n}\n\nexport const PaginationTwo: React.FC<PaginationTwoProps> = ({\n  page,\n  count = 1,\n  mobile = false,\n  disabledPages = [],\n  showNextBtnMobile = true,\n  showInput = true,\n  onChange,\n  ...props\n}) => {\n  const hideNextButton = mobile || false;\n  const hidePrevButton = mobile || false;\n  const isInputVisible = showInput && count > 21 && !mobile;\n\n  const [inputValue, setInputValue] = React.useState('');\n  const itemList = getListOfPages(page, count, hidePrevButton, hideNextButton);\n\n  // возвращаем предыдущую страницу из числа не задизейбленных;\n  const getPreviousPage = () =>\n    range(1, page - 1)\n      .filter((item) => disabledPages.indexOf(item) === -1)\n      .reverse()[0] || 1;\n  // возвращаем следующую страницу из числа не задизейбленных;\n  const getNextPage = () => range(page + 1, count).filter((item) => disabledPages.indexOf(item) === -1)[0] || count;\n\n  // дизейблим кнопку Next, если текущая страница последняя или впереди неё все страницы задизейблены\n  const disableNextBtn = page >= count || range(page + 1, count).every((item) => disabledPages.indexOf(item) > -1);\n  // дизейблим кнопку Previous, если текущая страница первая или позади неё все страницы задизейблены\n  const disablePreviousBtn = page <= 1 || range(1, page - 1).every((item) => disabledPages.indexOf(item) > -1);\n\n  const buttonPage = (type: string) => {\n    switch (type) {\n      case 'previous':\n        return getPreviousPage();\n      case 'next':\n        return getNextPage();\n      default:\n        return null;\n    }\n  };\n\n  const handlePageClick = (event: any, value: any) => {\n    if (value !== page) {\n      onChange?.(event, value);\n    }\n    // reset active state\n    event.currentTarget.blur();\n  };\n\n  const items = itemList.map((item) => {\n    return typeof item === 'number'\n      ? {\n          onClick: (event: any) => {\n            handlePageClick(event, item);\n          },\n          type: 'page',\n          page: item,\n          selected: item === page,\n          disabled: disabledPages.indexOf(item) > -1,\n        }\n      : {\n          onClick: (event: any) => {\n            handlePageClick(event, buttonPage(item));\n          },\n          type: item,\n          page: buttonPage(item),\n          selected: false,\n          disabled: item.indexOf('ellipsis') === -1 && (item === 'next' ? disableNextBtn : disablePreviousBtn),\n        };\n  });\n\n  const onInputSubmit = (event: any, value: string) => {\n    const parsed = parseInt(value, 10);\n    if (isNaN(parsed)) {\n      setInputValue('');\n    } else if (disabledPages.indexOf(parsed) > -1) {\n      setInputValue('');\n    } else {\n      if (parsed !== page) {\n        const newValue = parsed > count ? count : parsed < 1 ? 1 : parsed;\n        setInputValue(newValue.toString());\n        onChange?.(event, newValue);\n      }\n    }\n  };\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => setInputValue(event.currentTarget.value);\n  const handleInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      onInputSubmit(event, event.currentTarget.value);\n      event.preventDefault();\n    }\n  };\n  const handleInputBlur = (event: React.FocusEvent<HTMLInputElement>) =>\n    onInputSubmit(event, event.currentTarget.value);\n\n  const handleBtnClick = (event: React.MouseEvent<HTMLButtonElement>) => onChange?.(event, getNextPage());\n\n  return (\n    <Wrapper mobile={mobile} {...props}>\n      {mobile && showNextBtnMobile && (\n        <Button dimension=\"m\" appearance=\"secondary\" disabled={disableNextBtn} onClick={handleBtnClick}>\n          Дальше\n        </Button>\n      )}\n      <PagesWrapper>\n        {items.map(({ type, selected, disabled, page, onClick }) => {\n          const id = uid();\n          return type === 'ellipsis' ? (\n            <li key={id}>\n              <Ellipsis />\n            </li>\n          ) : (\n            <li key={id}>\n              <PaginationItem type={type} selected={selected} disabled={disabled} page={page} onClick={onClick} />\n            </li>\n          );\n        })}\n      </PagesWrapper>\n      {isInputVisible && (\n        <Input\n          pattern=\"[0-9]+\"\n          placeholder=\"№ страницы\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onKeyDown={handleInputKeyDown}\n          onBlur={handleInputBlur}\n        />\n      )}\n    </Wrapper>\n  );\n};\n\nPaginationTwo.displayName = 'PaginationTwo';\n","import * as React from 'react';\n\nexport const useLoaded = (src: any) => {\n  const [loaded, setLoaded] = React.useState<'loaded' | 'error' | boolean>(false);\n\n  React.useEffect(() => {\n    if (!src) return;\n    setLoaded(false);\n\n    let effectActive = true;\n    const image = new Image();\n    image.src = src;\n\n    image.onload = () => {\n      if (!effectActive) {\n        return;\n      }\n      setLoaded('loaded');\n    };\n    image.onerror = () => {\n      if (!effectActive) {\n        return;\n      }\n      setLoaded('error');\n    };\n    return () => {\n      effectActive = false;\n    };\n  }, [src]);\n\n  return loaded;\n};\n","import * as React from 'react';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { LIGHT_THEME } from '#ui-kit3/components/themes';\nimport { ThemeContext } from 'styled-components';\nimport type { AvatarProps } from '#ui-kit3/components/Avatar';\n\ntype AvatarSVGProps = {\n  dimension: AvatarProps['dimension'];\n  size: string;\n  hasImage?: boolean;\n  href?: string;\n  status?: AvatarProps['status'];\n  appearance?: AvatarProps['appearance'];\n  group?: boolean;\n  svgMaskId?: string;\n};\n\nconst VIEWBOX = {\n  xs: '0 0 24 24',\n  s: '0 0 32 32',\n  m: '0 0 40 40',\n  l: '0 0 48 48',\n  xl: '0 0 56 56',\n};\n\nconst CIRCLE = {\n  xs: '12',\n  s: '16',\n  m: '20',\n  l: '24',\n  xl: '28',\n};\n\nconst ELLIPSE = {\n  xs: { c: '21', r: '3', r2: '5' },\n  s: { c: '27', r: '5', r2: '7' },\n  m: { c: '34', r: '6', r2: '8' },\n  l: { c: '41', r: '7', r2: '9' },\n  xl: { c: '47', r: '9', r2: '11' },\n};\n\nexport const AvatarSVG: React.FC<AvatarSVGProps> = ({\n  dimension = 'xl',\n  hasImage,\n  href,\n  status,\n  size,\n  appearance: appearanceProp,\n  group = false,\n  svgMaskId,\n}) => {\n  const theme = React.useContext(ThemeContext) || LIGHT_THEME;\n  const id = svgMaskId || uid();\n  const useId = `url(#${id})`;\n\n  const getBackgroundColor = (appearance: 'light' | 'white' | 'grey' | 'dark') => {\n    switch (appearance) {\n      case 'white':\n        return theme.color.background.primary;\n      case 'grey':\n        return theme.color.basic.tertiary;\n      case 'dark':\n        return theme.color.background.inversion;\n      case 'light':\n      default:\n        return theme.color.background.tertiary;\n    }\n  };\n  const getStatusColor = (status: AvatarProps['status']) => {\n    switch (status) {\n      case 'success':\n        return theme.color.status.success;\n      case 'warn':\n        return theme.color.status.warn;\n      case 'danger':\n        return theme.color.status.danger;\n      case 'inactive':\n      default:\n        return theme.color.background.shadow;\n    }\n  };\n  const appearance = appearanceProp || 'light';\n  const backgroundColor = typeof appearance === 'string' ? getBackgroundColor(appearance) : appearance.background;\n\n  return (\n    <svg\n      viewBox={VIEWBOX[dimension]}\n      width={size}\n      height={size}\n      style={{ transform: 'rotate(.00001deg)' }} /* hack to force anti-aliasing in IE */\n    >\n      <defs>\n        <mask id={id}>\n          <circle\n            id=\"outer\"\n            cx={CIRCLE[dimension]}\n            cy={CIRCLE[dimension]}\n            r={CIRCLE[dimension]}\n            strokeWidth=\"0\"\n            stroke=\"white\"\n            fill=\"white\"\n          />\n          {status && !group && (\n            <ellipse\n              id=\"inner\"\n              vectorEffect=\"non-scaling-stroke\"\n              cx={ELLIPSE[dimension].c}\n              cy={ELLIPSE[dimension].c}\n              rx={ELLIPSE[dimension].r2}\n              ry={ELLIPSE[dimension].r2}\n              fill=\"black\"\n            />\n          )}\n          {group && (\n            <circle\n              cx={String(Number(CIRCLE[dimension]) * 3 - 2)}\n              cy={CIRCLE[dimension]}\n              r={String(Number(CIRCLE[dimension]) + 2)}\n              strokeWidth=\"0\"\n              stroke=\"black\"\n              fill=\"black\"\n            />\n          )}\n        </mask>\n      </defs>\n      {hasImage && (\n        <image width=\"100%\" height=\"100%\" preserveAspectRatio=\"xMidYMid slice\" mask={useId} xlinkHref={href} />\n      )}\n      {!hasImage && (\n        <circle\n          id=\"outer\"\n          cx={CIRCLE[dimension]}\n          cy={CIRCLE[dimension]}\n          r={CIRCLE[dimension]}\n          strokeWidth=\"0\"\n          stroke={backgroundColor}\n          fill={backgroundColor}\n          mask={useId}\n        />\n      )}\n      {status && !group && (\n        <ellipse\n          style={{ fill: getStatusColor(status), strokeWidth: 0, strokeOpacity: 0 }}\n          vectorEffect=\"non-scaling-stroke\"\n          cx={ELLIPSE[dimension].c}\n          cy={ELLIPSE[dimension].c}\n          rx={ELLIPSE[dimension].r}\n          ry={ELLIPSE[dimension].r}\n        />\n      )}\n    </svg>\n  );\n};\n","import * as React from 'react';\nimport styled, { ThemeContext, css } from 'styled-components';\nimport { LIGHT_THEME, DARK_THEME } from '#ui-kit3/components/themes';\nimport { Tooltip } from '#ui-kit3/components/Tooltip';\nimport { typography } from '#ui-kit3/components/Typography';\n\nimport { useLoaded } from './useLoaded';\nimport { AvatarSVG } from './Avatar_SVG';\n\nconst InverseTooltip = (props: any) => {\n  const themeContext = React.useContext(ThemeContext);\n  return <Tooltip {...props} theme={themeContext.name == 'dark' ? LIGHT_THEME : DARK_THEME} />;\n};\n\nconst Wrapper = styled.button<{ size: string }>`\n  position: relative;\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  margin: 0;\n  padding: 0;\n  border: none;\n  appearance: none;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  & .avatar-tooltip {\n    display: flex;\n  }\n`;\n\nconst getTextColor = css<{ appearance: Appearance | { background: string; text: string } }>`\n  ${({ theme, appearance }) => {\n    switch (appearance) {\n      case 'light':\n      case 'white':\n        return theme.color.text.primary;\n      case 'grey':\n      case 'dark':\n        return theme.color.text.inversion;\n      default:\n        return appearance.text;\n    }\n  }}\n`;\n\nconst getTypography = css<{ dimension: Dimension }>`\n  ${({ dimension }) => {\n    switch (dimension) {\n      case 'xs':\n      case 's':\n        return typography['Caption/Caption 1'];\n      case 'm':\n      case 'l':\n        return typography['Body/Body 1 Short'];\n      case 'xl':\n      default:\n        return typography['Subtitle/Subtitle 1'];\n    }\n  }}\n`;\n\nconst Text = styled.span<{ appearance: Appearance | { background: string; text: string }; dimension: Dimension }>`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  user-select: none;\n  ${getTypography}\n  color: ${getTextColor};\n`;\n\nconst getIconSize = css<{ dimension: Dimension }>`\n  ${({ dimension }) => {\n    switch (dimension) {\n      case 'xs':\n        return '16px';\n      case 's':\n        return '20px';\n      case 'm':\n        return '24px';\n      case 'l':\n        return '28px';\n      case 'xl':\n      default:\n        return '32px';\n    }\n  }}\n`;\n\nconst IconWrapper = styled.div<{ dimension: Dimension }>`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: ${getIconSize};\n  height: ${getIconSize};\n\n  & svg {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.tertiary};\n    }\n    width: 100%;\n    height: 100%;\n  }\n`;\n\ntype Dimension = 'xs' | 's' | 'm' | 'l' | 'xl';\ntype Appearance = 'light' | 'white' | 'grey' | 'dark';\ntype Status = 'success' | 'danger' | 'warn' | 'inactive';\n\nexport interface AvatarProps extends React.HTMLAttributes<HTMLButtonElement> {\n  /** Имя пользователя, будет использовано внутри тултипа и для генерации аббревиатуры */\n  userName: string;\n  /** URL аватарки пользователя */\n  href?: string;\n  /** Статус пользователя */\n  status?: Status;\n  /** Иконка для отображения */\n  icon?: React.ReactNode;\n  /** Внешний вид компонента (цвет заливки и текста) - можно выбрать один из четырех исходных вариантов, либо задать свою комбинацию цветов */\n  appearance?: Appearance | { background: string; text: string };\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Уникальный идентификатор svg маски */\n  svgMaskId?: string;\n}\n\nexport interface AvatarInternalProps {\n  /** Для внутреннего использования! Отображение аватара в составе группы (когда правый край аватара усечен) */\n  group?: boolean;\n  /** Для внутреннего использования! Отображение тултипа. Тултип убирается, если аватар идет в сочетании с выпадающим меню */\n  showTooltip?: boolean;\n  /** Для внутреннего использования! Используется ли аватар в качестве меню. Если да - то userName выводится без изменений */\n  isMenuAvatar?: boolean;\n}\n\nexport const Avatar = ({\n  userName,\n  href,\n  status,\n  dimension = 'xl',\n  icon: Icon,\n  appearance = 'light',\n  group = false,\n  showTooltip = true,\n  isMenuAvatar = false,\n  svgMaskId,\n  ...props\n}: AvatarProps & AvatarInternalProps) => {\n  const loaded = useLoaded(href);\n  const hasImage = Boolean(href && loaded === 'loaded');\n  const hasIcon = Boolean(Icon && !hasImage);\n  const hasAbbr = (!hasImage && !hasIcon) || isMenuAvatar;\n\n  const maxAbbrLength = dimension === 'xs' ? 1 : 2;\n  const abbr = isMenuAvatar\n    ? userName\n    : userName\n        ?.split(' ')\n        .map((word) => word.toUpperCase()[0])\n        .join('')\n        .slice(0, maxAbbrLength);\n\n  const getSize = () => {\n    switch (dimension) {\n      case 'xs':\n        return '24px';\n      case 's':\n        return '32px';\n      case 'm':\n        return '40px';\n      case 'l':\n        return '48px';\n      case 'xl':\n      default:\n        return '56px';\n    }\n  };\n  const renderContent = () => (\n    <>\n      <AvatarSVG\n        dimension={dimension}\n        size={getSize()}\n        hasImage={hasImage}\n        href={href}\n        status={status}\n        appearance={appearance}\n        group={group}\n        svgMaskId={svgMaskId}\n      />\n      {hasAbbr && (\n        <Text dimension={dimension} appearance={appearance}>\n          {abbr}\n        </Text>\n      )}\n      {hasIcon && <IconWrapper dimension={dimension}>{Icon}</IconWrapper>}\n    </>\n  );\n  return (\n    <Wrapper size={getSize()} {...props}>\n      {showTooltip ? (\n        <InverseTooltip anchorClassName=\"avatar-tooltip\" renderContent={() => userName}>\n          {renderContent()}\n        </InverseTooltip>\n      ) : (\n        renderContent()\n      )}\n    </Wrapper>\n  );\n};\n\nAvatar.displayName = 'Avatar';\n","import * as React from 'react';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\nimport styled from 'styled-components';\nimport { Avatar } from '#ui-kit3/components/Avatar';\nimport type { AvatarProps } from '#ui-kit3/components/Avatar';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\n\nconst StyledDropDown = styled(Dropdown)<{ alignDropdown?: string; dropMaxHeight: string | number }>`\n  padding: 8px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  ${(p) => (p.alignDropdown ? `align-self: ${p.alignDropdown}` : '')};\n  max-height: ${(p) => p.dropMaxHeight};\n  min-width: 100%;\n`;\n\nconst SelectWrapper = styled.div`\n  box-sizing: border-box;\n  position: relative;\n  display: flex;\n  cursor: pointer;\n`;\n\nconst MenuAvatar = styled(Avatar)`\n  cursor: pointer;\n`;\n\nexport interface SelectProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Референс на контейнер для правильного позиционирования выпадающего списка */\n  portalTargetRef?: React.RefObject<HTMLElement>;\n  /**\n   * Позволяет выравнивать позицию дропдаун контейнера относительно селекта.\n   * Принимает стандартные значения css свойства align-self (auto | flex-start | flex-end | center | baseline | stretch)\n   */\n  alignDropdown?: 'auto' | 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\n  /** Задает максимальную высоту контейнера с опциями */\n  dropMaxHeight?: string | number;\n  /** Внешний вид аватара, который будет использован в меню */\n  appearance: AvatarProps['appearance'];\n  /** Размер аватара, который будет использован в меню */\n  dimension: AvatarProps['dimension'];\n  onAvatarSelect?: (e: any) => void;\n}\n\nexport const Menu = React.forwardRef<HTMLDivElement, SelectProps>(\n  (\n    {\n      portalTargetRef,\n      children,\n      alignDropdown,\n      dropMaxHeight = '300px',\n      appearance,\n      dimension,\n      onAvatarSelect,\n      ...props\n    },\n    ref,\n  ) => {\n    const [open, setOpen] = React.useState(false);\n    const refWrapper = React.useRef<HTMLInputElement>(null);\n    const [hovered, setHovered] = React.useState<string | undefined>('');\n    const childrenArray = React.Children.toArray(children);\n    const findOptionValue = (option: (React.ReactChild | React.ReactFragment | React.ReactPortal)[]) => {\n      if (React.isValidElement(option[0]) && 'props' in option[0]) {\n        return option[0].props.id;\n      }\n    };\n\n    const hoverIndex = React.useMemo(\n      () =>\n        childrenArray?.findIndex((child) => {\n          if (React.isValidElement(child) && 'props' in child) {\n            return child.props.id === hovered;\n          }\n          return -1;\n        }),\n      [childrenArray, hovered],\n    );\n\n    const findNextHoverValue = React.useCallback(() => {\n      const nextAbledOptionValue = findOptionValue(childrenArray.slice(hoverIndex + 1));\n      if (nextAbledOptionValue) return nextAbledOptionValue;\n      return findOptionValue(childrenArray);\n    }, [hoverIndex, childrenArray]);\n\n    const findPrevHoverValue = React.useCallback(() => {\n      const sliceInd = hoverIndex === -1 ? undefined : hoverIndex;\n      const prevAbledOptionValue = findOptionValue(childrenArray.slice(0, sliceInd).reverse());\n      if (prevAbledOptionValue) return prevAbledOptionValue;\n      return findOptionValue(childrenArray.slice().reverse());\n    }, [hoverIndex, childrenArray]);\n\n    const handleKeyDownItem = (e: React.KeyboardEvent<HTMLElement>, onKeyDown: (e: any) => void) => {\n      e.preventDefault();\n      const code = keyboardKey.getCode(e);\n      switch (code) {\n        case keyboardKey.ArrowUp: {\n          onKeyDown?.(e);\n          const prevValue = findPrevHoverValue();\n          if (!prevValue) break;\n          setHovered(prevValue);\n          break;\n        }\n        case keyboardKey.ArrowDown: {\n          onKeyDown?.(e);\n          const nextValue = findNextHoverValue();\n          if (!nextValue) break;\n          setHovered(nextValue);\n          break;\n        }\n        case keyboardKey[' ']:\n        case keyboardKey.Enter: {\n          onKeyDown?.(e);\n          onAvatarSelect?.(e);\n          setOpen(false);\n          (refWrapper.current as HTMLElement).focus();\n          break;\n        }\n        case keyboardKey.Escape:\n        case keyboardKey.Tab: {\n          setOpen(false);\n          (refWrapper.current as HTMLElement).focus();\n          break;\n        }\n      }\n    };\n\n    const handleClickItem = (e: React.MouseEvent<HTMLElement>, onClick: (e: any) => void) => {\n      refWrapper.current?.focus();\n      onClick?.(e);\n      onAvatarSelect?.(e);\n    };\n\n    const renderChildrenDropDown = () => {\n      return React.Children.map(children, (child: React.ReactNode) => {\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        return React.cloneElement(child, {\n          ...child.props,\n          hovered: hovered === child.props.id,\n          onClick: (e: React.MouseEvent<HTMLElement>) => handleClickItem(e, child.props.onClick),\n          onKeyDown: (e: React.KeyboardEvent<HTMLElement>) => handleKeyDownItem(e, child.props.onKeyDown),\n        });\n      });\n    };\n\n    const clickOutside = (e: Event) => {\n      if (e.target && refWrapper.current?.contains(e.target as Node)) {\n        return;\n      }\n      setOpen(false);\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n      if (e.key === ' ' && !open) {\n        setOpen(true);\n        e.preventDefault();\n      }\n    };\n\n    const onClick = (e: React.MouseEvent<HTMLDivElement>) => {\n      setOpen((open) => !open);\n    };\n\n    return (\n      <SelectWrapper\n        ref={refSetter(ref, refWrapper)}\n        role=\"button\"\n        {...props}\n        tabIndex={0}\n        onKeyDown={handleKeyDown}\n        onClick={onClick}\n      >\n        {React.Children.count(children) ? (\n          <MenuAvatar\n            userName={'+' + React.Children.count(children)}\n            isMenuAvatar\n            appearance={appearance}\n            dimension={dimension}\n            showTooltip={false}\n          />\n        ) : null}\n        {open && (\n          <StyledDropDown\n            targetRef={portalTargetRef || refWrapper}\n            data-dimension=\"m\"\n            onClickOutside={clickOutside}\n            alignDropdown={alignDropdown}\n            dropMaxHeight={dropMaxHeight}\n          >\n            {renderChildrenDropDown()}\n          </StyledDropDown>\n        )}\n      </SelectWrapper>\n    );\n  },\n);\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport observeRect from '#ui-kit3/components/common/observeRect';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport { DropDownItem } from '#ui-kit3/components/DropDownItem';\nimport { Avatar } from '#ui-kit3/components/Avatar';\nimport type { AvatarProps } from '#ui-kit3/components/Avatar';\n\nimport { Menu } from './Menu';\n\nexport interface AvatarGroupProps extends React.HTMLAttributes<HTMLDivElement> {\n  items: Array<AvatarProps>;\n  /** Размер компонента */\n  dimension?: AvatarProps['dimension'];\n  /** Внешний вид компонента (цвет заливки и текста) - можно выбрать один из четырех исходных вариантов, либо задать свою комбинацию цветов */\n  appearance?: AvatarProps['appearance'];\n  /** Колбек на выбор аватара (по клику или нажатию клавишы). Возвращает событие, из которого, н-р, можно извлечь id выбранного аватара */\n  onAvatarSelect?: (e: any) => void;\n}\n\nconst AvatarsWrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  width: 100%;\n  white-space: nowrap;\n  & > * {\n    margin-left: -2px;\n  }\n  & > *:first-child {\n    margin-left: 0;\n  }\n`;\n\nconst MenuItem = styled(DropDownItem)`\n  flex-flow: nowrap;\n  justify-content: flex-start;\n  & > button:first-child {\n    margin-right: 8px;\n  }\n`;\n\nexport const AvatarGroup: React.FC<AvatarGroupProps> = ({\n  items,\n  dimension = 'xl',\n  appearance = 'light',\n  onAvatarSelect,\n  ...props\n}) => {\n  const wrapperRef = React.useRef<HTMLDivElement>(null);\n  const [visibleItems, setVisibleItems] = React.useState(items.length);\n  const [hiddenItems, setHiddenItems] = React.useState(0);\n\n  const WIDTH = {\n    xs: 24,\n    s: 32,\n    m: 40,\n    l: 48,\n    xl: 56,\n  };\n\n  React.useLayoutEffect(() => {\n    if (wrapperRef.current) {\n      const observer = observeRect(wrapperRef.current, (rect) => {\n        const wrapperWidth = rect?.width || 0;\n        let validContent = 2,\n          visibleItems = 0,\n          hiddenItems = 0;\n\n        while (validContent + WIDTH[dimension] < wrapperWidth) {\n          validContent = validContent + WIDTH[dimension];\n          visibleItems++;\n        }\n        visibleItems = visibleItems > items.length ? items.length : visibleItems;\n        // оставляем место на меню, вычитая 1\n        visibleItems = visibleItems === items.length ? visibleItems : visibleItems - 1;\n        hiddenItems = items.length - visibleItems;\n\n        setVisibleItems(visibleItems);\n        setHiddenItems(hiddenItems);\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [wrapperRef.current]);\n\n  const visible = items.slice(0, visibleItems);\n  const hidden = items.slice(visibleItems, visibleItems + hiddenItems);\n\n  return (\n    <AvatarsWrapper ref={wrapperRef} {...props}>\n      {items.length === 1 && <Avatar {...items[0]} dimension={dimension} />}\n      {items.length > 1 &&\n        visible.map((item, index) => {\n          const id = item.id || uid();\n          const last = index === items.length - 1;\n          const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n            item.onClick && item.onClick(e);\n            onAvatarSelect?.(e);\n          };\n          const handleKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n            item.onKeyDown && item.onKeyDown(e);\n            onAvatarSelect?.(e);\n          };\n          return (\n            <Avatar\n              {...item}\n              key={id}\n              id={id}\n              onClick={handleClick}\n              onKeyDown={handleKeyDown}\n              dimension={dimension}\n              appearance={appearance}\n              group={!last}\n              status={undefined}\n            />\n          );\n        })}\n      {hiddenItems > 0 ? (\n        <Menu alignDropdown=\"flex-start\" appearance={appearance} dimension={dimension} onAvatarSelect={onAvatarSelect}>\n          {hidden.map(({ id: idProp, onClick, onKeyDown, ...item }) => {\n            const id = idProp || uid();\n            return (\n              <MenuItem\n                role=\"option\"\n                key={id}\n                id={id}\n                value={item.userName}\n                dimension=\"m\"\n                onClick={onClick as any}\n                onKeyDown={onKeyDown as any}\n              >\n                <Avatar {...item} dimension=\"xs\" appearance={appearance} showTooltip={false} status={undefined} />\n                {item.userName}\n              </MenuItem>\n            );\n          })}\n        </Menu>\n      ) : null}\n    </AvatarsWrapper>\n  );\n};\n\nAvatarGroup.displayName = 'AvatarGroup';\n","import styled from 'styled-components';\nimport { ReactComponent as ChevronRight } from '@openvtb/admiral-icons/build/system/ChevronRightOutline.svg';\n\nexport const Separator = styled(ChevronRight)`\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n  flex-shrink: 0;\n  margin-left: 8px;\n`;\n\nexport const Wrapper = styled.ol<{ mobile?: boolean }>`\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-wrap: nowrap;\n  width: 100%;\n  max-width: 800px;\n  list-style: none;\n  padding: 0;\n  & > li {\n    margin-left: 4px;\n  }\n  & > li:first-child {\n    margin-left: 0;\n  }\n\n  overflow-x: ${({ mobile }) => (mobile ? 'scroll' : 'visible')};\n  &::-webkit-scrollbar {\n    width: 0 !important;\n    height: 0 !important;\n  }\n\n  overflow: -moz-scrollbars-none;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  scrollbar-height: none;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  align-items: center;\n`;\n","import * as React from 'react';\nimport { Tooltip } from '#ui-kit3/components/Tooltip';\nimport { DARK_THEME, LIGHT_THEME } from '#ui-kit3/components/themes';\nimport { ThemeContext } from 'styled-components';\n\nexport const InverseTooltip = (props: any) => {\n  const themeContext = React.useContext(ThemeContext);\n  return <Tooltip {...props} theme={themeContext.name == 'dark' ? LIGHT_THEME : DARK_THEME} />;\n};\n","import * as React from 'react';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\nimport { InverseTooltip } from './InverseTooltip';\n\nexport const Crumb = styled.li`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  ${typography['Body/Body 1 Short']}\n\n  [data-dimension='m'] & {\n    ${typography['Body/Body 2 Short']}\n  }\n  [data-dimension='s'] & {\n    ${typography['Caption/Caption 1']}\n  }\n`;\n\nexport const Content = styled.span`\n  width: 100%;\n  height: 100%;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const CrumbAnchor = styled.a`\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  position: relative;\n  color: ${({ theme }) => theme.color.text.secondary};\n\n  [aria-current='page'] & {\n    pointer-events: none;\n  }\n\n  &:hover {\n    color: ${({ theme }) => theme.color.basic.hover};\n  }\n  &:active {\n    color: ${({ theme }) => theme.color.basic.press};\n  }\n\n  &:focus {\n    &:before {\n      position: absolute;\n      content: '';\n      border: 2px solid ${({ theme }) => theme.color.basic.hover};\n      border-radius: 4px;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n  }\n  &:focus,\n  & > ${Content} {\n    outline: none;\n  }\n`;\n\nexport interface BreadcrumbProps extends React.HTMLAttributes<HTMLLIElement> {\n  /** Текст хлебной крошки */\n  text: string;\n  /** Url хлебной крошки (href атрибут, используемый во внутреннем Anchor) */\n  url?: string;\n  /** Позволяет вместо внутреннего Anchor отрендерить любой другой компонент (https://styled-components.com/docs/api#as-polymorphic-prop) */\n  linkAs?: React.ElementType;\n  /** Дополнительные параметры, которые можно передать во внутренний Anchor */\n  linkProps?: { [key: string]: string };\n}\n\nexport const Breadcrumb = React.forwardRef<HTMLLIElement, BreadcrumbProps>(\n  ({ text, url = '#', linkAs, linkProps, children, ...props }, ref) => {\n    const tooltip = text.length > 40;\n    const crumbRef = React.useRef<HTMLLIElement>(null);\n\n    return tooltip ? (\n      <Crumb ref={refSetter(ref, crumbRef)} {...props}>\n        <CrumbAnchor href={url} as={linkAs} {...linkProps}>\n          <Content tabIndex={-1} role=\"link\">\n            <InverseTooltip renderContent={() => text}>{text.slice(0, 37) + '...'}</InverseTooltip>\n            {children}\n          </Content>\n        </CrumbAnchor>\n      </Crumb>\n    ) : (\n      <Crumb ref={refSetter(ref, crumbRef)} {...props}>\n        <CrumbAnchor href={url} as={linkAs} {...linkProps}>\n          <Content tabIndex={-1} role=\"link\">\n            {text}\n            {children}\n          </Content>\n        </CrumbAnchor>\n      </Crumb>\n    );\n  },\n);\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { LIGHT_THEME } from '#ui-kit3/components/themes';\n\nimport { Separator, Wrapper } from './style';\nimport { Crumb, CrumbAnchor, Content } from './BreadCrumb';\n\nexport const measureCrumb = (\n  text: string,\n  dimension: 'l' | 'm' | 's',\n  last: boolean,\n  callback: (width: number) => void,\n) => {\n  // Creates the hidden div appended to the document body\n  const container = document.createElement('div');\n  container.style.position = 'absolute';\n  container.style.visibility = 'hidden';\n  container.style.left = '-10000px';\n  container.style.top = '-100000px';\n  document.body.appendChild(container);\n  const iconSize = dimension === 'l' ? 20 : 16;\n\n  const element = (\n    <ThemeProvider theme={LIGHT_THEME}>\n      <Wrapper data-dimension={dimension}>\n        <Crumb>\n          <CrumbAnchor href=\"#\">\n            <Content tabIndex={-1} role=\"link\">\n              {text}\n              {!last && <Separator width={iconSize} height={iconSize} aria-hidden />}\n            </Content>\n          </CrumbAnchor>\n        </Crumb>\n      </Wrapper>\n    </ThemeProvider>\n  );\n\n  // Renders the React element into the hidden div\n  ReactDOM.render(element, container, () => {\n    const width = container.clientWidth;\n    callback(width);\n    // remove hidden container from dom\n    ReactDOM.unmountComponentAtNode(container);\n    container.parentNode?.removeChild(container);\n  });\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { DropDownItem } from '#ui-kit3/components/DropDownItem';\nimport { OverflowMenu } from '#ui-kit3/components/OverflowMenu';\n\nimport type { BreadcrumbProps } from './BreadCrumb';\nimport { InverseTooltip } from './InverseTooltip';\n\nconst Option = styled.a`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  text-decoration: none;\n\n  &,\n  &:visited,\n  &:hover,\n  &:active,\n  &:focus {\n    color: inherit;\n  }\n`;\n\nconst Menu = styled(OverflowMenu)`\n  margin-left: 4px;\n`;\n\nexport interface MenuButtonProps {\n  /** Массив опций */\n  options: Array<BreadcrumbProps>;\n}\n\nexport const MenuButton: React.FC<MenuButtonProps> = ({ options }) => {\n  return (\n    <Menu dimension=\"s\">\n      {options.map(({ text, url }) => {\n        const tooltip = text.length > 40;\n        const renderText = () =>\n          tooltip ? (\n            <InverseTooltip style={{ marginTop: '8px' }} renderContent={() => text}>\n              {text.slice(0, 37) + '...'}\n            </InverseTooltip>\n          ) : (\n            text\n          );\n        return (\n          <DropDownItem key=\"text\" role=\"option\" value={text} dimension=\"s\">\n            <Option href={url}>{renderText()}</Option>\n          </DropDownItem>\n        );\n      })}\n    </Menu>\n  );\n};\n","import * as React from 'react';\nimport { uid } from '#ui-kit3/components/common/uid';\nimport observeRect from '#ui-kit3/components/common/observeRect';\n\nimport { measureCrumb } from './utils';\nimport { MenuButton } from './Menu';\nimport { Breadcrumb } from './BreadCrumb';\nimport type { BreadcrumbProps } from './BreadCrumb';\nimport { Wrapper, Content, Separator } from './style';\n\ntype Dimension = 'l' | 'm' | 's';\ntype CrumbWithRefProps = BreadcrumbProps & { ref: React.RefObject<HTMLLIElement>; width?: number };\n\nexport interface BreadcrumbsProps extends React.HTMLAttributes<HTMLOListElement> {\n  /** Массив хлебных крошек */\n  items: BreadcrumbProps[];\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Мобильное отображение компонента */\n  mobile?: boolean;\n}\n\nexport const Breadcrumbs: React.FC<BreadcrumbsProps> = ({ items, dimension = 'l', mobile, ...props }) => {\n  // add refs to items\n  const crumbsWithRef: Array<CrumbWithRefProps> = items.map((item) => ({\n    ...item,\n    ref: React.createRef<HTMLLIElement>(),\n  }));\n  const iconSize = dimension === 'l' ? 20 : 16;\n  const wrapperRef = React.useRef<HTMLOListElement>(null);\n  const contentRef = React.useRef<HTMLDivElement>(null);\n  const contentWidthRef = React.useRef(0);\n  const [_, update] = React.useState({});\n  const [crumbs, setCrumbs] = React.useState({ visible: crumbsWithRef.length - 2, hidden: 0 });\n\n  const visibleItems = mobile\n    ? crumbsWithRef.slice(1, crumbsWithRef.length - 1)\n    : crumbsWithRef.slice(1 + crumbs.hidden, -1);\n  const hiddenItems = mobile ? [] : crumbsWithRef.slice(1, -(1 + crumbs.visible));\n\n  React.useEffect(() => {\n    mobile &&\n      crumbsWithRef[crumbsWithRef.length - 1].ref.current?.scrollIntoView({\n        behavior: 'smooth',\n        inline: 'center',\n        block: 'nearest',\n      });\n  }, [items, mobile]);\n\n  // measure crumbs width\n  React.useLayoutEffect(() => {\n    if (!mobile) {\n      crumbsWithRef.forEach((item: CrumbWithRefProps, index: number) => {\n        measureCrumb(item.text, dimension, index === crumbsWithRef.length - 1, (width: number) => {\n          item.width = width;\n        });\n      });\n    }\n  }, [crumbsWithRef, mobile, _]);\n\n  // recalculation on wrapper resize\n  React.useLayoutEffect(() => {\n    if (wrapperRef.current && !mobile) {\n      const observer = observeRect(wrapperRef.current, (rect) => {\n        const wrapperWidth = rect?.width || 0;\n\n        // first and last items\n        let contentWidth = (crumbsWithRef[0].width || 0) + (crumbsWithRef[crumbsWithRef.length - 1].width || 0);\n        let visibleCrumbsCounter = 0;\n\n        const restCrumbs = crumbsWithRef.slice(1, crumbsWithRef.length - 1).reverse();\n        restCrumbs.forEach((item: CrumbWithRefProps) => {\n          contentWidth += item.width || 0;\n          if (contentWidth <= wrapperWidth) {\n            visibleCrumbsCounter++;\n          }\n        });\n        const hiddenCrumbsCounter = crumbsWithRef.length - 2 - visibleCrumbsCounter;\n\n        if (visibleCrumbsCounter !== crumbs.visible || hiddenCrumbsCounter !== crumbs.hidden) {\n          setCrumbs({ visible: visibleCrumbsCounter, hidden: hiddenCrumbsCounter });\n        }\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [wrapperRef.current, mobile, _]);\n\n  /**\n   * При срабатывании observer обязательно проверяем, что изменилось интересующее нас свойство (ширина).\n   * Это важно учитывать, так как observer срабатывает при изменении целого ряда свойств\n   * элемента (bottom, height, left, right, top, width), большая часть из которых для нас не важна.\n   */\n\n  React.useLayoutEffect(() => {\n    if (contentRef.current && !mobile) {\n      const observer = observeRect(contentRef.current, (rect) => {\n        const width = rect?.width || 0;\n        if (contentWidthRef.current !== width) {\n          contentWidthRef.current = width;\n          update({});\n        }\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [contentRef.current, mobile]);\n\n  const renderFirstItem = () => {\n    const item = crumbsWithRef[0];\n    const id = item.id || uid();\n    return (\n      <Breadcrumb key={id} {...item}>\n        <Separator width={iconSize} height={iconSize} aria-hidden />\n      </Breadcrumb>\n    );\n  };\n\n  const renderLastItem = () => {\n    const item = crumbsWithRef[crumbsWithRef.length - 1];\n    const id = item.id || uid();\n    return <Breadcrumb key={id} aria-current=\"page\" {...item} />;\n  };\n\n  const renderVisibleItems = () => {\n    return visibleItems.map((item) => {\n      const id = item.id || uid();\n      return (\n        <Breadcrumb key={id} {...item}>\n          <Separator width={iconSize} height={iconSize} aria-hidden />\n        </Breadcrumb>\n      );\n    });\n  };\n\n  const renderHiddenItems = () => {\n    return hiddenItems.length ? (\n      <>\n        <MenuButton options={hiddenItems} aria-label=\"\" />\n        <Separator width={iconSize} height={iconSize} aria-hidden />\n      </>\n    ) : null;\n  };\n\n  return (\n    <Wrapper ref={wrapperRef} data-dimension={dimension} role=\"list\" mobile={mobile} {...props}>\n      <Content ref={contentRef}>\n        {items.length > 1 ? renderFirstItem() : null}\n        {renderHiddenItems()}\n        {renderVisibleItems()}\n        {renderLastItem()}\n      </Content>\n    </Wrapper>\n  );\n};\n\nBreadcrumbs.displayName = 'Breadcrumbs';\n","import { HTMLAttributes, FC, ReactNode } from 'react';\nimport * as React from 'react';\nimport styled, { css, DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\ntype Dimension = 'm' | 's';\n\nconst Text = styled.span``;\n\nconst Circle = styled.div``;\n\nconst cssDefault = css`\n  > ${Text} {\n    color: ${(p) => p.theme.color.text.primary};\n  }\n  > ${Circle} {\n    svg {\n      path {\n        fill: ${(p) => p.theme.color.text.secondary};\n      }\n    }\n  }\n`;\n\nconst StatusContainer = styled.div<{\n  dimension: Dimension;\n  displayRight?: boolean;\n  cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n}>`\n  display: inline-flex;\n  align-items: center;\n  flex-direction: ${(p) => (p.displayRight ? 'row' : 'row-reverse')};\n  height: ${(p) => (p.dimension === 'm' ? '24px' : '20px')};\n  ${(p) => (p.dimension === 'm' ? typography['Body/Body 1 Long'] : typography['Body/Body 2 Long'])}\n  > ${Circle} {\n    width: ${(p) => (p.dimension === 'm' ? '20px' : '16px')};\n    height: ${(p) => (p.dimension === 'm' ? '20px' : '16px')};\n    margin: ${(p) => (p.displayRight ? '0 10px 0 0' : '0 0 0 10px')};\n  }\n  ${(p) => p.cssMixin || cssDefault}\n`;\n\nexport interface StatusIndicatorProps extends HTMLAttributes<HTMLDivElement> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Позволяет добавлять миксин, созданный с помощью styled css  */\n  cssMixin?: FlattenInterpolation<ThemeProps<DefaultTheme>>;\n  /** Иконка индикатора статуса */\n  icon?: ReactNode;\n  /** Позиционирование иконки статуса. По умолчанию - слева */\n  displayRight?: boolean;\n  /** Текст статуса */\n  text: string;\n}\n\nexport const StatusIndicator: FC<StatusIndicatorProps> = ({\n  dimension = 'm',\n  displayRight = true,\n  icon,\n  cssMixin,\n  text,\n}) => {\n  return (\n    <StatusContainer dimension={dimension} displayRight={displayRight} cssMixin={cssMixin}>\n      {icon && <Circle>{icon}</Circle>}\n      <Text>{text}</Text>\n    </StatusContainer>\n  );\n};\n\nStatusIndicator.displayName = 'StatusIndicator';\n","import { ButtonHTMLAttributes, ReactNode } from 'react';\nimport * as React from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { Spinner } from '#ui-kit3/components/Spinner';\n\ntype Dimension = 'm' | 's';\ntype Appearance = 'primary' | 'secondary';\n\nconst IconContainer = styled.div``;\n\nconst ButtonContainer = styled.div``;\n\nconst StyledSpinner = styled(Spinner)<{ dimension?: Dimension }>`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: ${(p) => (p.dimension === 'm' ? '20px' : '16px')};\n  height: ${(p) => (p.dimension === 'm' ? '20px' : '16px')};\n`;\n\nconst loadingKeyframes = keyframes`\n  to {\n    background-position: 315px 0, 0 0, 0 190px, 50px 195px;\n  }\n`;\n\nexport const skeletonMixin = css`\n  cursor: progress;\n  background-image: linear-gradient(0.25turn, transparent, #fff, transparent), linear-gradient(#eee, #eee),\n    radial-gradient(38px circle at 19px 19px, #eee 50%, transparent 51%), linear-gradient(#eee, #eee);\n  background-repeat: no-repeat;\n  background-size: 315px 250px, 315px 180px, 100px 100px, 225px 30px;\n  background-position: -315px 0, 0 0, 0 190px, 50px 195px;\n  animation: ${loadingKeyframes} 1.5s infinite;\n`;\n\nconst StyledButton = styled.button<{\n  dimension?: Dimension;\n  appearance?: Appearance;\n  displayRight?: boolean;\n  $loading?: boolean;\n  skeleton?: boolean;\n}>`\n  position: relative;\n  box-sizing: border-box;\n  display: inline-flex;\n  flex-direction: ${(p) => (p.displayRight ? 'row-reverse' : 'row')};\n  align-items: center;\n  vertical-align: center;\n  appearance: none;\n  border: none;\n  background: transparent;\n\n  > ${IconContainer} {\n    ${(p) => p.skeleton && skeletonMixin};\n    border-radius: ${(p) => (p.skeleton ? '50%' : '')};\n    svg {\n      visibility: ${(p) => (p.skeleton || p.$loading ? 'hidden' : 'visible')};\n      path {\n        fill: ${(p) => (p.appearance === 'secondary' ? p.theme.color.text.primary : p.theme.color.basic.primary)};\n      }\n    }\n  }\n  > ${ButtonContainer} {\n    ${(p) => p.skeleton && skeletonMixin};\n    border-radius: ${(p) => (p.skeleton ? '4px' : '')};\n    span {\n      visibility: ${(p) => (p.skeleton || p.$loading ? 'hidden' : 'visible')};\n    }\n  }\n  ${(p) => (p.dimension === 'm' ? typography['Button/Button 1'] : typography['Button/Button 2'])}\n\n  color: ${(p) => (p.appearance === 'secondary' ? p.theme.color.text.primary : p.theme.color.basic.primary)};\n\n  &:focus,\n  &:hover {\n    cursor: pointer;\n    color: ${(p) => p.theme.color.basic.hover};\n    > ${IconContainer} {\n      svg {\n        path {\n          fill: ${(p) => p.theme.color.basic.hover};\n        }\n      }\n    }\n  }\n\n  &:active {\n    color: ${(p) => p.theme.color.basic.press};\n    > ${IconContainer} {\n      svg {\n        path {\n          fill: ${(p) => p.theme.color.basic.press};\n        }\n      }\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    color: ${(p) => p.theme.color.text.tertiary};\n  }\n  > ${IconContainer} {\n    width: ${(p) => (p.dimension === 'm' ? (p.skeleton ? '24px' : '20px') : p.skeleton ? '20px' : '16px')};\n    height: ${(p) => (p.dimension === 'm' ? (p.skeleton ? '24px' : '20px') : p.skeleton ? '20px' : '16px')};\n    margin: ${(p) => (p.displayRight ? '0 0 0 10px' : '0 10px 0 0')};\n  }\n`;\n\nexport interface TextButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Размер кнопки */\n  dimension?: Dimension;\n  /** Внешний вид кнопки */\n  appearance?: Appearance;\n  /** Иконка кнопки */\n  icon?: ReactNode;\n  /** Текст кнопки */\n  text?: string;\n  /** Позиционирование иконки. По умолчанию - слева */\n  displayRight?: boolean;\n  /** Состояние загрузки */\n  loading?: boolean;\n  /** Состояние skeleton */\n  skeleton?: boolean;\n}\n\nexport const TextButton = React.forwardRef<HTMLButtonElement, TextButtonProps>(\n  (\n    {\n      dimension = 'm',\n      appearance = 'primary',\n      icon,\n      type = 'button',\n      text,\n      displayRight = false,\n      loading = false,\n      skeleton = false,\n      ...props\n    },\n    ref,\n  ) => {\n    return (\n      <StyledButton\n        {...props}\n        ref={ref}\n        dimension={dimension}\n        appearance={appearance}\n        displayRight={displayRight}\n        type={type}\n        $loading={loading}\n        skeleton={skeleton}\n      >\n        {loading && <StyledSpinner dimension={dimension} />}\n        {icon && <IconContainer>{icon}</IconContainer>}\n        <ButtonContainer>\n          <span>{text}</span>\n        </ButtonContainer>\n      </StyledButton>\n    );\n  },\n);\n\nTextButton.displayName = 'TextButton';\n","import React, { ChangeEvent, FC, HTMLAttributes, KeyboardEvent, MouseEvent } from 'react';\nimport styled from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\nimport { Checkbox } from '#ui-kit3/components/Checkbox';\nimport { ReactComponent as ChevronRightOutline } from '@openvtb/admiral-icons/build/system/ChevronRightOutline.svg';\n\nconst PADDING_LEFT_M = 40;\nconst PADDING_LEFT_S = 36;\nconst PADDING_VERTICAL_M = 16;\nconst PADDING_VERTICAL_S = 12;\nconst PADDING_RIGHT = 16;\nconst ICON_SIZE_M = 24;\nconst ICON_SIZE_S = 20;\n\nexport type Dimension = 'm' | 's';\nexport type SelectionStatus = 'checked' | 'indeterminate' | 'unchecked';\n\nexport interface SelectTreeNodeProps extends HTMLAttributes<HTMLDivElement> {\n  label?: React.ReactNode;\n  icon?: React.ReactNode;\n  checked?: boolean;\n  status?: SelectionStatus;\n  expanded?: boolean;\n  children?: SelectTreeNodeProps[];\n}\n\nexport interface SelectTreeBranchProps {\n  node: SelectTreeNodeProps;\n  dimension?: Dimension;\n  level: number;\n  expandAll: boolean;\n  onChange?: (event: ChangeEvent<HTMLInputElement>) => void;\n  onButtonClick?: (event: MouseEvent<SVGSVGElement>) => void;\n  onKeyDown?: (event: KeyboardEvent<HTMLLIElement>) => void;\n}\n\nconst Chevron = styled(ChevronRightOutline)`\n  transition: all 0.3s;\n  flex-shrink: 0;\n  margin-right: 16px;\n  cursor: pointer;\n  & path {\n    fill: ${(p) => p.theme.color.text.secondary};\n  }\n\n  &:hover {\n    & path {\n      fill: ${(p) => p.theme.color.basic.hover};\n    }\n  }\n`;\n\nconst TreeItem = styled.ul<{ dimension?: Dimension }>`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  padding-left: ${(p) => (p.dimension === 'm' ? `${PADDING_LEFT_M}px` : `${PADDING_LEFT_S}px`)};\n`;\n\nconst Wrapper = styled.li<{ isOpened?: boolean; dimension?: Dimension; level: number }>`\n  color: ${(p) => p.theme.color.text.primary};\n  & ${Chevron} {\n    width: ${(p) => (p.dimension === 'm' ? `${ICON_SIZE_M}px` : `${ICON_SIZE_S}px`)};\n    height: ${(p) => (p.dimension === 'm' ? `${ICON_SIZE_M}px` : `${ICON_SIZE_S}px`)};\n    transform: ${(p) => (p.isOpened ? 'rotate(90deg)' : 'rotate(0deg)')};\n  }\n  ${(p) => (p.dimension === 'm' ? typography['Body/Body 1 Short'] : typography['Body/Body 2 Short'])};\n  display: flex;\n  align-items: flex-start;\n  padding: ${(p) =>\n    p.dimension === 'm'\n      ? `${PADDING_VERTICAL_M / 2}px ${PADDING_RIGHT}px ${PADDING_VERTICAL_M / 2}px ${p.level * PADDING_LEFT_M}px`\n      : `${PADDING_VERTICAL_S / 2}px ${PADDING_RIGHT}px ${PADDING_VERTICAL_S / 2}px ${p.level * PADDING_LEFT_S}px`};\n`;\n\nconst IconWrapper = styled.div<{ dimension?: Dimension }>`\n  margin-right: 8px;\n  flex-shrink: 0;\n  width: ${(p) => (p.dimension === 'm' ? `${ICON_SIZE_M}px` : `${ICON_SIZE_S}px`)};\n  height: ${(p) => (p.dimension === 'm' ? `${ICON_SIZE_M}px` : `${ICON_SIZE_S}px`)};\n  > svg {\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst StyledCheckbox = styled(Checkbox)<{ dimension?: Dimension }>`\n  margin: 2px;\n  margin-right: 10px;\n  flex-shrink: 0;\n`;\n\nconst TitleContent = styled.div`\n  padding-top: 2px;\n`;\n\nexport const SelectTreeNode: FC<SelectTreeBranchProps> = ({\n  dimension,\n  node,\n  level,\n  onChange,\n  onButtonClick,\n  onKeyDown,\n  expandAll,\n}) => {\n  return (\n    <>\n      <Wrapper isOpened={node.expanded} dimension={dimension} level={level} onKeyDown={onKeyDown}>\n        {node.children && <Chevron data-key={node.id} onClick={onButtonClick} />}\n        {'status' in node && (\n          <StyledCheckbox\n            id={node.id}\n            data-key={node.id}\n            dimension={dimension}\n            indeterminate={node.status === 'indeterminate'}\n            checked={node.status !== 'unchecked'}\n            onChange={onChange}\n          />\n        )}\n        {node.icon && <IconWrapper dimension={dimension}>{node.icon}</IconWrapper>}\n        <TitleContent>{node.label}</TitleContent>\n      </Wrapper>\n      {node.expanded &&\n        node.children &&\n        node.children.map((child, i) => {\n          return (\n            <TreeItem key={[node.id, i].join('/')} dimension={dimension}>\n              <SelectTreeNode\n                key={node.id}\n                dimension={dimension}\n                node={child}\n                level={level + 1}\n                expandAll={expandAll}\n                onKeyDown={onKeyDown}\n                onButtonClick={onButtonClick}\n                onChange={onChange}\n              />\n            </TreeItem>\n          );\n        })}\n    </>\n  );\n};\n","import type { SelectionStatus, SelectTreeNodeProps } from '#ui-kit3/components/SelectTree/SelectTreeNode';\r\n\r\ntype Status = SelectionStatus | undefined;\r\n\r\nconst defineBranchStatus = (childrenStatus: Status[]) => {\r\n  if (childrenStatus.length === 0) return undefined;\r\n  if (childrenStatus.every((status) => status === 'unchecked')) return 'unchecked';\r\n  if (childrenStatus.every((status) => status === 'checked')) return 'checked';\r\n  return 'indeterminate';\r\n};\r\n\r\nexport const updateNodeStatus = (root: SelectTreeNodeProps[]) => {\r\n  const checkedBranches: Status[] = root\r\n    .map((branch) => {\r\n      let branchStatus: Status;\r\n      if (branch.children) {\r\n        branchStatus = updateNodeStatus(branch.children);\r\n        if ('status' in branch && branchStatus) {\r\n          branch.status = branchStatus;\r\n          branch.checked = branchStatus === 'checked' ? true : branchStatus === 'indeterminate' ? true : false;\r\n        }\r\n      } else {\r\n        if ('status' in branch) {\r\n          branchStatus = branch.status;\r\n          branch.checked = branchStatus === 'checked' ? true : branchStatus === 'indeterminate' ? true : false;\r\n        }\r\n      }\r\n      return branchStatus;\r\n    })\r\n    .filter((item) => item);\r\n\r\n  return defineBranchStatus(checkedBranches);\r\n};\r\n\r\nexport const checkParent = (root: SelectTreeNodeProps[], node: SelectTreeNodeProps) => {\r\n  for (const branch of root) {\r\n    if (branch.children) {\r\n      const foundNode = branch.children.find((child) => child.id === node.id);\r\n      if (foundNode) {\r\n        if ('status' in branch) {\r\n          branch.status = 'checked';\r\n          branch.checked = true;\r\n        }\r\n        return true;\r\n      } else {\r\n        if (checkParent(branch.children, node)) {\r\n          if ('status' in branch) {\r\n            branch.status = 'checked';\r\n            branch.checked = true;\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nexport const setNodeStatus = (list: SelectTreeNodeProps[]) => {\r\n  list.forEach((node) => {\r\n    if ('checked' in node) {\r\n      node.status = node.checked ? 'checked' : 'unchecked';\r\n    }\r\n    if (node.children) {\r\n      setNodeStatus(node.children);\r\n    }\r\n  });\r\n};\r\n","import type { FC, HTMLAttributes } from 'react';\nimport React, { ChangeEvent, KeyboardEvent, MouseEvent } from 'react';\nimport styled from 'styled-components';\nimport { SelectTreeNode, SelectTreeNodeProps, Dimension } from './SelectTreeNode';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { updateNodeStatus, checkParent, setNodeStatus } from '#ui-kit3/components/SelectTree/utils';\n\nconst TreeItem = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nexport interface SelectTreeProps extends Omit<HTMLAttributes<HTMLUListElement>, 'onChange'> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Данные для отображения вложенного списка */\n  list: SelectTreeNodeProps[];\n  /** Раскрытие всех веток */\n  expandAll?: boolean;\n  /** Колбек на изменение списка компонента (dataList - измененный вложенный список) */\n  onChange?: (dataList: SelectTreeNodeProps[]) => void;\n}\n\nexport const SelectTree: FC<SelectTreeProps> = ({ list, dimension = 'm', expandAll = false, onChange, ...props }) => {\n  const [handleGuard, setHandleGuard] = React.useState(false);\n\n  const handleExpandAll = (node: SelectTreeNodeProps) => {\n    if (node.expanded === undefined && node.children) {\n      node.expanded = expandAll;\n      if (node.children) {\n        node.children.forEach(handleExpandAll);\n      }\n    }\n  };\n\n  const handleChangeList = (type: string, e: any) => {\n    const checked = e.target.checked;\n    const key = (e.target as HTMLElement).getAttribute('data-key');\n\n    const traverseNodes = (node: SelectTreeNodeProps) => {\n      if (node.id === key) {\n        if (type === 'buttonclick') {\n          const expanded = node.expanded;\n          node.expanded = !expanded;\n        }\n        if (type === 'inputchange') {\n          node.status = checked ? 'checked' : 'unchecked';\n          if (checked) {\n            checkParent(list, node);\n          }\n          if (node.children) {\n            node.children.forEach(checkAllNodes);\n          }\n        }\n        if (type === 'keydown') {\n          const code = keyboardKey.getCode(e);\n          if (code === keyboardKey.Enter || code === keyboardKey[' ']) {\n            node.expanded = true;\n          } else if (code === keyboardKey.Escape) {\n            node.expanded = false;\n          }\n        }\n      }\n      if (node.children) {\n        node.children.forEach(traverseNodes);\n      }\n    };\n\n    const checkAllNodes = (node: SelectTreeNodeProps) => {\n      if ('status' in node) {\n        node.status = checked ? 'checked' : 'unchecked';\n        node.checked = checked;\n      }\n      if (node.children) {\n        node.children.forEach(checkAllNodes);\n      }\n    };\n\n    list.forEach(traverseNodes);\n    onChange?.([...list]);\n  };\n\n  const handleButtonClick = React.useCallback((e: MouseEvent<SVGSVGElement>) => {\n    handleChangeList('buttonclick', e);\n  }, []);\n\n  const handleChange = React.useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    handleChangeList('inputchange', e);\n  }, []);\n\n  const handleKeyDown = React.useCallback((e: KeyboardEvent<HTMLLIElement>) => {\n    handleChangeList('keydown', e);\n  }, []);\n\n  React.useEffect(() => {\n    if (expandAll) {\n      list.forEach(handleExpandAll);\n      onChange?.([...list]);\n    }\n  }, [expandAll]);\n\n  if (!handleGuard) {\n    setNodeStatus(list);\n    setHandleGuard(true);\n  }\n  updateNodeStatus(list);\n\n  return (\n    <TreeItem {...props}>\n      {list.map((node) => {\n        return (\n          <SelectTreeNode\n            key={node.id}\n            node={node}\n            onChange={handleChange}\n            dimension={dimension}\n            expandAll={expandAll}\n            onButtonClick={handleButtonClick}\n            onKeyDown={handleKeyDown}\n            level={0}\n          />\n        );\n      })}\n    </TreeItem>\n  );\n};\n\nSelectTree.defaultProps = { dimension: 'm' };\nSelectTree.displayName = 'SelectTree';\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst RESIZER_WIDTH = '17px';\n\nexport const ResizerWrapper = styled.div<{ disabled: boolean }>`\n  position: absolute;\n  right: -8px;\n  z-index: 1;\n  top: 0;\n  width: ${RESIZER_WIDTH};\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: ${({ disabled }) => (disabled ? 'pointer' : 'col-resize')};\n\n  padding: 12px 0 11px 0;\n  [data-dimension='s'] & {\n    padding: 8px 0 7px 0;\n  }\n  [data-dimension='l'] & {\n    padding: 14px 0 13px 0;\n  }\n  [data-dimension='xl'] & {\n    padding: 18px 0 17px 0;\n  }\n`;\n\nexport const Resizer = styled.div`\n  box-sizing: border-box;\n  width: 1px;\n  height: 100%;\n  background: ${({ theme }) => theme.color.basic.disable};\n`;\n\nexport function RowWidthResizer(props: {\n  name: string;\n  width: number;\n  disabled: boolean;\n  resizerState: any;\n  onChange: (evt: { name: string; width: number; mouseUp: boolean }) => void;\n}) {\n  const { width: startWidth, name, disabled, resizerState, onChange } = props;\n  const node = React.useRef(null);\n  const [width, setWidth] = React.useState(startWidth);\n  const [isTaken, setTaken] = React.useState(false);\n  const [clientX, setClientX] = React.useState<number | null>(null);\n\n  React.useEffect(() => {\n    setWidth(startWidth);\n  }, [resizerState]);\n\n  React.useLayoutEffect(() => {\n    if (startWidth !== width) setWidth(startWidth);\n  }, [startWidth]);\n\n  React.useEffect(() => {\n    if (!disabled) {\n      document.addEventListener('mousedown', handleMouseDown);\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n\n      return () => {\n        document.removeEventListener('mousedown', handleMouseDown);\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  });\n\n  const handleMouseDown = (e: MouseEvent) => {\n    if (e.target === node.current) {\n      e.preventDefault();\n      setWidth(width);\n      setTaken(true);\n      setClientX(e.clientX);\n    }\n  };\n\n  const handleMouseMove = (e: MouseEvent) => {\n    if (isTaken && clientX !== null) {\n      e.preventDefault();\n      const newWidth = width - (clientX - e.clientX);\n      onChange({ name, width: newWidth, mouseUp: false });\n    }\n  };\n\n  const handleMouseUp = (e: MouseEvent) => {\n    if (isTaken && clientX !== null) {\n      e.preventDefault();\n      const newWidth = width - (clientX - e.clientX);\n      setTaken(false);\n      onChange({ name, width: newWidth, mouseUp: true });\n      setWidth(newWidth);\n      setClientX(e.clientX);\n    }\n  };\n\n  return (\n    <ResizerWrapper ref={node} disabled={disabled}>\n      <Resizer />\n    </ResizerWrapper>\n  );\n}\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { ReactComponent as MoreHorizontalOutline } from '@openvtb/admiral-icons/build/system/MoreHorizontalOutline.svg';\n\nconst activeFilter = css<{ isFilterOpen?: boolean }>`\n  & *[fill^='#'] {\n    fill: ${({ theme, isFilterOpen }) => (isFilterOpen ? theme.color.basic.press : theme.color.basic.primary)};\n  }\n`;\n\nconst ButtonComponent = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  position: relative;\n  cursor: pointer;\n  border: 0;\n  outline: none;\n  background: transparent;\n  -webkit-tap-highlight-color: transparent;\n  padding: 0;\n  margin: 2px 0;\n`;\n\nexport const ButtonContent = styled.span<{ isFilterActive?: boolean; isFilterOpen?: boolean; iconSize: string }>`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  & svg {\n    flex-shrink: 0;\n    width: ${({ iconSize }) => iconSize};\n    height: ${({ iconSize }) => iconSize};\n  }\n\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n\n  &:hover {\n    *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n\n  ${({ isFilterActive }) => isFilterActive && activeFilter}\n`;\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\ninterface ButtonProps extends React.HTMLAttributes<HTMLButtonElement> {\n  dimension?: Dimension;\n  renderFilterIcon?: () => React.ReactNode;\n  isFilterActive?: boolean;\n  isFilterOpen?: boolean;\n}\n\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ dimension, renderFilterIcon, isFilterActive, isFilterOpen, ...props }, ref) => {\n    const iconSize = dimension === 's' || dimension === 'm' ? '16px' : '20px';\n    return (\n      <ButtonComponent ref={ref} type=\"button\" {...props}>\n        <ButtonContent isFilterActive={isFilterActive} isFilterOpen={isFilterOpen} iconSize={iconSize}>\n          {renderFilterIcon ? renderFilterIcon() : <MoreHorizontalOutline aria-hidden />}\n        </ButtonContent>\n      </ButtonComponent>\n    );\n  },\n);\n","import * as React from 'react';\nimport { keyboardKey } from '#ui-kit3/components/common/keyboardKey';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\nimport { Dropdown } from '#ui-kit3/components/Dropdown';\n\nimport { Button } from './Button';\n\ntype Dimension = 'xl' | 'l' | 'm' | 's';\ntype FilterProps = {\n  /** Функция закрытия фильтра */\n  closeMenu: () => void;\n  /** Функция установки состояния фильтра (активный/неактивный).\n   * Необходимо для окрашивания иконки фильтра в синий цвет при активном фильтре и в серый при неактивном фильтре.\n   */\n  setFilterActive: (isActive: boolean) => void;\n};\nexport interface FilterCompProps extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  /** Размер компонента */\n  dimension?: Dimension;\n  /** Функция отрисовки содержимого фильтра (выпадающего меню фильтра). Если её не передать, значок фильтра отображаться не будет */\n  renderFilter: (obj: FilterProps) => React.ReactNode;\n  /** Функция отрисовки иконки фильтра. По умолчанию в качестве иконки фильтра применяется OverflowIcon (троеточие) */\n  renderFilterIcon?: () => React.ReactNode;\n  /** Колбек на клик вне меню фильтра */\n  onFilterMenuClickOutside?: (obj: FilterProps, event: Event) => void;\n  /** Колбек на открытие меню фильтра */\n  onFilterMenuOpen?: () => void;\n  /** Колбек на закрытие меню фильтра */\n  onFilterMenuClose?: () => void;\n  /** Выравнивание контента ячеек столбца по левому или правому краю. По умолчанию left */\n  cellAlign?: 'left' | 'right';\n  /** Ref на элемент, относительно которого будет позиционироваться меню фильтра */\n  targetRef: React.RefObject<HTMLElement>;\n}\n\nexport const Filter = React.forwardRef<HTMLButtonElement, FilterCompProps>(\n  (\n    {\n      renderFilter,\n      renderFilterIcon,\n      onFilterMenuClickOutside,\n      onFilterMenuOpen,\n      onFilterMenuClose,\n      cellAlign,\n      targetRef,\n      ...props\n    },\n    ref,\n  ) => {\n    const [menuOpened, setMenuOpened] = React.useState<boolean>(false);\n    const [isFilterActive, setFilterActive] = React.useState<boolean>(false);\n    const btnRef = React.useRef<HTMLButtonElement>(null);\n\n    const reverseMenu = () => {\n      setMenuOpened((prevOpened) => {\n        prevOpened ? onFilterMenuClose?.() : onFilterMenuOpen?.();\n        return !prevOpened;\n      });\n    };\n    const closeMenu = () => {\n      setMenuOpened(false);\n      onFilterMenuClose?.();\n      btnRef.current?.focus();\n    };\n    const clickOutside = (e: Event) => {\n      if (e.target && btnRef.current?.contains(e.target as Node)) {\n        return;\n      }\n      onFilterMenuClickOutside?.({ closeMenu, setFilterActive }, e);\n    };\n\n    const handleBtnKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey.ArrowDown || code === keyboardKey.Enter || code === keyboardKey[' ']) {\n        setMenuOpened(true);\n        onFilterMenuOpen?.();\n        e.preventDefault();\n      }\n    };\n\n    const handleMenuKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n      const code = keyboardKey.getCode(e);\n      if (code === keyboardKey.Escape || code === keyboardKey.Tab) {\n        closeMenu();\n      }\n    };\n    return (\n      <>\n        <Button\n          ref={refSetter(ref, btnRef)}\n          onKeyDown={handleBtnKeyDown}\n          onClick={reverseMenu}\n          aria-expanded={menuOpened}\n          aria-haspopup={menuOpened}\n          isFilterActive={isFilterActive}\n          isFilterOpen={menuOpened}\n          renderFilterIcon={renderFilterIcon}\n          {...props}\n        />\n        {menuOpened && (\n          <Dropdown\n            role=\"listbox\"\n            targetRef={targetRef}\n            alignSelf={cellAlign === 'left' ? 'flex-end' : 'flex-start'}\n            onClickOutside={clickOutside}\n            onKeyDown={handleMenuKeyDown}\n          >\n            {renderFilter({ closeMenu, setFilterActive })}\n          </Dropdown>\n        )}\n      </>\n    );\n  },\n);\n","const getScrollbarSize = () => {\n  let scrollBarWidth = 0;\n  const scrollbox = document.createElement('div');\n  scrollbox.innerHTML = `Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem \n    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat. \n    Ut wisis enim ad minim veniam, quis nostrud exerci tution ullamcorper suscipit \n    lobortis nisl ut aliquip ex ea commodo consequat.`;\n  scrollbox.style.overflow = 'scroll';\n  scrollbox.style.fontSize = '14px';\n  scrollbox.style.height = '50px';\n  scrollbox.style.maxHeight = '50px';\n  scrollbox.style.width = '100px';\n  scrollbox.style.position = 'absolute';\n  scrollbox.style.top = '-100000px';\n  scrollbox.style.left = '-100000px';\n  document.body.appendChild(scrollbox);\n  scrollBarWidth = scrollbox.offsetWidth - scrollbox.clientWidth;\n  document.body.removeChild(scrollbox);\n  return scrollBarWidth;\n};\n\n/**\n * Обычно ширину полосы прокрутки можно вычислить с помощью offsetWidth - clientWidth. Но есть исключение:\n * если на Mac в настройках стоит System Preferences -> General -> Show scroll bars: Automatically based on mouse or trackpad,\n * то полоса прокрутки будет выводиться поверх всего layoutа и результатом вычислений offsetWidth - clientWidth будет 0.\n * Поэтому, если getScrollbarSize будет возвращать 0, буду вместо 0 брать стандартную для Mac ширину полосы прокрутки (16 пикселей)\n * https://gist.github.com/martynchamberlin/6aaf8a45b36907e9f1e21a28889f6b0a\n */\n/** отступ от правого и нижнего края, чтобы тултип не заходил за полосу прокрутки */\nexport const SCROLLBAR = getScrollbarSize() || 16;\n","import { css } from 'styled-components';\nimport { typography } from '#ui-kit3/components/Typography';\n\n// padding-bottom меньше padding-top на 1px, т.к. 1px остается для border-bottom ячейки\n// padding-right больше padding-left на 1px, т.к. 1px остается для линии resizerа\nexport const cellStyle = css`\n  [data-dimension='s'] & {\n    padding: 6px 13px 5px 12px;\n  }\n\n  [data-dimension='m'] & {\n    padding: 10px 13px 9px 12px;\n  }\n\n  [data-dimension='l'] & {\n    padding: 12px 17px 11px 16px;\n  }\n\n  [data-dimension='xl'] & {\n    padding: 16px 17px 15px 16px;\n  }\n`;\n\nexport const rowStyle = css`\n  ${typography['Body/Body 2 Short']}\n\n  [data-dimension='l'] & {\n    ${typography['Body/Body 1 Short']}\n  }\n  [data-dimension='xl'] & {\n    ${typography['Body/Body 1 Short']}\n  }\n`;\n\nexport const headerStyle = css`\n  ${typography['Subtitle/Subtitle 3']}\n\n  [data-dimension='l'] & {\n    ${typography['Subtitle/Subtitle 2']}\n  }\n  [data-dimension='xl'] & {\n    ${typography['Subtitle/Subtitle 2']}\n  }\n`;\n\nexport const extraTextStyle = css`\n  ${typography['Caption/Caption 1']}\n  [data-dimension='l'] & {\n    ${typography['Body/Body 2 Long']}\n  }\n  [data-dimension='xl'] & {\n    ${typography['Body/Body 2 Long']}\n  }\n  color: ${({ theme }) => theme.color.text.secondary};\n`;\n\nexport const singleLineTitle = css`\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const multiLineTitle = css<{ lineClamp: number }>`\n  display: -webkit-inline-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: ${({ lineClamp }) => lineClamp};\n  overflow: hidden;\n`;\n\nexport const disabledRow = css`\n  color: ${({ theme }) => theme.color.text.tertiary};\n  pointer-events: none;\n`;\n\nexport const underlineRow = css`\n  border-bottom: 1px solid ${({ theme }) => theme.color.basic.disable};\n`;\n\nexport const rowBackground = css`\n  [data-greyheader='true'] & {\n    background: ${({ theme }) => theme.color.background.tertiary};\n  }\n  [data-selected='true'] & {\n    background: ${({ theme }) => theme.color.special.softBlue};\n  }\n  [data-error='true'] & {\n    background: ${({ theme }) => theme.color.background.surfaceDanger};\n  }\n  [data-success='true'] & {\n    background: ${({ theme }) => theme.color.background.surfaceSuccess};\n  }\n  [data-disabled='true'] & {\n    background: ${({ theme }) => theme.color.background.primary};\n  }\n`;\n\nexport const overflowMenuStyle = css<{ $offset: number }>`\n  [data-dimension='s'] && {\n    width: 31px;\n    height: 31px;\n    padding: 0;\n    left: ${({ $offset }) => `${$offset - 32}px`};\n  }\n  [data-dimension='m'] && {\n    width: 39px;\n    height: 39px;\n    padding: 4px 4px 3px 3px;\n    left: ${({ $offset }) => `${$offset - 39}px`};\n  }\n  [data-dimension='l'] && {\n    width: 47px;\n    height: 47px;\n    padding: 6px 6px 5px 5px;\n    left: ${({ $offset }) => `${$offset - 47}px`};\n  }\n  [data-dimension='xl'] && {\n    width: 55px;\n    height: 55px;\n    padding: 10px 10px 9px 9px;\n    left: ${({ $offset }) => `${$offset - 55}px`};\n  }\n`;\n","import styled from 'styled-components';\nimport { ReactComponent as ArrowUpOutline } from '@openvtb/admiral-icons/build/system/ArrowUpOutline.svg';\nimport { ReactComponent as ChevronDownOutline } from '@openvtb/admiral-icons/build/system/ChevronDownOutline.svg';\n\nimport {\n  cellStyle,\n  rowStyle,\n  headerStyle,\n  singleLineTitle,\n  multiLineTitle,\n  disabledRow,\n  underlineRow,\n  rowBackground,\n  extraTextStyle,\n  overflowMenuStyle,\n} from './mixins';\n\nexport const TableContainer = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  background: ${({ theme }) => theme.color.background.primary};\n`;\n\nexport const StickyWrapper = styled.div`\n  display: flex;\n  position: sticky;\n  left: 0;\n  z-index: 5;\n  background: ${({ theme }) => theme.color.background.primary};\n  ${rowBackground}\n  transition: box-shadow 0.3s;\n  [data-shadow='true'] & {\n    box-shadow: 4px 0px 12px rgba(138, 150, 168, 0.16);\n  }\n`;\n\nexport const OverflowMenuWrapper = styled.div<{ $offset: number }>`\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  position: absolute;\n  z-index: 5;\n  background: ${({ theme }) => theme.color.background.primary};\n  ${rowBackground}\n  ${overflowMenuStyle}\n  visibility: hidden;\n  &:hover {\n    visibility: visible;\n  }\n`;\n\nexport const Filler = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  width: unset;\n`;\n\nexport const HeaderWrapper = styled.div<{ scrollbar: number; greyHeader?: boolean }>`\n  box-sizing: border-box;\n  position: relative;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n\n  [data-verticalscroll='true'] && {\n    &:after {\n      position: absolute;\n      content: '';\n      box-sizing: border-box;\n      top: 0;\n      right: 0;\n      height: 100%;\n      background: ${({ theme, greyHeader }) =>\n        greyHeader ? theme.color.background.tertiary : theme.color.background.primary};\n      width: ${({ scrollbar }) => scrollbar}px;\n      border-bottom: 1px solid ${({ theme }) => theme.color.basic.disable};\n    }\n  }\n`;\n\nexport const Header = styled.div<{ greyHeader?: boolean }>`\n  box-sizing: border-box;\n  display: flex;\n  flex: 0 0 auto;\n  overflow-x: hidden;\n  [data-verticalscroll='true'] & {\n    overflow-y: scroll;\n  }\n  [data-greyheader='true'] & {\n    background: ${({ theme }) => theme.color.background.tertiary};\n  }\n  ${headerStyle}\n  transform: translateZ(0);\n\n  & > * {\n    border-bottom: 1px solid ${({ theme }) => theme.color.basic.disable};\n  }\n`;\n\nexport const ScrollTableBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  flex: 1 1 auto;\n`;\n\nexport const ExpandIcon = styled(ChevronDownOutline)`\n  display: flex;\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n  transition: transform 0.3s ease-in-out;\n  transform: rotate(0deg);\n  cursor: pointer;\n  & *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.text.secondary};\n  }\n  &:hover *[fill^='#'] {\n    fill: ${({ theme }) => theme.color.basic.hover};\n  }\n  [data-expanded='true'] & {\n    transform: rotate(180deg);\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.press};\n    }\n    &:hover *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n  }\n  [data-disabled='true'] & {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.tertiary};\n    }\n  }\n`;\n\nexport const SortIcon = styled(ArrowUpOutline)`\n  display: flex;\n  flex-shrink: 0;\n  transition: transform 0.3s ease-in-out;\n  transform: rotate(0deg);\n  margin: 2px 0;\n\n  [data-sort='asc'] && {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.primary};\n    }\n  }\n  [data-sort='desc'] && {\n    & *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.primary};\n    }\n    transform: rotate(180deg);\n  }\n  [data-sort='initial'] && *[fill^='#'] {\n    fill: transparent;\n  }\n`;\n\nexport const Cell = styled.div`\n  display: flex;\n  align-items: flex-start;\n  flex: 0 0 auto;\n  box-sizing: border-box;\n  ${cellStyle};\n  overflow: hidden;\n`;\n\nexport const CellTextContent = styled.div<{ cellAlign?: 'left' | 'right' }>`\n  display: block;\n  align-items: center;\n  width: 100%;\n  margin: 2px 0;\n  ${({ cellAlign }) => cellAlign === 'right' && 'text-align: right;'}\n  overflow: hidden;\n`;\n\n// padding-bottom меньше padding-top на 1px, т.к. 1px остается для border-bottom ячейки\nexport const CheckboxCell = styled(Cell)`\n  width: unset;\n  overflow: visible;\n  [data-dimension='s'] && {\n    padding: 8px 2px 7px 14px;\n  }\n  [data-dimension='m'] && {\n    padding: 12px 2px 11px 14px;\n  }\n  [data-dimension='l'] && {\n    padding: 14px 2px 13px 18px;\n  }\n  [data-dimension='xl'] && {\n    padding: 18px 2px 17px 18px;\n  }\n`;\n\n// padding-bottom меньше padding-top на 1px, т.к. 1px остается для border-bottom ячейки\nexport const ExpandCell = styled(Cell)`\n  [data-dimension='s'] && {\n    padding: 6px 0px 5px 12px;\n    width: 32px;\n  }\n  [data-dimension='m'] && {\n    padding: 10px 0px 9px 12px;\n    width: 32px;\n  }\n  [data-dimension='l'] && {\n    padding: 12px 0px 11px 16px;\n    width: 40px;\n  }\n  [data-dimension='xl'] && {\n    padding: 16px 0px 15px 16px;\n    width: 40px;\n  }\n`;\n\nexport const HeaderCell = styled.div`\n  position: relative;\n  display: inline-flex;\n  box-sizing: border-box;\n  flex: 0 0 auto;\n  ${cellStyle}\n  &:hover {\n    cursor: pointer;\n  }\n  align-items: flex-start;\n`;\n\nexport const HeaderCellContent = styled.div`\n  box-sizing: border-box;\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n  [data-cellalign='right'] & {\n    flex-direction: row-reverse;\n  }\n`;\n\nexport const HeaderCellSpacer = styled.div<{ width?: string }>`\n  display: flex;\n  align-self: stretch;\n  width: ${(p) => (p.width ? p.width : '12px')};\n  flex-shrink: 0;\n`;\n\nexport const HeaderCellTitle = styled.div`\n  display: inline-flex;\n  align-items: flex-start;\n  width: 100%;\n  overflow: hidden;\n  [data-cellalign='right'] & {\n    text-align: right;\n    flex-direction: row-reverse;\n  }\n  &:hover {\n    [data-sort='asc'] && *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n    [data-sort='desc'] && *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.basic.hover};\n    }\n    [data-sort='initial'] && *[fill^='#'] {\n      fill: ${({ theme }) => theme.color.text.secondary};\n    }\n  }\n`;\n\nexport const TitleContent = styled.div<{ sortable?: boolean }>`\n  display: flex;\n  flex-direction: column;\n\n  // leave 20px/16px for SortIcon\n  max-width: ${({ sortable }) => (sortable ? 'calc(100% - 20px)' : '100%')};\n  [data-dimension='s'] && {\n    max-width: ${({ sortable }) => (sortable ? 'calc(100% - 16px)' : '100%')};\n  }\n  [data-dimension='m'] && {\n    max-width: ${({ sortable }) => (sortable ? 'calc(100% - 16px)' : '100%')};\n  }\n`;\n\nexport const Title = styled.div<{ lineClamp: number }>`\n  position: relative;\n  width: 100%;\n  ${({ lineClamp }) => (lineClamp === 1 ? singleLineTitle : multiLineTitle)}\n`;\n\nexport const ExtraText = styled.div<{ lineClamp: number }>`\n  position: relative;\n  width: 100%;\n  // box-sizing: border-box;\n  margin: 2px 0;\n  ${extraTextStyle}\n  ${({ lineClamp }) => (lineClamp === 1 ? singleLineTitle : multiLineTitle)}\n`;\n\nexport const Row = styled.div<{ disabled: boolean; underline: boolean }>`\n  display: flex;\n  flex-direction: column;\n  min-width: fit-content;\n  background: ${({ theme }) => theme.color.background.primary};\n  ${rowStyle}\n  ${({ disabled }) => disabled && disabledRow}\n  ${({ underline }) => underline && underlineRow}\n`;\n\nexport const SimpleRow = styled.div`\n  display: inline-flex;\n  min-width: max-content;\n  background: ${({ theme }) => theme.color.background.primary};\n  ${rowBackground}\n\n  &:hover {\n    & + ${OverflowMenuWrapper} {\n      visibility: visible;\n    }\n  }\n  & + div[data-opened='true'] {\n    visibility: visible;\n  }\n`;\n\nexport const ExpandedRow = styled.div<{ opened?: boolean; contentMaxHeight?: number | string }>`\n  display: inline-flex;\n  overflow: hidden;\n  transition: max-height 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  max-height: ${(p) => (!p.opened ? 0 : p.contentMaxHeight)};\n`;\n\nexport const ExpandedRowContent = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  padding: 0 12px 11px 12px;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { refSetter } from '#ui-kit3/components/common/utils/refSetter';\n\nimport { ScrollTableBody } from './style';\n\nconst Spacer = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n`;\n\ninterface VirtualBodyProps extends React.HTMLAttributes<HTMLDivElement> {\n  height: number;\n  childHeight: number;\n  renderAhread?: number;\n  rowList: any[];\n  renderRow: (row: any, index: number) => void;\n}\n\nexport const VirtualBody = React.forwardRef<HTMLDivElement, VirtualBodyProps>(\n  ({ height, childHeight, renderAhread = 20, rowList, renderRow, ...props }, ref) => {\n    const [scrollTop, setScrollTop] = React.useState(0);\n    const scrollContainerRef = React.useRef<HTMLDivElement>(null);\n    const itemCount = rowList.length;\n\n    const handleScroll = (e: any) => {\n      requestAnimationFrame(() => {\n        setScrollTop(e.target.scrollTop);\n      });\n    };\n\n    React.useEffect(() => {\n      const scrollContainer = scrollContainerRef.current;\n      setScrollTop(scrollContainer?.scrollTop || 0);\n\n      scrollContainer?.addEventListener('scroll', handleScroll);\n      return () => scrollContainer?.removeEventListener('scroll', handleScroll);\n    }, []);\n\n    let startNode = Math.floor(scrollTop / childHeight) - renderAhread;\n    startNode = Math.max(0, startNode);\n\n    let visibleNodeCount = Math.ceil(height / childHeight) + 2 * renderAhread;\n    visibleNodeCount = Math.min(itemCount - startNode, visibleNodeCount);\n\n    const topPadding = `${startNode * childHeight}px`;\n    const bottomPadding = `${(itemCount - startNode - visibleNodeCount) * childHeight}px`;\n\n    const visibleChildren = React.useMemo(\n      () => [...rowList].slice(startNode, startNode + visibleNodeCount).map((row, index) => renderRow(row, index)),\n      [startNode, visibleNodeCount, renderRow],\n    );\n\n    return (\n      <ScrollTableBody style={{ height }} ref={refSetter(ref, scrollContainerRef)} {...props}>\n        <Spacer style={{ minHeight: topPadding }} />\n        {visibleChildren}\n        <Spacer style={{ minHeight: bottomPadding }} />\n      </ScrollTableBody>\n    );\n  },\n);\n","import * as React from 'react';\n\nimport { OverflowMenuWrapper } from './style';\n\ninterface OverflowMenuProps {\n  tableWidth: number;\n  row: any;\n}\n\nexport const OverflowMenu: React.FC<OverflowMenuProps> = ({ tableWidth, row }) => {\n  const oveflowMenuRef = React.useRef<HTMLDivElement>(null);\n  const handleMenuOpen = () => {\n    if (oveflowMenuRef.current) oveflowMenuRef.current.dataset.opened = 'true';\n  };\n  const handleMenuClose = () => {\n    if (oveflowMenuRef.current) oveflowMenuRef.current.dataset.opened = 'false';\n  };\n\n  return (\n    <OverflowMenuWrapper ref={oveflowMenuRef} data-opened={false} $offset={tableWidth}>\n      {row.overflowMenuRender?.(row, handleMenuOpen, handleMenuClose)}\n    </OverflowMenuWrapper>\n  );\n};\n","import * as React from 'react';\nimport { Checkbox } from '#ui-kit3/components/Checkbox';\nimport observeRect from '#ui-kit3/components/common/observeRect';\n\nimport { RowWidthResizer } from './RowWidthResizer';\nimport { Filter } from './filter/Filter';\nimport { SCROLLBAR } from './scrollbarUtil';\nimport {\n  ExpandIcon,\n  ExpandCell,\n  ExpandedRow,\n  ExpandedRowContent,\n  HeaderWrapper,\n  Header,\n  HeaderCell,\n  HeaderCellContent,\n  HeaderCellSpacer,\n  HeaderCellTitle,\n  TableContainer,\n  TitleContent,\n  Title,\n  ExtraText,\n  ScrollTableBody,\n  SimpleRow,\n  SortIcon,\n  StickyWrapper,\n  Filler,\n  Row,\n  Cell,\n  CellTextContent,\n  CheckboxCell,\n} from './style';\nimport { VirtualBody } from './VirtualBody';\nimport { OverflowMenu } from './OverflowMenu';\n\nexport const DEFAULT_COLUMN_WIDTH = 100;\n\nexport type Dimension = 'xl' | 'l' | 'm' | 's';\n\ntype FilterProps = {\n  /** Функция закрытия меню фильтра */\n  closeMenu: () => void;\n  /** Функция установки состояния фильтра (активный/неактивный).\n   * Необходимо для окрашивания иконки фильтра в синий цвет при активном фильтре и в серый при неактивном фильтре.\n   */\n  setFilterActive: (isActive: boolean) => void;\n};\n\nexport type Column = {\n  /** Уникальное название столбца */\n  name: string;\n  /** Заголовок столбца */\n  title: string;\n  /** Дополнительный текст заголовка столбца */\n  extraText?: string;\n  /** Ширина столбца. По умолчанию 100px */\n  width?: number | string;\n  /** Выравнивание контента ячеек столбца по левому или правому краю. По умолчанию left */\n  cellAlign?: 'left' | 'right';\n  /** Является ли столбец сортируемым. По умолчанию false */\n  sortable?: boolean;\n  /** Дефолтная сортировка столбца (по возрастанию или по убыванию) */\n  defaultSort?: 'asc' | 'desc';\n  /** Отображение столбца как фиксированного (которые остаются при скролле на месте).\n   * Столбец с чекбоксами по умолчанию фиксированный.\n   * Фиксированные столбцы располагаются по левому краю таблицы и идут друг за другом\n   * (в columnList фиксированные столбцы должны быть в начале массива и идти друг за другом).\n   */\n  sticky?: boolean;\n  /** Функция отрисовки содержимого фильтра (выпадающего меню фильтра). Если её не передать, значок фильтра отображаться не будет */\n  renderFilter?: (obj: FilterProps) => React.ReactNode;\n  /** Функция отрисовки иконки фильтра. По умолчанию в качестве иконки фильтра применяется OverflowIcon (троеточие) */\n  renderFilterIcon?: () => React.ReactNode;\n  /** Колбек на клик вне меню фильтра */\n  onFilterMenuClickOutside?: (obj: FilterProps, event: Event) => void;\n  /** Колбек на открытие меню фильтра */\n  onFilterMenuOpen?: () => void;\n  /** Колбек на закрытие меню фильтра */\n  onFilterMenuClose?: () => void;\n};\n\ntype ColumnWithResizerWidth = Column & { resizerWidth: number };\n\ntype RowId = string | number;\ntype IdSelectionStatusMap = Record<RowId, boolean>;\n\nexport interface TableRow extends Record<RowId, React.ReactNode> {\n  id: RowId;\n  className?: string;\n  /** Строка в состоянии selected */\n  selected?: boolean;\n  /** Строка в состоянии disabled  */\n  disabled?: boolean;\n  /** Строка в состоянии error */\n  error?: boolean;\n  /** Строка в состоянии success */\n  success?: boolean;\n  /** Строка в раскрытом состоянии */\n  expanded?: boolean;\n  /** Функция рендера содержимого раскрытой части строки (детализации строки) */\n  expandedRowRender?: (row: any) => React.ReactNode;\n  /** Функция рендера OverflowMenu для строки.\n   * Входные параметры: сама строка, колбеки onMenuOpen и onMenuClose.\n   * Колбеки необходимо вызывать при открытии/закрытии меню для того, чтобы таблица могла управлять видимостью OverflowMenu.\n   * OverflowMenu отображается при ховере на строку или при открытом меню\n   * и располагается по правому краю строки в видимой области таблицы.\n   *\n   * В качестве результата функция должна возвращать OverflowMenu.\n   * Для таблицы с dimension='s' или dimension='m' используется OverflowMenu c dimension='m'.\n   * Для таблицы с dimension='l' или dimension='xl' используется OverflowMenu c dimension='l'.\n   */\n  overflowMenuRender?: (row: any, onMenuOpen: () => void, onMenuClose: () => void) => React.ReactNode;\n}\n\nexport interface TableProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Массив столбцов */\n  columnList: Column[];\n  /** Массив строк */\n  rowList: TableRow[];\n  /** Установка чекбокса в шапке таблицы в состояние checked.\n   * По умолчанию состояние checked вычисляется на основе анализа параметра selected у строк таблицы\n   */\n  headerCheckboxChecked?: boolean;\n  /** Установка чекбокса в шапке таблицы в состояние indeterminate (состояние, при котором выбрана только часть строк).\n   * По умолчанию состояние checked вычисляется на основе анализа параметра selected у строк таблицы\n   */\n  headerCheckboxIndeterminate?: boolean;\n  /** Колбек на изменение состояния чекбокса, находящегося в хедере\n   * Возвращает параметр selectAll (если true - выбраны все строки в таблице, false - выбор снят со всех строк таблицы)\n   */\n  onHeaderSelectionChange?: (selectAll: boolean) => void;\n  /** Колбек на выбор/снятие выбора со строки (на нажатие по чекбоксу строки).\n   * idSelectionStatusMap - это объект, ключами которого являются id строк, чье состояние checked было изменено,\n   * а значениями ключей - значение checked\n   */\n  onRowSelectionChange?: (idSelectionStatusMap: IdSelectionStatusMap) => void;\n  /** Колбек на раскрытие/свертывание строки (на нажатие по стрелке слева).\n   * idSelectionStatusMap - это объект, ключами которого являются id строк, чье состояние expanded было изменено,\n   * а значениями ключей - значение expanded\n   */\n  onRowExpansionChange?: (idSelectionStatusMap: IdSelectionStatusMap) => void;\n  /** Колбек для клика по строке таблицы */\n  onRowClick?: (rowId: RowId) => void;\n  /** Колбек для двойного клика по строке таблицы */\n  onRowDoubleClick?: (rowId: RowId) => void;\n  /** Размер таблицы */\n  dimension?: Dimension;\n  /** Отображение столбца с чекбоксами, позволяющими выбрать необходимые строки */\n  displayRowSelectionColumn?: boolean;\n  /** Отображение столбца со стрелками для детализации (раскрытия) строк */\n  displayRowExpansionColumn?: boolean;\n  /** Окрашивание шапки таблицы в серый цвет */\n  greyHeader?: boolean;\n\n  /** Ширина колонки (заголовка) регулируется через параметр Spacing Between Items в настройках\n   * Auto Layout, при выбранном заголовке. Минимальное значение 12px, для таблиц S и M, и 16px для таблиц L и XL.\n   * При выборе расстояния следует учитывать размеры пространства под иконки сортировки и меню, если они есть\n   * в функционале заголовка.\n   */\n  spacingBetweenItems?: string;\n  /** Колбек на изменение сортировки. Возвращает уникальное имя столбца, к которому применили сортировку,\n   * и порядок сортировки (возрастающий/убывающий или сброс сортировки до первоначального состояния (initial))\n   */\n  onSortChange?: (sortObj: { name: string; sort: 'asc' | 'desc' | 'initial' }) => void;\n  /** Колбек, который срабатывает при изменении ширины столбца.\n   * Колбек не срабатывает, когда пользователь тянет ресайзер влево/вправо (onMouseMove).\n   * Колбек срабатывает в момент, когда пользователь отпускает ресайзер (onMouseUp) и столбец принимает окончательную ширину.\n   */\n  onColumnResize?: (colObj: { name: string; width: string }) => void;\n  /** Рендер функция для отрисовки контента ячейки. Входные параметры - объект строки и название столбца */\n  renderCell?: (row: TableRow, columnName: string) => React.ReactNode;\n  /** Параметр, определяющий максимальное количество строк, которое может занимать заголовок столбца таблицы.\n   * По умолчанию заголовок занимает не более одной строки\n   */\n  headerLineClamp?: number;\n  /** Параметр, определяющий максимальное количество строк, которое может занимать дополнительный текст заголовка столбца таблицы.\n   * По умолчанию дополнительный текст занимает не более одной строки\n   */\n  headerExtraLineClamp?: number;\n  /** Отображение разделителя для последней колонки. По умолчанию разделитель не отображается */\n  showDividerForLastColumn?: boolean;\n  /** Отключение возможности ресайза колонок. По умолчанию эта возможность включена */\n  disableColumnResize?: boolean;\n  /** Отображение серой линии подчеркивания для последней строки. По умолчанию линия отображается */\n  showLastRowUnderline?: boolean;\n  /** Включение виртуального скролла для тела таблицы.\n   * У таблицы обязательно должна быть задана высота, тогда тело таблицы растянется по высоте и подстроится под высоту таблицы.\n   */\n  virtualScroll?: {\n    /** Фиксированная высота строки, для правильного функционирования виртуального скролла\n     * все строки должны быть одной фиксированной высоты\n     */\n    fixedRowHeight: number;\n  };\n}\n\nexport const Table: React.FC<TableProps> = ({\n  columnList,\n  rowList,\n  displayRowSelectionColumn = false,\n  displayRowExpansionColumn = false,\n  headerCheckboxChecked = false,\n  headerCheckboxIndeterminate = false,\n  onHeaderSelectionChange,\n  onRowSelectionChange,\n  onRowExpansionChange,\n  onRowClick,\n  onRowDoubleClick,\n  onSortChange,\n  onColumnResize,\n  renderCell,\n  dimension = 'm',\n  greyHeader = false,\n  spacingBetweenItems,\n  headerLineClamp = 1,\n  headerExtraLineClamp = 1,\n  showDividerForLastColumn = false,\n  disableColumnResize = false,\n  showLastRowUnderline = true,\n  virtualScroll,\n  ...props\n}) => {\n  const checkboxDimension = dimension === 's' || dimension === 'm' ? 's' : 'm';\n  const iconSize = dimension === 's' || dimension === 'm' ? 16 : 20;\n  const defaultSpacer = dimension === 'l' || dimension === 'xl' ? '16px' : '12px';\n  const spacer = spacingBetweenItems || defaultSpacer;\n\n  const [cols, setColumns] = React.useState([...columnList]);\n  const [sort, setSort] = React.useState({} as any);\n  const [verticalScroll, setVerticalScroll] = React.useState(false);\n  const [resizerState, updateResizerState] = React.useState({} as any);\n  const [tableWidth, setTableWidth] = React.useState(0);\n  const [bodyHeight, setBodyHeight] = React.useState(0);\n\n  const stickyColumns = [...cols].filter((col) => col.sticky);\n\n  const tableRef = React.useRef<HTMLDivElement>(null);\n  const headerRef = React.useRef<HTMLDivElement>(null);\n  const scrollBodyRef = React.useRef<HTMLDivElement>(null);\n\n  // Счетчик смены сортировки для столбца. При третьем нажатии на столбец сортировка должна отменяться\n  const sortedCol = React.useRef<{ name: string; count: number }>({ name: '', count: 0 });\n\n  const scrollHeader = (scrollLeft: number) => {\n    if (headerRef.current) headerRef.current.scrollLeft = scrollLeft;\n  };\n\n  const setShadow = (scrollLeft: number) => {\n    if (tableRef.current) {\n      const initial = tableRef.current.getAttribute('data-shadow');\n      if (scrollLeft === 0) {\n        if (initial !== 'false') tableRef.current.setAttribute('data-shadow', 'false');\n      } else {\n        if (initial !== 'true') tableRef.current.setAttribute('data-shadow', 'true');\n      }\n    }\n  };\n\n  const handleScroll = (e: any) => {\n    if (e.target === scrollBodyRef.current) {\n      requestAnimationFrame(function () {\n        scrollHeader(e.target.scrollLeft);\n      });\n    }\n    if (stickyColumns.length > 0 || displayRowSelectionColumn || displayRowExpansionColumn) {\n      requestAnimationFrame(function () {\n        setShadow(e.target.scrollLeft);\n      });\n    }\n  };\n\n  React.useLayoutEffect(() => {\n    if (tableRef.current) {\n      const newCols = [...columnList].map((col) => {\n        return {\n          ...col,\n          width: replaceWidthToNumber(col.width),\n          resizerWidth: replaceWidthToNumber(col.width),\n        };\n      });\n      setColumns(newCols);\n      updateResizerState({});\n    }\n  }, [tableRef.current, columnList]);\n\n  React.useLayoutEffect(() => {\n    const body = scrollBodyRef.current;\n    if (body) {\n      const observer = observeRect(body, (rect: any) => {\n        // есть вертикальный скролл\n        if (body.scrollHeight > body.offsetHeight) {\n          setVerticalScroll(true);\n        } else {\n          setVerticalScroll(false);\n        }\n        setTableWidth(rect.width);\n        setBodyHeight(rect.height);\n      });\n      observer.observe();\n      return () => {\n        observer.unobserve();\n      };\n    }\n  }, [scrollBodyRef.current]);\n\n  const replaceWidthToNumber = React.useCallback(\n    (width?: string | number): number => {\n      const hasNumberWidth = typeof width === 'number';\n      const hasPercentWidth = typeof width === 'string' && width.includes('%');\n      const hasPixelWidth = typeof width === 'string' && width.includes('px');\n\n      if (hasPercentWidth && tableRef?.current) {\n        const maxWidth = tableRef?.current?.clientWidth;\n        return Math.round((parseInt(width) * (maxWidth || 1)) / 100);\n      }\n      if (hasNumberWidth) return width;\n      if (hasPixelWidth) return parseInt(width);\n      return DEFAULT_COLUMN_WIDTH;\n    },\n    [tableRef.current],\n  );\n\n  React.useLayoutEffect(() => {\n    const defaultSort = [...columnList].reduce((sortObj, { name, defaultSort }) => {\n      if (defaultSort) {\n        onSortChange?.({ name, sort: defaultSort });\n        sortedCol.current = { name, count: 1 };\n      }\n      sortObj[name] = defaultSort || 'initial';\n      return sortObj;\n    }, {} as Record<any, any>);\n    setSort(defaultSort);\n  }, [columnList]);\n\n  React.useLayoutEffect(() => {\n    const scrollBody = scrollBodyRef.current;\n    if (scrollBody) {\n      scrollBody.addEventListener('scroll', handleScroll);\n      return () => scrollBody.removeEventListener('scroll', handleScroll);\n    }\n  }, [scrollBodyRef.current]);\n\n  function handleRowClick(rowId: RowId) {\n    onRowClick?.(rowId);\n  }\n\n  function handleRowDoubleClick(rowId: RowId) {\n    onRowDoubleClick?.(rowId);\n  }\n\n  function handleCheckboxChange(id: RowId) {\n    const idsMap = rowList.reduce((ids: IdSelectionStatusMap, row) => {\n      const value = row.id === id ? !row.selected : !!row.selected;\n      ids[row.id] = value;\n      return ids;\n    }, {});\n    onRowSelectionChange?.(idsMap);\n  }\n  function handleCheckboxClick(e: React.MouseEvent<HTMLElement>) {\n    // клик по чекбоксу не должен вызывать событие клика по строке\n    e.stopPropagation();\n  }\n\n  function handleExpansionChange(id: RowId) {\n    const idsMap = rowList.reduce((ids: IdSelectionStatusMap, row) => {\n      const value = row.id === id ? !row.expanded : !!row.expanded;\n      ids[row.id] = value;\n      return ids;\n    }, {});\n    onRowExpansionChange?.(idsMap);\n  }\n\n  const isSelected = (row: { selected?: boolean }) => row.selected;\n  const allRowsChecked = rowList.every(isSelected);\n  const someRowsChecked = rowList.some(isSelected);\n\n  function handleHeaderCheckboxChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const toRemove = rowList.reduce((ids: IdSelectionStatusMap, row) => {\n      ids[row.id] = !someRowsChecked;\n      return ids;\n    }, {});\n    onRowSelectionChange?.(toRemove);\n    onHeaderSelectionChange?.(e.target.checked);\n  }\n\n  function handleResizeChange({ name, width, mouseUp }: { name: string; width: number; mouseUp: boolean }) {\n    if (mouseUp) {\n      onColumnResize?.({ name, width: width + 'px' });\n    }\n    const newColumns = cols.map((column) =>\n      column.name === name\n        ? {\n            ...column,\n            width: width > DEFAULT_COLUMN_WIDTH ? width : DEFAULT_COLUMN_WIDTH,\n          }\n        : column,\n    );\n    setColumns(newColumns);\n  }\n\n  const handleSort = (name: string) => {\n    let newSort = sort[name] === 'asc' ? 'desc' : 'asc';\n\n    // нажатие на столбец, у которого уже включена сортировка\n    if (sortedCol.current.name === name) {\n      // если уже дважды нажали, отключаем сортировку\n      if (sortedCol.current.count === 2) {\n        newSort = 'initial';\n        sortedCol.current = { name: '', count: 0 };\n      } else {\n        sortedCol.current = { name, count: 2 };\n      }\n    }\n    // нажатие на столбец с выключенной сортировкой\n    else {\n      sortedCol.current = { name, count: 1 };\n    }\n    const toRemove = cols.reduce((sortObj, col) => {\n      sortObj[col.name] = 'initial';\n      return sortObj;\n    }, {} as Record<any, any>);\n    setSort({ ...toRemove, [name]: newSort });\n\n    onSortChange?.({ name, sort: newSort as any });\n  };\n\n  const renderHeaderCell = (\n    {\n      name,\n      title,\n      extraText,\n      width = DEFAULT_COLUMN_WIDTH,\n      resizerWidth,\n      cellAlign = 'left',\n      sortable = false,\n      sticky = false,\n      renderFilter,\n      renderFilterIcon,\n      onFilterMenuClickOutside,\n      onFilterMenuClose,\n      onFilterMenuOpen,\n    }: ColumnWithResizerWidth,\n    index: number,\n  ) => {\n    const cellRef = React.useRef(null);\n    return (\n      <HeaderCell\n        key={`head_${name}`}\n        style={{ width: width, minWidth: width }}\n        data-cellalign={cellAlign}\n        data-sort={String(sort[name] || 'initial')}\n        data-sticky={sticky}\n        className=\"th\"\n        ref={cellRef}\n      >\n        <HeaderCellContent>\n          <HeaderCellTitle onClick={sortable ? () => handleSort(name) : undefined}>\n            <TitleContent sortable={sortable}>\n              <Title lineClamp={headerLineClamp}>{title}</Title>\n              {extraText && <ExtraText lineClamp={headerExtraLineClamp}>{extraText}</ExtraText>}\n            </TitleContent>\n            {sortable && <SortIcon width={iconSize} height={iconSize} />}\n          </HeaderCellTitle>\n          <HeaderCellSpacer width={renderFilter ? spacer : `${parseInt(spacer) - parseInt(defaultSpacer)}px`} />\n          {renderFilter && (\n            <Filter\n              dimension={dimension}\n              renderFilter={renderFilter}\n              renderFilterIcon={renderFilterIcon}\n              onFilterMenuClickOutside={onFilterMenuClickOutside}\n              onFilterMenuOpen={onFilterMenuOpen}\n              onFilterMenuClose={onFilterMenuClose}\n              cellAlign={cellAlign}\n              targetRef={cellRef}\n            />\n          )}\n        </HeaderCellContent>\n        {index < cols.length - 1 && (\n          <RowWidthResizer\n            name={name}\n            width={width ? resizerWidth : DEFAULT_COLUMN_WIDTH}\n            onChange={handleResizeChange}\n            disabled={disableColumnResize}\n            resizerState={resizerState}\n          />\n        )}\n        {index === cols.length - 1 && showDividerForLastColumn && (\n          <RowWidthResizer\n            name={name}\n            width={width ? resizerWidth : DEFAULT_COLUMN_WIDTH}\n            onChange={handleResizeChange}\n            disabled={disableColumnResize}\n            resizerState={resizerState}\n          />\n        )}\n      </HeaderCell>\n    );\n  };\n\n  const renderBodyCell = (row: TableRow, col: Column) => {\n    return (\n      <Cell key={`${row.id}_${col.name}`} style={{ width: col.width || DEFAULT_COLUMN_WIDTH }} className=\"td\">\n        {renderCell ? (\n          renderCell(row, col.name)\n        ) : (\n          <CellTextContent cellAlign={col.cellAlign}>{row[col.name]}</CellTextContent>\n        )}\n      </Cell>\n    );\n  };\n\n  const renderRow = (row: TableRow, index: number) => {\n    return (\n      <Row\n        onClick={() => handleRowClick(row.id)}\n        onDoubleClick={() => handleRowDoubleClick(row.id)}\n        key={`row_${row.id}`}\n        underline={(index === rowList.length - 1 && showLastRowUnderline) || index < rowList.length - 1}\n        data-expanded={row.expanded}\n        data-selected={!!row.selected}\n        data-disabled={!!row.disabled}\n        disabled={!!row.disabled}\n        data-error={!!row.error}\n        data-success={!!row.success}\n        className={`tr ${row.className}`}\n      >\n        <SimpleRow className=\"tr-simple\">\n          {(displayRowSelectionColumn || displayRowExpansionColumn || stickyColumns.length > 0) && (\n            <StickyWrapper>\n              {displayRowExpansionColumn && (\n                <ExpandCell>\n                  {row.expandedRowRender && <ExpandIcon onClick={() => handleExpansionChange(row.id)} />}\n                </ExpandCell>\n              )}\n              {displayRowSelectionColumn && (\n                <CheckboxCell className=\"td_checkbox\">\n                  <Checkbox\n                    disabled={row.disabled}\n                    dimension={checkboxDimension}\n                    checked={!!row.selected}\n                    onChange={() => handleCheckboxChange(row.id)}\n                    onClick={handleCheckboxClick}\n                  />\n                </CheckboxCell>\n              )}\n              {stickyColumns.length > 0 && stickyColumns.map((col) => renderBodyCell(row, col))}\n            </StickyWrapper>\n          )}\n          {cols.map((col) => (col.sticky ? null : renderBodyCell(row, col)))}\n          <Filler />\n        </SimpleRow>\n        {row.overflowMenuRender && <OverflowMenu tableWidth={tableWidth} row={row} />}\n        {row.expandedRowRender && (\n          <ExpandedRow opened={row.expanded} contentMaxHeight=\"90vh\" className=\"tr-expanded\">\n            <ExpandedRowContent>{row.expandedRowRender(row)}</ExpandedRowContent>\n          </ExpandedRow>\n        )}\n      </Row>\n    );\n  };\n\n  return (\n    <TableContainer\n      ref={tableRef}\n      data-dimension={dimension}\n      data-shadow={false}\n      data-verticalscroll={verticalScroll}\n      {...props}\n      className={`table ${props.className}`}\n    >\n      <HeaderWrapper scrollbar={SCROLLBAR} greyHeader={greyHeader} data-greyheader={greyHeader}>\n        <Header ref={headerRef} className=\"tr\" data-underline={true}>\n          {(displayRowSelectionColumn || displayRowExpansionColumn || stickyColumns.length > 0) && (\n            <StickyWrapper>\n              {displayRowExpansionColumn && <ExpandCell />}\n              {displayRowSelectionColumn && (\n                <CheckboxCell className=\"th_checkbox\">\n                  <Checkbox\n                    dimension={checkboxDimension}\n                    checked={allRowsChecked || someRowsChecked || headerCheckboxChecked}\n                    indeterminate={(someRowsChecked && !allRowsChecked) || headerCheckboxIndeterminate}\n                    onChange={handleHeaderCheckboxChange}\n                  />\n                </CheckboxCell>\n              )}\n              {stickyColumns.length > 0 &&\n                stickyColumns.map((col, index) => renderHeaderCell(col as ColumnWithResizerWidth, index))}\n            </StickyWrapper>\n          )}\n          {cols.map((col, index) => (col.sticky ? null : renderHeaderCell(col as ColumnWithResizerWidth, index)))}\n          <Filler />\n        </Header>\n      </HeaderWrapper>\n      {virtualScroll ? (\n        <VirtualBody\n          height={bodyHeight}\n          rowList={rowList}\n          childHeight={virtualScroll.fixedRowHeight}\n          renderRow={renderRow}\n          ref={scrollBodyRef}\n          className=\"tbody\"\n        />\n      ) : (\n        <ScrollTableBody ref={scrollBodyRef} className=\"tbody\">\n          {rowList.map((row, index) => renderRow(row, index))}\n        </ScrollTableBody>\n      )}\n    </TableContainer>\n  );\n};\n\nTable.displayName = 'Table';\n","import React from 'react';\n\nimport VTBGroupUI_Medium_eot from '@openvtb/fonts/VTBGroupUI-Medium/VTBGroupUI-Medium.eot';\nimport VTBGroupUI_Medium_woff2 from '@openvtb/fonts/VTBGroupUI-Medium/VTBGroupUI-Medium.woff2';\nimport VTBGroupUI_Medium_woff from '@openvtb/fonts/VTBGroupUI-Medium/VTBGroupUI-Medium.woff';\nimport VTBGroupUI_Medium_ttf from '@openvtb/fonts/VTBGroupUI-Medium/VTBGroupUI-Medium.ttf';\nimport VTBGroupUI_Medium_svg from '@openvtb/fonts/VTBGroupUI-Medium/VTBGroupUI-Medium.svg';\nimport VTBGroupUI_Regular_eot from '@openvtb/fonts/VTBGroupUI-Regular/VTBGroupUI-Regular.eot';\nimport VTBGroupUI_Regular_woff2 from '@openvtb/fonts/VTBGroupUI-Regular/VTBGroupUI-Regular.woff2';\nimport VTBGroupUI_Regular_woff from '@openvtb/fonts/VTBGroupUI-Regular/VTBGroupUI-Regular.woff';\nimport VTBGroupUI_Regular_ttf from '@openvtb/fonts/VTBGroupUI-Regular/VTBGroupUI-Regular.ttf';\nimport VTBGroupUI_Regular_svg from '@openvtb/fonts/VTBGroupUI-Regular/VTBGroupUI-Regular.svg';\n\n// language=css\nconst cssText = `\n    @font-face {\n        font-family: 'VTB Group UI';\n        src: url('${VTBGroupUI_Medium_eot}');\n        src: url('${VTBGroupUI_Medium_eot}?#iefix') format('embedded-opentype'),\n          url('${VTBGroupUI_Medium_woff2}') format('woff2'),\n          url('${VTBGroupUI_Medium_woff}') format('woff'),\n          url('${VTBGroupUI_Medium_ttf}') format('truetype'),\n          url('${VTBGroupUI_Medium_svg}#VTBGroupUIWeb-Book') format('svg');\n        font-display: swap;\n        font-weight: 500;\n        font-style: normal;\n        font-feature-settings: 'tnum' on, 'lnum' on, 'cv03' on, 'cv04' on;\n    }\n\n    @font-face {\n        font-family: 'VTB Group UI';\n        src: url('${VTBGroupUI_Regular_eot}');\n        src: url('${VTBGroupUI_Regular_eot}?#iefix') format('embedded-opentype'),\n          url('${VTBGroupUI_Regular_woff2}') format('woff2'),\n          url('${VTBGroupUI_Regular_woff}') format('woff'),\n          url('${VTBGroupUI_Regular_ttf}') format('truetype'),\n          url('${VTBGroupUI_Regular_svg}#VTBGroupUIWeb-Book') format('svg');\n        font-display: swap;\n        font-weight: normal;\n        font-style: normal;\n        font-feature-settings: 'tnum' on, 'lnum' on, 'cv03' on, 'cv04' on;\n    }\n`;\n\nexport function FontsVTBGroup(props: React.StyleHTMLAttributes<HTMLStyleElement>): JSX.Element {\n  return <style type=\"text/css\" children={cssText} {...props} />;\n}\n"],"names":["BASIC","BACKGROUND","TEXT","STATUS","SPECIAL","SPECIAL_INVERT","COLOR","shadow","color","LINE_HEIGHT","typography","css","styled","moveFocus","nextItem","previousItem","Chevron","ChevronDownOutline","ItemContent","React","YEAR_WIDTH","ICON_SIZE","ButtonComponent","ChevronLeftOutline","ChevronRightOutline","Button","hoverMixin","Month","createPortal","FakeTarget","Portal","AnchorWrapper","getScrollbarSize","POSITION_MAPPER","Panel","Calendar","useState","Input","Label","Hint","styleTextMixin","getIcon","SpinnerS","SpinnerM","SpinnerXL","SpinnerL","sizes","keyframes","ButtonContent","StyledButton","StyledSpinner","BORDER_RADIUS","useRef","width","height","CheckSVG","IndeterminateSVG","Container","ExtrasContainer","ErrorStatusSvg","SuccessStatusSvg","EyeCloseOutlineSvg","EyeOutlineSvg","ClearIcon","CloseOutlineSvg","iconSizeValue","horizontalPaddingValue","extraPadding","disabledColors","colorsBorderAndBackground","ieFixes","IconPanel","stopEvent","defaultHandleInput","MASK_VALUE","splice","Dropdown","DATE_MASK_VALUE","DropdownComponent","CalendarBase","Icon","CalendarSVG","Highlight","DropComponent","SearchOutlineSVG","StyledDropDown","heights","paddings","CloseOutline","CloseButton","CounterChip","SelectWrapper","StyledCheckbox","Option","Text","isValidTime","TimeSVG","calcValueByPos","TRANSITION_ANIMATION","Wrapper","TrackWrapper","Track","DefaultTrack","FilledTrack","Thumb","ThumbCircle","MinusOutline","PlusOutline","Content","Slider","useCallback","SliderComponent","JpgSolid","FilePDFSolid","FilePPTSolid","FileXLSSolid","FileWordSolid","DocsSolid","IconWrapper","Title","Close","AttachFileOutline","disabledStyles","EditSolid","CheckClearOutline","metadata","styleText","SelectComponent","Placeholder","Select","BaseSelect","Suggest","Children","isValidElement","cloneElement","Fragment","StyledDropdown","Item","DropDownItem","Circle","backGroundColorMixin","PseudoIcon","MenuButton","focusStyle","MoreHorizontalOutline","OverflowMenu","Progress","Header","ReactDOM","ICON_SIZE_M","InverseTooltip","useContext","ThemeContext","ThemeProvider","Separator","InfoIcon","ErrorIcon","SuccessIcon","WarningIcon","StepSvg","StepError","StepCompleted","StepDefault","ChevronLeft","ChevronRight","SecondaryButton","Menu","TreeItem","TitleContent","ArrowUpOutline","VTBGroupUI_Medium_eot","VTBGroupUI_Medium_woff2","VTBGroupUI_Medium_woff","VTBGroupUI_Medium_ttf","VTBGroupUI_Medium_svg","VTBGroupUI_Regular_eot","VTBGroupUI_Regular_woff2","VTBGroupUI_Regular_woff","VTBGroupUI_Regular_ttf","VTBGroupUI_Regular_svg"],"mappings":"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CH,IAEb,CAAC,EAAO,SACL,GAAa,IAAM,GACf,kBAGJ,EAAe,IAAM,GACjB,IACJ,EAAS,qBACC,EAAS,QAAQ,SACjB,EAAS,QAAQ,SAG3B,EAAc,IAAM,GAChB,IACJ,EAAS,aACK,EAAS,QAAS,CAAE,MAAO,EAAS,mDAKrDgF,GAAD,CACE,iBAAgB,GAAG,IAAY,GAAQ,IAAc,KAAO,QAAU,KACtE,gBAAe,EACf,SAAU,GAET,EACC,CAAC,mDAEI,GAAD,CACE,IAAK,GAAU,EAAK,GACpB,UAAS,GACT,WACA,YACA,WACI,oBAEL,GAAD,CACE,WAAW,YACX,YACA,gBAAe,GACf,SAAU,EAAM,SAAW,QAC3B,QAAS,mBAER,GAAD,CAAW,OAAQ,EAAU,MAAO,qBAErC,GAAD,CAAY,WAAW,YAAY,YAAsB,gBAAe,GAAC,QAAS,mBAC/E,GAAD,CAAW,OAAQ,EAAU,MAAO,sDAMvCL,GAAD,CAAM,QAAS,GAAa,mBAC3B,GAAD,CAAU,OAAQ,EAAU,MAAO,EAAU,QAAS,QAQlE,GAAS,YAAc,gBClOV,IAAqB,CAChC,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAwNW,GAA0D,CACrE,IAAK,cACL,IAAK,eACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,oBACL,IAAK,eACL,IAAK,YACL,IAAK,UACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,aACL,IAAK,UACL,IAAK,UACL,IAAK,aACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,SACL,IAAK,QACL,IAAK,UACL,IAAK,SACL,IAAK,UACL,IAAK,uBACL,IAAK,WACL,IAAK,SACL,IAAK,uBACL,IAAK,SACL,IAAK,WACL,IAAK,cACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,gBACL,IAAK,yBACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,UACL,IAAK,0BACL,IAAK,gBACL,IAAK,YACL,IAAK,cACL,IAAK,UACL,IAAK,OACL,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,WACL,IAAK,oBACL,IAAK,UACL,IAAK,QACL,IAAK,aACL,IAAK,mBACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,kBACL,IAAK,OACL,IAAK,UACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,YACL,IAAK,eACL,IAAK,SACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,eACL,IAAK,SACL,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,YACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,SACL,IAAK,QACL,IAAK,UACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,aACL,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,SACL,IAAK,aACL,IAAK,OACL,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,gBACL,IAAK,YACL,IAAK,aACL,IAAK,QACL,IAAK,YACL,IAAK,aACL,IAAK,SACL,IAAK,WACL,IAAK,WACL,IAAK,OACL,IAAK,QACL,IAAK,aACL,IAAK,YACL,IAAK,SACL,IAAK,aACL,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,aACL,IAAK,aACL,IAAK,UACL,IAAK,aACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,cACL,IAAK,6BACL,IAAK,aACL,IAAK,YACL,IAAK,QACL,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,iBACL,IAAK,WACL,IAAK,OACL,IAAK,cACL,IAAK,SACL,IAAK,kBACL,IAAK,WACL,IAAK,aACL,IAAK,QACL,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,cACL,IAAK,qBACL,IAAK,aACL,IAAK,+BACL,IAAK,QACL,IAAK,YACL,IAAK,qBACL,IAAK,cACL,IAAK,UACL,IAAK,SACL,IAAK,aACL,IAAK,cACL,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,iBACL,IAAK,UACL,IAAK,cACL,IAAK,QACL,IAAK,WACL,IAAK,QACL,IAAK,WACL,IAAK,YACL,IAAK,SACL,IAAK,cACL,IAAK,QACL,IAAK,SACL,IAAK,aACL,IAAK,WACL,IAAK,WACL,IAAK,aACL,IAAK,OACL,IAAK,QACL,IAAK,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,OACN,IAAK,CAAC,OACN,IAAK,CAAC,UACN,IAAK,CAAC,QACN,IAAK,CAAC,YACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,OACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,YACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,UACN,IAAK,CAAC,OACN,IAAK,CAAC,YACN,IAAK,CAAC,QACN,IAAK,CAAC,MACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,UACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC,OACN,IAAK,CAAC,OACN,IAAK,CAAC,OACN,IAAK,CAAC,QACN,IAAK,CAAC,QACN,IAAK,CAAC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"}