import React from 'react';
import { Route as BaseRoute, RouteProps } from 'react-router-dom';
import { resolvePath } from './utils/resolvePath';
import { useNavigation } from './hooks/useNavigation';

export const Route: React.FC<Omit<RouteProps, 'path'> & { path?: any }> = props => {

    const { path, ...rest } = props;
    const { routes: routesConfig } = useNavigation();

    const resolvedPath = resolvePath(routesConfig, path) as string | Array<string>;

    return <BaseRoute path={resolvedPath || undefined} {...rest}/>;

};